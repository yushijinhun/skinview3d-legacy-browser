{"version":3,"sources":["webpack:///./node_modules/core-js/internals/a-function.js","webpack:///./node_modules/core-js/internals/a-possible-prototype.js","webpack:///./node_modules/core-js/internals/add-to-unscopables.js","webpack:///./node_modules/core-js/internals/advance-string-index.js","webpack:///./node_modules/core-js/internals/an-instance.js","webpack:///./node_modules/core-js/internals/an-object.js","webpack:///./node_modules/core-js/internals/array-buffer-native.js","webpack:///./node_modules/core-js/internals/array-buffer-view-core.js","webpack:///./node_modules/core-js/internals/array-buffer.js","webpack:///./node_modules/core-js/internals/array-copy-within.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/internals/array-from.js","webpack:///./node_modules/core-js/internals/array-includes.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/internals/array-last-index-of.js","webpack:///./node_modules/core-js/internals/array-method-has-species-support.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./node_modules/core-js/internals/array-sort.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/call-with-safe-iteration-closing.js","webpack:///./node_modules/core-js/internals/check-correctness-of-iteration.js","webpack:///./node_modules/core-js/internals/classof-raw.js","webpack:///./node_modules/core-js/internals/classof.js","webpack:///./node_modules/core-js/internals/collection-strong.js","webpack:///./node_modules/core-js/internals/collection-weak.js","webpack:///./node_modules/core-js/internals/collection.js","webpack:///./node_modules/core-js/internals/copy-constructor-properties.js","webpack:///./node_modules/core-js/internals/correct-prototype-getter.js","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/internals/create-iterator-constructor.js","webpack:///./node_modules/core-js/internals/create-non-enumerable-property.js","webpack:///./node_modules/core-js/internals/create-property-descriptor.js","webpack:///./node_modules/core-js/internals/create-property.js","webpack:///./node_modules/core-js/internals/define-iterator.js","webpack:///./node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/core-js/internals/descriptors.js","webpack:///./node_modules/core-js/internals/document-create-element.js","webpack:///./node_modules/core-js/internals/dom-iterables.js","webpack:///./node_modules/core-js/internals/engine-ff-version.js","webpack:///./node_modules/core-js/internals/engine-is-browser.js","webpack:///./node_modules/core-js/internals/engine-is-ie-or-edge.js","webpack:///./node_modules/core-js/internals/engine-is-ios.js","webpack:///./node_modules/core-js/internals/engine-is-node.js","webpack:///./node_modules/core-js/internals/engine-is-webos-webkit.js","webpack:///./node_modules/core-js/internals/engine-user-agent.js","webpack:///./node_modules/core-js/internals/engine-v8-version.js","webpack:///./node_modules/core-js/internals/engine-webkit-version.js","webpack:///./node_modules/core-js/internals/enum-bug-keys.js","webpack:///./node_modules/core-js/internals/export.js","webpack:///./node_modules/core-js/internals/fails.js","webpack:///./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/internals/function-bind-context.js","webpack:///./node_modules/core-js/internals/function-bind.js","webpack:///./node_modules/core-js/internals/get-built-in.js","webpack:///./node_modules/core-js/internals/get-iterator-method.js","webpack:///./node_modules/core-js/internals/get-substitution.js","webpack:///./node_modules/core-js/internals/global.js","webpack:///./node_modules/core-js/internals/has.js","webpack:///./node_modules/core-js/internals/hidden-keys.js","webpack:///./node_modules/core-js/internals/host-report-errors.js","webpack:///./node_modules/core-js/internals/html.js","webpack:///./node_modules/core-js/internals/ie8-dom-define.js","webpack:///./node_modules/core-js/internals/ieee754.js","webpack:///./node_modules/core-js/internals/indexed-object.js","webpack:///./node_modules/core-js/internals/inherit-if-required.js","webpack:///./node_modules/core-js/internals/inspect-source.js","webpack:///./node_modules/core-js/internals/internal-metadata.js","webpack:///./node_modules/core-js/internals/internal-state.js","webpack:///./node_modules/core-js/internals/is-array-iterator-method.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/is-forced.js","webpack:///./node_modules/core-js/internals/is-integer.js","webpack:///./node_modules/core-js/internals/is-object.js","webpack:///./node_modules/core-js/internals/is-pure.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/iterate.js","webpack:///./node_modules/core-js/internals/iterator-close.js","webpack:///./node_modules/core-js/internals/iterators-core.js","webpack:///./node_modules/core-js/internals/iterators.js","webpack:///./node_modules/core-js/internals/microtask.js","webpack:///./node_modules/core-js/internals/native-promise-constructor.js","webpack:///./node_modules/core-js/internals/native-symbol.js","webpack:///./node_modules/core-js/internals/native-weak-map.js","webpack:///./node_modules/core-js/internals/new-promise-capability.js","webpack:///./node_modules/core-js/internals/object-assign.js","webpack:///./node_modules/core-js/internals/object-create.js","webpack:///./node_modules/core-js/internals/object-define-properties.js","webpack:///./node_modules/core-js/internals/object-define-property.js","webpack:///./node_modules/core-js/internals/object-get-own-property-descriptor.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/core-js/internals/object-get-own-property-names.js","webpack:///./node_modules/core-js/internals/object-get-own-property-symbols.js","webpack:///./node_modules/core-js/internals/object-get-prototype-of.js","webpack:///./node_modules/core-js/internals/object-keys-internal.js","webpack:///./node_modules/core-js/internals/object-keys.js","webpack:///./node_modules/core-js/internals/object-property-is-enumerable.js","webpack:///./node_modules/core-js/internals/object-set-prototype-of.js","webpack:///./node_modules/core-js/internals/object-to-string.js","webpack:///./node_modules/core-js/internals/own-keys.js","webpack:///./node_modules/core-js/internals/path.js","webpack:///./node_modules/core-js/internals/perform.js","webpack:///./node_modules/core-js/internals/promise-resolve.js","webpack:///./node_modules/core-js/internals/redefine-all.js","webpack:///./node_modules/core-js/internals/redefine.js","webpack:///./node_modules/core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/core-js/internals/regexp-exec.js","webpack:///./node_modules/core-js/internals/regexp-flags.js","webpack:///./node_modules/core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/core-js/internals/regexp-unsupported-dot-all.js","webpack:///./node_modules/core-js/internals/regexp-unsupported-ncg.js","webpack:///./node_modules/core-js/internals/require-object-coercible.js","webpack:///./node_modules/core-js/internals/set-global.js","webpack:///./node_modules/core-js/internals/set-species.js","webpack:///./node_modules/core-js/internals/set-to-string-tag.js","webpack:///./node_modules/core-js/internals/shared-key.js","webpack:///./node_modules/core-js/internals/shared-store.js","webpack:///./node_modules/core-js/internals/shared.js","webpack:///./node_modules/core-js/internals/species-constructor.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./node_modules/core-js/internals/string-multibyte.js","webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./node_modules/core-js/internals/string-trim-forced.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./node_modules/core-js/internals/task.js","webpack:///./node_modules/core-js/internals/to-absolute-index.js","webpack:///./node_modules/core-js/internals/to-index.js","webpack:///./node_modules/core-js/internals/to-indexed-object.js","webpack:///./node_modules/core-js/internals/to-integer.js","webpack:///./node_modules/core-js/internals/to-length.js","webpack:///./node_modules/core-js/internals/to-object.js","webpack:///./node_modules/core-js/internals/to-offset.js","webpack:///./node_modules/core-js/internals/to-positive-integer.js","webpack:///./node_modules/core-js/internals/to-primitive.js","webpack:///./node_modules/core-js/internals/to-string-tag-support.js","webpack:///./node_modules/core-js/internals/typed-array-constructor.js","webpack:///./node_modules/core-js/internals/typed-array-constructors-require-wrappers.js","webpack:///./node_modules/core-js/internals/typed-array-from-species-and-list.js","webpack:///./node_modules/core-js/internals/typed-array-from.js","webpack:///./node_modules/core-js/internals/uid.js","webpack:///./node_modules/core-js/internals/use-symbol-as-uid.js","webpack:///./node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/core-js/internals/well-known-symbol.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/modules/es.array-buffer.slice.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.array.filter.js","webpack:///./node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/core-js/modules/es.array.iterator.js","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.array.slice.js","webpack:///./node_modules/core-js/modules/es.array.sort.js","webpack:///./node_modules/core-js/modules/es.array.splice.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./node_modules/core-js/modules/es.map.js","webpack:///./node_modules/core-js/modules/es.math.log2.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.number.epsilon.js","webpack:///./node_modules/core-js/modules/es.number.is-integer.js","webpack:///./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack:///./node_modules/core-js/modules/es.object.assign.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/core-js/modules/es.object.get-prototype-of.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.object.to-string.js","webpack:///./node_modules/core-js/modules/es.promise.js","webpack:///./node_modules/core-js/modules/es.reflect.construct.js","webpack:///./node_modules/core-js/modules/es.reflect.get.js","webpack:///./node_modules/core-js/modules/es.regexp.exec.js","webpack:///./node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./node_modules/core-js/modules/es.set.js","webpack:///./node_modules/core-js/modules/es.string.iterator.js","webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/core-js/modules/es.string.split.js","webpack:///./node_modules/core-js/modules/es.string.sub.js","webpack:///./node_modules/core-js/modules/es.string.trim.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/core-js/modules/es.typed-array.copy-within.js","webpack:///./node_modules/core-js/modules/es.typed-array.every.js","webpack:///./node_modules/core-js/modules/es.typed-array.fill.js","webpack:///./node_modules/core-js/modules/es.typed-array.filter.js","webpack:///./node_modules/core-js/modules/es.typed-array.find-index.js","webpack:///./node_modules/core-js/modules/es.typed-array.find.js","webpack:///./node_modules/core-js/modules/es.typed-array.float32-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.float64-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.for-each.js","webpack:///./node_modules/core-js/modules/es.typed-array.includes.js","webpack:///./node_modules/core-js/modules/es.typed-array.index-of.js","webpack:///./node_modules/core-js/modules/es.typed-array.int16-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.int32-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.int8-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.iterator.js","webpack:///./node_modules/core-js/modules/es.typed-array.join.js","webpack:///./node_modules/core-js/modules/es.typed-array.last-index-of.js","webpack:///./node_modules/core-js/modules/es.typed-array.map.js","webpack:///./node_modules/core-js/modules/es.typed-array.reduce-right.js","webpack:///./node_modules/core-js/modules/es.typed-array.reduce.js","webpack:///./node_modules/core-js/modules/es.typed-array.reverse.js","webpack:///./node_modules/core-js/modules/es.typed-array.set.js","webpack:///./node_modules/core-js/modules/es.typed-array.slice.js","webpack:///./node_modules/core-js/modules/es.typed-array.some.js","webpack:///./node_modules/core-js/modules/es.typed-array.sort.js","webpack:///./node_modules/core-js/modules/es.typed-array.subarray.js","webpack:///./node_modules/core-js/modules/es.typed-array.to-locale-string.js","webpack:///./node_modules/core-js/modules/es.typed-array.to-string.js","webpack:///./node_modules/core-js/modules/es.typed-array.uint16-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.uint32-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.uint8-array.js","webpack:///./node_modules/core-js/modules/es.typed-array.uint8-clamped-array.js","webpack:///./node_modules/core-js/modules/es.weak-map.js","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/modules/web.dom-collections.iterator.js","webpack:///./node_modules/core-js/modules/web.url.to-json.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/global","webpack:///./node_modules/three/src/math/Vector2.js","webpack:///./node_modules/three/src/math/MathUtils.js","webpack:///./node_modules/three/src/math/Quaternion.js","webpack:///./node_modules/three/src/math/Vector3.js","webpack:///./node_modules/three/src/math/Matrix4.js","webpack:///./node_modules/three/src/core/EventDispatcher.js","webpack:///./node_modules/three/src/math/Euler.js","webpack:///./node_modules/three/src/core/Layers.js","webpack:///./node_modules/three/src/math/Matrix3.js","webpack:///./node_modules/three/src/core/Object3D.js","webpack:///./node_modules/three/src/objects/Group.js","webpack:///./node_modules/three/src/constants.js","webpack:///./node_modules/three/src/materials/Material.js","webpack:///./node_modules/three/src/math/Color.js","webpack:///./node_modules/three/src/materials/MeshBasicMaterial.js","webpack:///./node_modules/three/src/math/Box3.js","webpack:///./node_modules/three/src/math/Vector4.js","webpack:///./node_modules/three/src/core/BufferAttribute.js","webpack:///./node_modules/three/src/math/Sphere.js","webpack:///./node_modules/three/src/utils.js","webpack:///./node_modules/three/src/core/BufferGeometry.js","webpack:///./node_modules/three/src/geometries/BoxGeometry.js","webpack:///./node_modules/three/src/math/Ray.js","webpack:///./node_modules/three/src/math/Plane.js","webpack:///./node_modules/three/src/math/Triangle.js","webpack:///./node_modules/three/src/objects/Mesh.js","webpack:///../src/model.ts","webpack:///./node_modules/three/src/extras/ImageUtils.js","webpack:///../src/types.ts","webpack:///../src/process.ts","webpack:///../src/load-image.ts","webpack:///./node_modules/three/src/textures/Texture.js","webpack:///./node_modules/three/src/scenes/Scene.js","webpack:///./node_modules/three/src/cameras/Camera.js","webpack:///./node_modules/three/src/cameras/PerspectiveCamera.js","webpack:///./node_modules/three/src/textures/DataTexture.js","webpack:///./node_modules/three/src/math/Frustum.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLAnimation.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLAttributes.js","webpack:///./node_modules/three/src/geometries/PlaneGeometry.js","webpack:///./node_modules/three/src/renderers/shaders/UniformsUtils.js","webpack:///./node_modules/three/src/materials/ShaderMaterial.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/default_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/default_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/alphamap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/alphamap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/alphatest_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/aomap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/aomap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/begin_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/beginnormal_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/bsdfs.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/bumpmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clipping_planes_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clipping_planes_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clipping_planes_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clipping_planes_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/color_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/color_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/color_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/color_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/common.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/cube_uv_reflection_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/defaultnormal_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/displacementmap_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/displacementmap_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/emissivemap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/emissivemap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/encodings_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/encodings_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/envmap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/envmap_common_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/envmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/envmap_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/envmap_physical_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/envmap_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/fog_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/fog_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/fog_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/fog_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/gradientmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lightmap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lightmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_lambert_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_pars_begin.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_toon_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_toon_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_phong_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_phong_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_physical_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_physical_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_fragment_begin.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_fragment_maps.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/lights_fragment_end.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/logdepthbuf_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/logdepthbuf_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/logdepthbuf_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/logdepthbuf_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/map_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/map_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/map_particle_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/map_particle_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/metalnessmap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/metalnessmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/morphnormal_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/morphtarget_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/morphtarget_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/normal_fragment_begin.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/normal_fragment_maps.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/normalmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clearcoat_normal_fragment_begin.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clearcoat_normal_fragment_maps.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/clearcoat_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/packing.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/premultiplied_alpha_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/project_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/dithering_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/dithering_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/roughnessmap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/roughnessmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/shadowmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/shadowmap_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/shadowmap_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/shadowmask_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/skinbase_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/skinning_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/skinning_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/skinnormal_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/specularmap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/specularmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/tonemapping_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/tonemapping_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/transmissionmap_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/transmissionmap_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/uv_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/uv_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/uv_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/uv2_pars_fragment.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/uv2_pars_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/uv2_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderChunk/worldpos_vertex.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/background_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/background_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/cube_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/cube_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/depth_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/depth_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/distanceRGBA_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/distanceRGBA_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/equirect_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/equirect_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/linedashed_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/linedashed_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshbasic_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshbasic_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshlambert_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshlambert_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshmatcap_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshmatcap_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshtoon_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshtoon_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshphong_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshphong_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshphysical_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/meshphysical_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/normal_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/normal_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/points_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/points_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/shadow_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/shadow_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/sprite_frag.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/sprite_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/UniformsLib.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLBackground.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLBindingStates.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLBufferRenderer.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLCapabilities.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLClipping.js","webpack:///./node_modules/three/src/renderers/WebGLRenderTarget.js","webpack:///./node_modules/three/src/cameras/CubeCamera.js","webpack:///./node_modules/three/src/textures/CubeTexture.js","webpack:///./node_modules/three/src/renderers/WebGLCubeRenderTarget.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLCubeMaps.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLExtensions.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLGeometries.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLIndexedBufferRenderer.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLInfo.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLMorphtargets.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLObjects.js","webpack:///./node_modules/three/src/textures/DataTexture2DArray.js","webpack:///./node_modules/three/src/textures/DataTexture3D.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLUniforms.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLShader.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLProgram.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLPrograms.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLProperties.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLRenderLists.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLLights.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLRenderStates.js","webpack:///./node_modules/three/src/materials/MeshDepthMaterial.js","webpack:///./node_modules/three/src/materials/MeshDistanceMaterial.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLShadowMap.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/vsm_vert.glsl.js","webpack:///./node_modules/three/src/renderers/shaders/ShaderLib/vsm_frag.glsl.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLState.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLTextures.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLUtils.js","webpack:///./node_modules/three/src/cameras/ArrayCamera.js","webpack:///./node_modules/three/src/renderers/webxr/WebXRController.js","webpack:///./node_modules/three/src/renderers/webxr/WebXRManager.js","webpack:///./node_modules/three/src/renderers/webgl/WebGLMaterials.js","webpack:///./node_modules/three/src/renderers/WebGLRenderer.js","webpack:///./node_modules/three/src/core/Clock.js","webpack:///../src/animation.ts","webpack:///../src/viewer.ts","webpack:///./node_modules/three/src/math/Spherical.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/src/cameras/OrthographicCamera.js","webpack:///./node_modules/three/examples/jsm/shaders/CopyShader.js","webpack:///./node_modules/three/examples/jsm/postprocessing/Pass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/ShaderPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/MaskPass.js","webpack:///./node_modules/three/examples/jsm/postprocessing/EffectComposer.js","webpack:///./node_modules/three/examples/jsm/postprocessing/RenderPass.js","webpack:///./node_modules/three/examples/jsm/shaders/FXAAShader.js","webpack:///../src/fxaa.ts","webpack:///./src/index.js","webpack:///../src/orbit_controls.ts"],"names":["module","exports","it","TypeError","String","isObject","wellKnownSymbol","create","definePropertyModule","UNSCOPABLES","ArrayPrototype","Array","prototype","undefined","f","configurable","value","key","charAt","S","index","unicode","length","Constructor","name","ArrayBuffer","DataView","NAME","NATIVE_ARRAY_BUFFER","DESCRIPTORS","global","has","classof","createNonEnumerableProperty","redefine","defineProperty","getPrototypeOf","setPrototypeOf","uid","Int8Array","Int8ArrayPrototype","Uint8ClampedArray","Uint8ClampedArrayPrototype","TypedArray","TypedArrayPrototype","ObjectPrototype","Object","isPrototypeOf","TO_STRING_TAG","TYPED_ARRAY_TAG","NATIVE_ARRAY_BUFFER_VIEWS","opera","TYPED_ARRAY_TAG_REQIRED","TypedArrayConstructorsList","Uint8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigIntArrayConstructorsList","BigInt64Array","BigUint64Array","isTypedArray","klass","Function","get","this","aTypedArray","aTypedArrayConstructor","C","call","ARRAY","TypedArrayConstructor","exportTypedArrayMethod","KEY","property","forced","error","exportTypedArrayStaticMethod","isView","redefineAll","fails","anInstance","toInteger","toLength","toIndex","IEEE754","getOwnPropertyNames","arrayFill","setToStringTag","InternalStateModule","getInternalState","setInternalState","set","ARRAY_BUFFER","DATA_VIEW","WRONG_INDEX","NativeArrayBuffer","$ArrayBuffer","$DataView","$DataViewPrototype","RangeError","packIEEE754","pack","unpackIEEE754","unpack","packInt8","number","packInt16","packInt32","unpackInt32","buffer","packFloat32","packFloat64","addGetter","view","count","isLittleEndian","intIndex","store","byteLength","bytes","start","byteOffset","slice","reverse","conversion","i","NaN","ArrayBufferPrototype","keys","j","constructor","testView","$setInt8","setInt8","getInt8","setUint8","unsafe","bufferLength","offset","getUint8","getInt16","arguments","getUint16","getInt32","getUint32","getFloat32","getFloat64","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","toObject","toAbsoluteIndex","min","Math","copyWithin","target","O","len","to","from","end","inc","argumentsLength","endPos","$forEach","STRICT_METHOD","arrayMethodIsStrict","forEach","callbackfn","bind","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","result","step","iterator","next","mapfn","mapping","iteratorMethod","done","toIndexedObject","createMethod","IS_INCLUDES","$this","el","fromIndex","includes","indexOf","IndexedObject","arraySpeciesCreate","push","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","IS_FILTER_OUT","NO_HOLES","that","specificCreate","self","boundFunction","map","filter","some","every","find","findIndex","filterOut","$lastIndexOf","lastIndexOf","NEGATIVE_ZERO","FORCED","searchElement","apply","V8_VERSION","SPECIES","METHOD_NAME","array","foo","Boolean","argument","method","aFunction","IS_RIGHT","memo","left","right","floor","mergeSort","comparefn","middle","insertionSort","merge","element","llength","rlength","lindex","rindex","isArray","originalArray","anObject","iteratorClose","fn","ENTRIES","ITERATOR","SAFE_CLOSING","called","iteratorWithReturn","exec","SKIP_CLOSING","ITERATION_SUPPORT","object","toString","TO_STRING_TAG_SUPPORT","classofRaw","CORRECT_ARGUMENTS","tag","tryGet","callee","iterate","defineIterator","setSpecies","fastKey","internalStateGetterFor","getterFor","getConstructor","wrapper","CONSTRUCTOR_NAME","ADDER","iterable","type","first","last","size","AS_ENTRIES","define","previous","state","entry","getEntry","removed","clear","data","prev","add","setStrong","ITERATOR_NAME","getInternalCollectionState","getInternalIteratorState","iterated","kind","getWeakData","ArrayIterationModule","$has","id","uncaughtFrozenStore","frozen","UncaughtFrozenStore","entries","findUncaughtFrozen","splice","$","isForced","InternalMetadataModule","checkCorrectnessOfIteration","inheritIfRequired","common","IS_WEAK","NativeConstructor","NativePrototype","exported","fixMethod","nativeMethod","REQUIRED","instance","HASNT_CHAINING","THROWS_ON_PRIMITIVES","ACCEPT_ITERABLES","BUGGY_ZERO","$instance","dummy","ownKeys","getOwnPropertyDescriptorModule","source","getOwnPropertyDescriptor","F","requireObjectCoercible","quot","string","attribute","p1","replace","IteratorPrototype","createPropertyDescriptor","Iterators","returnThis","IteratorConstructor","bitmap","enumerable","writable","toPrimitive","propertyKey","createIteratorConstructor","IS_PURE","IteratorsCore","BUGGY_SAFARI_ITERATORS","KEYS","VALUES","Iterable","DEFAULT","IS_SET","CurrentIteratorPrototype","methods","getIterationMethod","KIND","defaultIterator","IterablePrototype","INCORRECT_VALUES_NAME","nativeIterator","anyNativeIterator","values","proto","path","wrappedWellKnownSymbolModule","Symbol","document","EXISTS","createElement","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","firefox","match","window","UA","test","userAgent","process","getBuiltIn","version","versions","v8","split","webkit","setGlobal","copyConstructorProperties","options","targetProperty","sourceProperty","descriptor","TARGET","GLOBAL","STATIC","stat","noTargetGet","sham","regexpExec","RegExpPrototype","RegExp","SHAM","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","re","flags","nativeRegExpMethod","regexp","str","arg2","forceStringMethod","$exec","isExtensible","preventExtensions","a","b","c","factories","construct","argsLength","args","list","join","partArgs","concat","variable","namespace","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","matched","position","captures","namedCaptures","replacement","tailPos","m","symbols","ch","capture","n","check","globalThis","g","hasOwnProperty","hasOwn","console","abs","pow","log","LN2","mantissaLength","exponent","mantissa","exponentLength","eMax","eBias","rt","sign","Infinity","nBits","propertyIsEnumerable","Wrapper","NewTarget","NewTargetPrototype","functionToString","inspectSource","hiddenKeys","FREEZING","METADATA","setMetadata","objectID","weakData","meta","onFreeze","NATIVE_WEAK_MAP","objectHas","shared","sharedKey","OBJECT_ALREADY_INITIALIZED","WeakMap","wmget","wmhas","wmset","metadata","facade","STATE","enforce","arg","feature","detection","normalize","POLYFILL","NATIVE","toLowerCase","isFinite","MATCH","isRegExp","Result","stopped","unboundFunction","iterFn","IS_ITERATOR","INTERRUPTED","stop","condition","callFn","returnMethod","PrototypeOfArrayIteratorPrototype","arrayIterator","NEW_ITERATOR_PROTOTYPE","flush","head","notify","toggle","node","promise","then","macrotask","IS_IOS","IS_WEBOS_WEBKIT","IS_NODE","MutationObserver","WebKitMutationObserver","Promise","queueMicrotaskDescriptor","queueMicrotask","parent","domain","exit","enter","resolve","nextTick","createTextNode","observe","characterData","task","getOwnPropertySymbols","symbol","PromiseCapability","reject","$$resolve","$$reject","objectKeys","getOwnPropertySymbolsModule","propertyIsEnumerableModule","$assign","assign","A","B","alphabet","chr","T","activeXDocument","defineProperties","enumBugKeys","html","documentCreateElement","IE_PROTO","EmptyConstructor","scriptTag","content","LT","NullProtoObject","ActiveXObject","iframeDocument","iframe","write","close","temp","parentWindow","NullProtoObjectViaActiveX","style","display","appendChild","src","contentWindow","open","Properties","IE8_DOM_DEFINE","$defineProperty","P","Attributes","$getOwnPropertyDescriptor","$getOwnPropertyNames","windowNames","getWindowNames","internalObjectKeys","CORRECT_PROTOTYPE_GETTER","names","$propertyIsEnumerable","NASHORN_BUG","1","V","aPossiblePrototype","setter","CORRECT_SETTER","__proto__","getOwnPropertyNamesModule","newPromiseCapability","x","promiseCapability","enforceInternalState","TEMPLATE","simple","R","re1","re2","regexpFlags","stickyHelpers","UNSUPPORTED_DOT_ALL","UNSUPPORTED_NCG","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","reCopy","group","raw","groups","sticky","charsAdded","strCopy","multiline","input","ignoreCase","dotAll","RE","s","TAG","SHARED","mode","copyright","defaultConstructor","CONVERT_TO_STRING","pos","second","charCodeAt","codeAt","whitespaces","whitespace","ltrim","rtrim","trim","defer","channel","port","location","setImmediate","clearImmediate","MessageChannel","Dispatch","counter","queue","run","runner","listener","event","post","postMessage","protocol","host","now","port2","port1","onmessage","addEventListener","importScripts","removeChild","setTimeout","max","integer","ceil","isNaN","toPositiveInteger","BYTES","PREFERRED_STRING","val","valueOf","TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS","ArrayBufferViewCore","ArrayBufferModule","toOffset","typedArrayFrom","nativeDefineProperty","nativeGetOwnPropertyDescriptor","round","BYTES_PER_ELEMENT","WRONG_LENGTH","fromList","isArrayBuffer","isTypedArrayIndex","wrappedGetOwnPropertyDescriptor","wrappedDefineProperty","CLAMPED","GETTER","SETTER","NativeTypedArrayConstructor","TypedArrayConstructorPrototype","addElement","getter","typedArrayOffset","$length","$len","speciesConstructor","postfix","random","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","WellKnownSymbolsStore","createWellKnownSymbol","withoutSetter","nativeArrayBufferSlice","fin","viewSource","viewTarget","arrayMethodHasSpeciesSupport","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","SPECIES_SUPPORT","isConcatSpreadable","spreadable","k","E","$filter","addToUnscopables","ARRAY_ITERATOR","Arguments","nativeJoin","ES3_STRINGS","separator","$map","HAS_SPECIES_SUPPORT","nativeSlice","internalSort","FF","IE_OR_EDGE","V8","WEBKIT","nativeSort","sort","FAILS_ON_UNDEFINED","FAILS_ON_NULL","STABLE_SORT","code","fromCharCode","v","itemsLength","items","arrayLength","y","getSortCompare","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","deleteCount","insertCount","actualDeleteCount","actualStart","FunctionPrototype","FunctionPrototypeToString","nameRE","collection","collectionStrong","init","log2","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","third","radix","maxCode","digits","parseInt","NumberWrapper","EPSILON","isInteger","FAILS_ON_PRIMITIVES","nativeGetPrototypeOf","nativeKeys","Internal","OwnPromiseCapability","PromiseWrapper","nativeThen","NativePromise","microtask","promiseResolve","hostReportErrors","newPromiseCapabilityModule","perform","IS_BROWSER","PROMISE","getInternalPromiseState","NativePromisePrototype","PromiseConstructor","PromiseConstructorPrototype","newGenericPromiseCapability","DISPATCH_EVENT","createEvent","dispatchEvent","NATIVE_REJECTION_EVENT","PromiseRejectionEvent","UNHANDLED_REJECTION","SUBCLASSING","GLOBAL_CORE_JS_PROMISE","FakePromise","INCORRECT_ITERATION","all","isThenable","isReject","notified","chain","reactions","ok","exited","reaction","handler","fail","rejection","onHandleUnhandled","onUnhandled","reason","initEvent","isUnhandled","emit","unwrap","internalReject","internalResolve","executor","onFulfilled","onRejected","wrap","r","capability","$promiseResolve","remaining","alreadyCalled","race","nativeConstruct","NEW_TARGET_BUG","ARGS_BUG","Target","newTarget","$args","receiver","TO_STRING","nativeToString","NOT_GENERIC","INCORRECT_NAME","p","rf","STRING_ITERATOR","point","repeat","fixRegExpWellKnownSymbolLogic","advanceStringIndex","getSubstitution","regExpExec","REPLACE","REPLACE_KEEPS_$0","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","_","maybeCallNative","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","res","rx","functionalReplace","fullUnicode","results","accumulatedResult","nextSourcePosition","replacerArgs","callRegExpExec","arrayPush","MAX_UINT32","SPLIT","nativeSplit","internalSplit","limit","lim","lastLength","output","lastLastIndex","separatorCopy","splitter","unicodeMatching","q","e","z","originalExec","createHTML","forcedStringHTMLMethod","sub","$trim","forcedStringTrimMethod","NativeSymbol","description","EmptyStringDescriptionStore","SymbolWrapper","symbolPrototype","symbolToString","native","desc","defineWellKnownSymbol","nativeObjectCreate","getOwnPropertyNamesExternal","HIDDEN","TO_PRIMITIVE","$Symbol","$stringify","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","QObject","USE_SETTER","findChild","setSymbolDescriptor","ObjectPrototypeDescriptor","isSymbol","$defineProperties","properties","$getOwnPropertySymbols","IS_OBJECT_PROTOTYPE","keyFor","sym","useSetter","useSimple","stringify","space","$replacer","$copyWithin","$every","$fill","fromSpeciesAndList","$findIndex","predicate","$find","createTypedArrayConstructor","$includes","$indexOf","ArrayIterators","arrayValues","arrayKeys","arrayEntries","nativeTypedArrayIterator","CORRECT_ITER_NAME","typedArrayValues","$join","$reduceRight","$reduce","$slice","$some","ACCEPT_INCORRECT_ARGUMENTS","mod","expected","begin","beginIndex","$toLocaleString","toLocaleString","TO_LOCALE_STRING_BUG","Uint8ArrayPrototype","arrayToString","arrayJoin","IS_NOT_ARRAY_METHOD","InternalWeakMap","collectionWeak","enforceIternalState","IS_IE11","$WeakMap","WeakMapPrototype","nativeDelete","nativeHas","nativeGet","nativeSet","DOMIterables","COLLECTION_NAME","Collection","CollectionPrototype","ArrayIteratorMethods","ArrayValues","toJSON","URL","runtime","Op","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","obj","err","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","context","Context","_invoke","GenStateSuspendedStart","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","info","resultName","nextLoc","pushTryEntry","locs","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","iter","pop","skipTempReset","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","Vector2","scalar","w","warn","addVectors","subVectors","multiplyScalar","elements","minVal","maxVal","divideScalar","sqrt","atan2","PI","distanceToSquared","dx","dy","alpha","v1","v2","getX","getY","center","angle","cos","sin","isVector2","_lut","DEG2RAD","RAD2DEG","generateUUID","d0","d1","d2","d3","toUpperCase","clamp","lerp","t","isPowerOfTwo","floorPowerOfTwo","Quaternion","_x","_y","_z","_w","qa","qb","qm","slerpQuaternions","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","Number","tDir","_onChangeCallback","quaternion","euler","update","isEuler","order","_order","c1","c2","c3","s1","s2","s3","axis","halfAngle","te","m11","m12","m13","m21","m22","m23","m31","m32","m33","trace","vFrom","vTo","dot","acos","MathUtils","angleTo","slerp","conjugate","l","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","copy","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","getZ","getW","callback","isQuaternion","Vector3","multiplyVectors","applyQuaternion","_quaternion","setFromEuler","setFromAxisAngle","applyMatrix3","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector","projectOnVector","normal","theta","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","sx","setFromMatrixColumn","sy","sz","fromArray","isVector3","Matrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","me","xAxis","yAxis","zAxis","scaleX","_v1","scaleY","scaleZ","d","ae","af","be","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","up","multiplyMatrices","a11","a12","a13","a14","a21","a22","a23","a24","a31","a32","a33","a34","a41","a42","a43","a44","b11","b12","b13","b14","b21","b22","b23","b24","b31","b32","b33","b34","b41","b42","b43","b44","tmp","t11","t12","t13","t14","det","detInv","scaleXSq","scaleYSq","scaleZSq","tx","ty","scale","x2","y2","z2","xx","xy","xz","yy","yz","zz","wx","wy","wz","determinant","_m1","invSX","invSY","invSZ","setFromRotationMatrix","top","bottom","near","far","h","matrix","isMatrix4","EventDispatcher","_listeners","listeners","listenerArray","_matrix","Euler","DefaultOrder","asin","makeRotationFromQuaternion","newOrder","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","layers","Matrix3","setFromMatrix3Column","matrix4","setFromMatrix4","invert","transpose","rotation","cx","cy","isMatrix3","_object3DId","_q1","_target","_position","_scale","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","uuid","children","DefaultUp","clone","_onChange","modelViewMatrix","normalMatrix","matrixAutoUpdate","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","updateMatrix","premultiply","decompose","multiply","rotateOnAxis","distance","translateOnAxis","vector","updateWorldMatrix","setFromMatrixPosition","isCamera","isLight","lookAt","extractRotation","isObject3D","remove","getObjectByProperty","traverse","traverseVisible","traverseAncestors","force","updateMatrixWorld","updateParents","updateChildren","isRootObject","geometries","materials","textures","images","shapes","skeletons","serialize","library","JSON","toArray","isInstancedMesh","instanceMatrix","instanceColor","isMesh","isLine","isPoints","geometry","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","recursive","parse","child","Group","isGroup","AddEquation","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","LinearFilter","LinearMipmapLinearFilter","UnsignedByteType","UnsignedShortType","UnsignedIntType","FloatType","HalfFloatType","UnsignedInt248Type","RGBFormat","RGBAFormat","DepthFormat","DepthStencilFormat","LinearEncoding","KeepStencilOp","GLSL3","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","alphaToCoverage","premultipliedAlpha","toneMapped","isMaterial","onBuild","onBeforeCompile","customProgramCacheKey","setValues","newValue","currentValue","isColor","flatShading","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","isTexture","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","combine","envMapIntensity","reflectivity","refractionRatio","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","dispose","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","handleAlpha","parseFloat","components","setHSL","setColorName","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","hue","saturation","lightness","delta","getHSL","color1","color2","normalized","NAMES","MeshBasicMaterial","isMeshBasicMaterial","Box3","minX","minY","minZ","maxX","maxY","maxZ","points","makeEmpty","il","expandByPoint","halfSize","expandByObject","box","isEmpty","addScalar","boundingBox","computeBoundingBox","_box","union","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0","_v2","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","getSize","_points","setFromPoints","equals","isBox3","_testAxis","v0","extents","p0","p2","Vector4","epsilon","epsilon2","isVector4","_vector2","BufferAttribute","itemSize","usage","updateRange","onUploadCallback","index1","index2","colors","vectors","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","transformDirection","isBufferAttribute","Uint16BufferAttribute","Uint32BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","_toFarthestPoint","_toPoint","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","missingRadiusHalf","arrayMax","_id","_obj","_offset","_boxMorphTargets","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","boundingSphere","drawRange","materialIndex","needsUpdate","getNormalMatrix","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","makeTranslation","makeScale","negate","translate","setAttribute","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","uv","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","tmp2","n2","handleVertex","addScaledVector","positionAttribute","getAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","cross","normalizeNormals","isBufferGeometry","attributeArray1","attribute2","attributeArray2","attributeOffset","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","addGroup","hasMorphAttributes","attributeArray","setIndex","BoxGeometry","width","height","depth","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","u","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","s0","sqrDist","extDet","segExtent","a01","b0","b1","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","line","startSign","endSign","intersectsPlane","optionalNormalMatrix","referencePoint","coplanarPoint","isPlane","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","targetLengthSq","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getBarycoord","p3","uv1","uv2","uv3","i0","i1","i2","getNormal","setFromCoplanarPoints","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","d5","d6","vb","va","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","raycaster","intersects","intersection","intersectsBox","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","face","isGeometry","morphInfluences","influence","boneTransform","intersectTriangle","checkIntersection","_canvas","imgData","ImageUtils","image","HTMLCanvasElement","canvas","createElementNS","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","mipmaps","internalFormat","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","setUvTransform","url","isDataTexture","serializeImage","HTMLImageElement","ImageBitmap","getDataURL","Scene","background","environment","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","Camera","PerspectiveCamera","fov","aspect","zoom","focus","filmGauge","filmOffset","updateProjectionMatrix","focalLength","vExtentSlope","getFilmHeight","atan","tan","fullWidth","fullHeight","enabled","offsetX","offsetY","skew","getFilmWidth","makePerspective","isPerspectiveCamera","DataTexture","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","isInterleavedBufferAttribute","deleteBuffer","delete","bufferType","cached","bytesPerElement","elementSize","createBuffer","bindBuffer","bufferData","bufferSubData","subarray","updateBuffer","PlaneGeometry","width_half","height_half","segment_width","segment_height","cloneUniforms","mergeUniforms","uniforms","merged","UniformsUtils","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","isShaderMaterial","ShaderChunk","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_physical_pars_fragment","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","tEquirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","WebGLBackground","renderer","cubemaps","objects","planeMesh","boxMesh","clearColor","clearAlpha","currentBackground","currentBackgroundVersion","currentTonemapping","setClear","getClearColor","setClearColor","getClearAlpha","setClearAlpha","render","renderList","scene","forceClear","xr","session","getSession","environmentBlendMode","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","deleteAttribute","onBeforeRender","copyPosition","_needsFlipEnvMap","toneMapping","unshift","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","bindVertexArrayObject","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","newAttributes","enabledAttributes","attributeDivisors","program","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","resetDefaultState","setup","updateBuffers","programMap","stateMap","createVertexArray","createVertexArrayOES","getBindingState","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","saveCache","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","setupVertexAttributes","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","WebGLBufferRenderer","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","uniform","resetGlobalState","numPlanes","numIntersection","projectPlanes","skipTransform","nPlanes","dstArray","flatSize","viewMatrix","i4","enableLocalClipping","beginShadows","endShadows","setState","useCache","materialProperties","nGlobal","lGlobal","clippingState","physical","transmission","transmissionMap","WebGLRenderTarget","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","currentXrEnabled","currentRenderTarget","getRenderTarget","setRenderTarget","CubeTexture","WebGLCubeRenderTarget","mesh","currentMinFilter","stencil","WebGLCubeMaps","mapTextureMapping","onTextureDispose","removeEventListener","cubemap","fromEquirectangularTexture","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","programs","autoReset","instanceCount","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","morphInfluencesSum","hasAttribute","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","onInstancedMeshDispose","instancedMesh","buffergeometry","hasEventListener","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","copyArray","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueV1i","uniform1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","setValueV2ui","uniform2uiv","setValueV3ui","uniform3uiv","setValueV4ui","uniform4uiv","setValueT1","unit","safeSetTexture2D","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueT2DArray1","setTexture2DArray","setValueV1fArray","uniform1fv","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV1uiArray","uniform1uiv","setValueV2uiArray","setValueV3uiArray","setValueV4uiArray","setValueT1Array","units","setValueT6Array","SingleUniform","activeInfo","getSingularSetter","PureArrayUniform","getPureArraySetter","StructuredUniform","seq","updateCache","RePathPart","addUniform","container","uniformObject","parseUniform","pathLength","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","WebGLShader","shader","createShader","shaderSource","compileShader","setOptional","upload","seqWithValue","programIdCount","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","addLineNumbers","getShaderSource","getTexelDecodingFunction","functionName","getToneMappingFunction","toneMappingName","filterEmptyLine","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","WebGLProgram","cacheKey","prefixVertex","prefixFragment","shadowMapTypeDefine","shadowMapType","generateShadowMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapTypeDefine","envMapModeDefine","generateEnvMapModeDefine","envMapBlendingDefine","generateEnvMapBlendingDefine","gammaFactorDefine","customExtensions","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","generateExtensions","customDefines","chunks","generateDefines","createProgram","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexAlphas","vertexUvs","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","cachedUniforms","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","getActiveAttrib","getAttribLocation","fetchAttributeLocations","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getTextureEncodingFromMap","getParameters","shadows","isMeshStandardMaterial","bones","nVertexUniforms","nVertexMatrices","getMaxBones","isFogExp2","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","UniformsCache","light","halfWidth","halfHeight","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","identity","WebGLRenderState","lightsArray","shadowsArray","setupLights","setupLightsView","pushLight","pushShadow","shadowLight","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","WebGLShadowMap","_renderer","_objects","_capabilities","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","_maxTextureSize","0","2","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","VSMPass","mapPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","isMeshDistanceMaterial","renderObject","shadowCamera","intersectsObject","kl","depthMaterial","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","WebGLState","colorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","enabledCapabilities","xrFramebuffer","currentBoundFramebuffers","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendEquationSeparate","blendFuncSeparate","blendFunc","frontFace","cullFace","setPolygonOffset","factor","activeTexture","webglSlot","bindFramebuffer","framebuffer","bindXRFramebuffer","useProgram","setMaterial","frontFaceCW","setLineWidth","lineWidth","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","__maxMipLevel","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","textureProperties","__webglInit","deleteTexture","__webglTexture","deallocateTexture","isVideoTexture","onRenderTargetDispose","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","deallocateRenderTarget","textureUnits","setTexture2D","slot","updateVideoTexture","__version","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","uploadCubeTexture","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","textureNeedsPowerOfTwo","isDepthTexture","setupFrameBufferTexture","attachment","textureTarget","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","samples","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","isWebGLMultisampleRenderTarget","warnedTexture2D","warnedTextureCube","textureUnit","resetTextureUnits","setupRenderTarget","isCube","isRenderTarget3D","createFramebuffer","createRenderbuffer","glTextureType","webglDepthTexture","setupDepthTexture","setupDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","_moveEvent","WebXRController","_targetRay","_grip","_hand","joints","inputState","pinching","hasLinearVelocity","linearVelocity","hasAngularVelocity","angularVelocity","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","getPose","targetRaySpace","transform","inputjoint","jointPose","getJointPose","jointName","joint","jointRadius","indexTip","thumbTip","distanceToPinch","handedness","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","onSessionEvent","controller","onSessionEnd","disconnect","isPresenting","onInputSourcesChange","inputSources","added","getController","getTargetRaySpace","getControllerGrip","getGripSpace","getHand","getHandSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","cameraLPos","cameraRPos","updateCamera","getCamera","depthNear","depthFar","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","translateX","translateZ","near2","far2","left2","right2","top2","bottom2","setProjectionFromUnion","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshUniformsCommon","uvScaleMap","uv2ScaleMap","refreshUniformsStandard","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","getTargetPixelRatio","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","initGLContext","preventDefault","infoAutoReset","shadowMapAutoUpdate","shadowMapNeedsUpdate","onMaterialDispose","releaseMaterialProgramReferences","deallocateMaterial","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","setSize","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","setTransparentSort","bits","onXRSessionStart","onXRSessionEnd","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","getProgram","projectObject","isLOD","intersectsSprite","isImmediateRenderObject","renderObjects","camera2","renderObjectImmediate","onAfterRender","lightsStateVersion","programCacheKey","updateCommonMaterialProperties","needsLights","materialNeedsLights","progUniforms","uniformsList","needsProgramChange","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","setFromProjectionMatrix","opaqueObjects","transparentObjects","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","resetState","Clock","autoStart","startTime","oldTime","elapsedTime","running","getElapsedTime","getDelta","diff","newTime","performance","Date","Spherical","other","EPS","setFromCartesianCoords","_changeEvent","_startEvent","_endEvent","OrbitControls","quat","quatInverse","lastPosition","lastQuaternion","twoPI","minDistance","maxDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","LEFT","UP","RIGHT","BOTTOM","mouseButtons","MIDDLE","touches","ONE","TWO","target0","position0","zoom0","_domElementKeyEvents","getPolarAngle","spherical","getAzimuthalAngle","listenToKeyEvents","onKeyDown","saveState","NONE","setFromUnitVectors","setFromVector3","rotateLeft","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","ROTATE","DOLLY","PAN","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownPan","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","pointerType","mouseAction","button","handleMouseDownDolly","ctrlKey","metaKey","shiftKey","onMouseDown","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","onMouseMove","handleMouseWheel","handleKeyDown","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","passive","OrthographicCamera","scaleW","scaleH","makeOrthographic","CopyShader","Pass","needsSwap","renderToScreen","_camera","_geometry","FullScreenQuad","_mesh","ShaderPass","textureID","fsQuad","writeBuffer","readBuffer","MaskPass","inverse","writeValue","clearValue","ALWAYS","EQUAL","KEEP","ClearMaskPass","EffectComposer","renderTarget1","renderTarget2","passes","copyPass","clock","pass","passIndex","deltaTime","maskActive","isLastEnabledPass","NOTEQUAL","swapBuffers","effectiveWidth","effectiveHeight","RenderPass","_oldClearColor","oldClearAlpha","oldOverrideMaterial","oldAutoClear","FXAAShader","skinViewer","orbitControl","rotateAnimation","primaryAnimation","skinParts","skinLayers","availableAnimations","walk","fly","reloadSkin","getElementById","loadSkin","setCustomValidity","catch","reloadCape","loadCape","selectedBackEquipment","querySelector","backEquipment","initializeViewer","skinview3d","speed","checked","primaryAnimationName","part","playerObject","skin","paused","resetAndRemove","querySelectorAll","skinReader","FileReader","file","files","readAsDataURL","capeReader","initializeControls"],"mappings":"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B7JD,6sEzB8JCC,gB0B9JD,uoC1B+JCC,4B2B/JD,6M3BgKCC,qB4BhKD,iR5BiKCC,mB6BjKD,oP7BkKCC,8B8BlKD,y9D9BmKCC,c+BnKD,ygB/BoKCC,WgCpKD,kDhCqKCC,gBiCrKD,kDjCsKCC,akCtKD,+OlCuKCC,kBmCvKD,gLnCwKCC,0BoCxKD,uUpCyKCC,kBqCzKD,0KrC0KCC,uBsC1KD,2FtC2KCC,sBuC3KD,u2EvC4KCC,kBwC5KD,6jHxC6KCC,qByC7KD,gEzC8KCC,0B0C9KD,q4B1C+KCC,sB2C/KD,sL3CgLCC,2B4ChLD,gqC5CiLCC,yB6CjLD,yrC7CkLCC,8B8ClLD,ozJ9CmLCC,sB+CnLD,00G/CoLCC,qBgDpLD,wxBhDqLCC,oBiDrLD,uPjDsLCC,qBkDtLD,6JlDuLCC,0BmDvLD,yJnDwLCC,wBoDxLD,kKpDyLCC,mBqDzLD,sTrD0LCC,asD1LD,+HtD2LCC,kBuD3LD,iDvD4LCC,sBwD5LD,wSxD6LCC,2ByD7LD,2LzD8LCC,sB0D9LD,wJ1D+LCC,2B2D/LD,mE3DgMCC,mB4DhMD,2R5DiMCC,wB6DjMD,sM7DkMCC,mB8DlMD,sgB9DmMCC,sB+DnMD,ktB/DoMCC,qBgEpMD,8jBhEqMCC,wBiErMD,wxBjEsMCC,gCkEtMD,iElEuMCC,+BmEvMD,sUnEwMCC,wBoExMD,yQpEyMCC,QqEzMD,yxCrE0MCC,6BsE1MD,wEtE2MCC,euE3MD,+LvE4MCC,mBwE5MD,0ExE6MCC,wByE7MD,8QzE8MCC,sB0E9MD,wJ1E+MCC,2B2E/MD,mE3EgNCC,wB4EhND,oxN5EiNCC,sB6EjND,wiC7EkNCC,iB8ElND,umC9EmNCC,yB+EnND,0sC/EoNCC,gBgFpND,oMhFqNCC,qBiFrND,4vBjFsNCC,gBkFtND,4TlFuNCC,kBmFvND,uYnFwNCC,qBoFxND,yKpFyNCC,0BqFzND,iErF0NCC,qBsF1ND,qFtF2NCC,0BuF3ND,4gCvF4NCC,yBwF5ND,2FxF6NCC,8ByF7ND,yEzF8NCC,iB0F9ND,8E1F+NCC,e2F/ND,wH3FgOCC,U4FhOD,0D5FiOCC,kB6FjOD,4E7FkOCC,gB8FlOD,yH9FmOC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","file":"index.js","sourcesContent":["module.exports = function (it) {\n  if (typeof it != 'function') {\n    throw TypeError(String(it) + ' is not a function');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it) && it !== null) {\n    throw TypeError(\"Can't set \" + String(it) + ' as a prototype');\n  } return it;\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar create = require('../internals/object-create');\nvar definePropertyModule = require('../internals/object-define-property');\n\nvar UNSCOPABLES = wellKnownSymbol('unscopables');\nvar ArrayPrototype = Array.prototype;\n\n// Array.prototype[@@unscopables]\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\nif (ArrayPrototype[UNSCOPABLES] == undefined) {\n  definePropertyModule.f(ArrayPrototype, UNSCOPABLES, {\n    configurable: true,\n    value: create(null)\n  });\n}\n\n// add a key to Array.prototype[@@unscopables]\nmodule.exports = function (key) {\n  ArrayPrototype[UNSCOPABLES][key] = true;\n};\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.es/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","module.exports = function (it, Constructor, name) {\n  if (!(it instanceof Constructor)) {\n    throw TypeError('Incorrect ' + (name ? name + ' ' : '') + 'invocation');\n  } return it;\n};\n","var isObject = require('../internals/is-object');\n\nmodule.exports = function (it) {\n  if (!isObject(it)) {\n    throw TypeError(String(it) + ' is not an object');\n  } return it;\n};\n","// eslint-disable-next-line es/no-typed-arrays -- safe\nmodule.exports = typeof ArrayBuffer !== 'undefined' && typeof DataView !== 'undefined';\n","'use strict';\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar defineProperty = require('../internals/object-define-property').f;\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar uid = require('../internals/uid');\n\nvar Int8Array = global.Int8Array;\nvar Int8ArrayPrototype = Int8Array && Int8Array.prototype;\nvar Uint8ClampedArray = global.Uint8ClampedArray;\nvar Uint8ClampedArrayPrototype = Uint8ClampedArray && Uint8ClampedArray.prototype;\nvar TypedArray = Int8Array && getPrototypeOf(Int8Array);\nvar TypedArrayPrototype = Int8ArrayPrototype && getPrototypeOf(Int8ArrayPrototype);\nvar ObjectPrototype = Object.prototype;\nvar isPrototypeOf = ObjectPrototype.isPrototypeOf;\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar TYPED_ARRAY_TAG = uid('TYPED_ARRAY_TAG');\n// Fixing native typed arrays in Opera Presto crashes the browser, see #595\nvar NATIVE_ARRAY_BUFFER_VIEWS = NATIVE_ARRAY_BUFFER && !!setPrototypeOf && classof(global.opera) !== 'Opera';\nvar TYPED_ARRAY_TAG_REQIRED = false;\nvar NAME;\n\nvar TypedArrayConstructorsList = {\n  Int8Array: 1,\n  Uint8Array: 1,\n  Uint8ClampedArray: 1,\n  Int16Array: 2,\n  Uint16Array: 2,\n  Int32Array: 4,\n  Uint32Array: 4,\n  Float32Array: 4,\n  Float64Array: 8\n};\n\nvar BigIntArrayConstructorsList = {\n  BigInt64Array: 8,\n  BigUint64Array: 8\n};\n\nvar isView = function isView(it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return klass === 'DataView'\n    || has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar isTypedArray = function (it) {\n  if (!isObject(it)) return false;\n  var klass = classof(it);\n  return has(TypedArrayConstructorsList, klass)\n    || has(BigIntArrayConstructorsList, klass);\n};\n\nvar aTypedArray = function (it) {\n  if (isTypedArray(it)) return it;\n  throw TypeError('Target is not a typed array');\n};\n\nvar aTypedArrayConstructor = function (C) {\n  if (setPrototypeOf) {\n    if (isPrototypeOf.call(TypedArray, C)) return C;\n  } else for (var ARRAY in TypedArrayConstructorsList) if (has(TypedArrayConstructorsList, NAME)) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (C === TypedArrayConstructor || isPrototypeOf.call(TypedArrayConstructor, C))) {\n      return C;\n    }\n  } throw TypeError('Target is not a typed array constructor');\n};\n\nvar exportTypedArrayMethod = function (KEY, property, forced) {\n  if (!DESCRIPTORS) return;\n  if (forced) for (var ARRAY in TypedArrayConstructorsList) {\n    var TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && has(TypedArrayConstructor.prototype, KEY)) try {\n      delete TypedArrayConstructor.prototype[KEY];\n    } catch (error) { /* empty */ }\n  }\n  if (!TypedArrayPrototype[KEY] || forced) {\n    redefine(TypedArrayPrototype, KEY, forced ? property\n      : NATIVE_ARRAY_BUFFER_VIEWS && Int8ArrayPrototype[KEY] || property);\n  }\n};\n\nvar exportTypedArrayStaticMethod = function (KEY, property, forced) {\n  var ARRAY, TypedArrayConstructor;\n  if (!DESCRIPTORS) return;\n  if (setPrototypeOf) {\n    if (forced) for (ARRAY in TypedArrayConstructorsList) {\n      TypedArrayConstructor = global[ARRAY];\n      if (TypedArrayConstructor && has(TypedArrayConstructor, KEY)) try {\n        delete TypedArrayConstructor[KEY];\n      } catch (error) { /* empty */ }\n    }\n    if (!TypedArray[KEY] || forced) {\n      // V8 ~ Chrome 49-50 `%TypedArray%` methods are non-writable non-configurable\n      try {\n        return redefine(TypedArray, KEY, forced ? property : NATIVE_ARRAY_BUFFER_VIEWS && TypedArray[KEY] || property);\n      } catch (error) { /* empty */ }\n    } else return;\n  }\n  for (ARRAY in TypedArrayConstructorsList) {\n    TypedArrayConstructor = global[ARRAY];\n    if (TypedArrayConstructor && (!TypedArrayConstructor[KEY] || forced)) {\n      redefine(TypedArrayConstructor, KEY, property);\n    }\n  }\n};\n\nfor (NAME in TypedArrayConstructorsList) {\n  if (!global[NAME]) NATIVE_ARRAY_BUFFER_VIEWS = false;\n}\n\n// WebKit bug - typed arrays constructors prototype is Object.prototype\nif (!NATIVE_ARRAY_BUFFER_VIEWS || typeof TypedArray != 'function' || TypedArray === Function.prototype) {\n  // eslint-disable-next-line no-shadow -- safe\n  TypedArray = function TypedArray() {\n    throw TypeError('Incorrect invocation');\n  };\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME], TypedArray);\n  }\n}\n\nif (!NATIVE_ARRAY_BUFFER_VIEWS || !TypedArrayPrototype || TypedArrayPrototype === ObjectPrototype) {\n  TypedArrayPrototype = TypedArray.prototype;\n  if (NATIVE_ARRAY_BUFFER_VIEWS) for (NAME in TypedArrayConstructorsList) {\n    if (global[NAME]) setPrototypeOf(global[NAME].prototype, TypedArrayPrototype);\n  }\n}\n\n// WebKit bug - one more object in Uint8ClampedArray prototype chain\nif (NATIVE_ARRAY_BUFFER_VIEWS && getPrototypeOf(Uint8ClampedArrayPrototype) !== TypedArrayPrototype) {\n  setPrototypeOf(Uint8ClampedArrayPrototype, TypedArrayPrototype);\n}\n\nif (DESCRIPTORS && !has(TypedArrayPrototype, TO_STRING_TAG)) {\n  TYPED_ARRAY_TAG_REQIRED = true;\n  defineProperty(TypedArrayPrototype, TO_STRING_TAG, { get: function () {\n    return isObject(this) ? this[TYPED_ARRAY_TAG] : undefined;\n  } });\n  for (NAME in TypedArrayConstructorsList) if (global[NAME]) {\n    createNonEnumerableProperty(global[NAME], TYPED_ARRAY_TAG, NAME);\n  }\n}\n\nmodule.exports = {\n  NATIVE_ARRAY_BUFFER_VIEWS: NATIVE_ARRAY_BUFFER_VIEWS,\n  TYPED_ARRAY_TAG: TYPED_ARRAY_TAG_REQIRED && TYPED_ARRAY_TAG,\n  aTypedArray: aTypedArray,\n  aTypedArrayConstructor: aTypedArrayConstructor,\n  exportTypedArrayMethod: exportTypedArrayMethod,\n  exportTypedArrayStaticMethod: exportTypedArrayStaticMethod,\n  isView: isView,\n  isTypedArray: isTypedArray,\n  TypedArray: TypedArray,\n  TypedArrayPrototype: TypedArrayPrototype\n};\n","'use strict';\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_ARRAY_BUFFER = require('../internals/array-buffer-native');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefineAll = require('../internals/redefine-all');\nvar fails = require('../internals/fails');\nvar anInstance = require('../internals/an-instance');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar IEEE754 = require('../internals/ieee754');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar arrayFill = require('../internals/array-fill');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar ARRAY_BUFFER = 'ArrayBuffer';\nvar DATA_VIEW = 'DataView';\nvar PROTOTYPE = 'prototype';\nvar WRONG_LENGTH = 'Wrong length';\nvar WRONG_INDEX = 'Wrong index';\nvar NativeArrayBuffer = global[ARRAY_BUFFER];\nvar $ArrayBuffer = NativeArrayBuffer;\nvar $DataView = global[DATA_VIEW];\nvar $DataViewPrototype = $DataView && $DataView[PROTOTYPE];\nvar ObjectPrototype = Object.prototype;\nvar RangeError = global.RangeError;\n\nvar packIEEE754 = IEEE754.pack;\nvar unpackIEEE754 = IEEE754.unpack;\n\nvar packInt8 = function (number) {\n  return [number & 0xFF];\n};\n\nvar packInt16 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF];\n};\n\nvar packInt32 = function (number) {\n  return [number & 0xFF, number >> 8 & 0xFF, number >> 16 & 0xFF, number >> 24 & 0xFF];\n};\n\nvar unpackInt32 = function (buffer) {\n  return buffer[3] << 24 | buffer[2] << 16 | buffer[1] << 8 | buffer[0];\n};\n\nvar packFloat32 = function (number) {\n  return packIEEE754(number, 23, 4);\n};\n\nvar packFloat64 = function (number) {\n  return packIEEE754(number, 52, 8);\n};\n\nvar addGetter = function (Constructor, key) {\n  defineProperty(Constructor[PROTOTYPE], key, { get: function () { return getInternalState(this)[key]; } });\n};\n\nvar get = function (view, count, index, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = bytes.slice(start, start + count);\n  return isLittleEndian ? pack : pack.reverse();\n};\n\nvar set = function (view, count, index, conversion, value, isLittleEndian) {\n  var intIndex = toIndex(index);\n  var store = getInternalState(view);\n  if (intIndex + count > store.byteLength) throw RangeError(WRONG_INDEX);\n  var bytes = getInternalState(store.buffer).bytes;\n  var start = intIndex + store.byteOffset;\n  var pack = conversion(+value);\n  for (var i = 0; i < count; i++) bytes[start + i] = pack[isLittleEndian ? i : count - i - 1];\n};\n\nif (!NATIVE_ARRAY_BUFFER) {\n  $ArrayBuffer = function ArrayBuffer(length) {\n    anInstance(this, $ArrayBuffer, ARRAY_BUFFER);\n    var byteLength = toIndex(length);\n    setInternalState(this, {\n      bytes: arrayFill.call(new Array(byteLength), 0),\n      byteLength: byteLength\n    });\n    if (!DESCRIPTORS) this.byteLength = byteLength;\n  };\n\n  $DataView = function DataView(buffer, byteOffset, byteLength) {\n    anInstance(this, $DataView, DATA_VIEW);\n    anInstance(buffer, $ArrayBuffer, DATA_VIEW);\n    var bufferLength = getInternalState(buffer).byteLength;\n    var offset = toInteger(byteOffset);\n    if (offset < 0 || offset > bufferLength) throw RangeError('Wrong offset');\n    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);\n    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);\n    setInternalState(this, {\n      buffer: buffer,\n      byteLength: byteLength,\n      byteOffset: offset\n    });\n    if (!DESCRIPTORS) {\n      this.buffer = buffer;\n      this.byteLength = byteLength;\n      this.byteOffset = offset;\n    }\n  };\n\n  if (DESCRIPTORS) {\n    addGetter($ArrayBuffer, 'byteLength');\n    addGetter($DataView, 'buffer');\n    addGetter($DataView, 'byteLength');\n    addGetter($DataView, 'byteOffset');\n  }\n\n  redefineAll($DataView[PROTOTYPE], {\n    getInt8: function getInt8(byteOffset) {\n      return get(this, 1, byteOffset)[0] << 24 >> 24;\n    },\n    getUint8: function getUint8(byteOffset) {\n      return get(this, 1, byteOffset)[0];\n    },\n    getInt16: function getInt16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return (bytes[1] << 8 | bytes[0]) << 16 >> 16;\n    },\n    getUint16: function getUint16(byteOffset /* , littleEndian */) {\n      var bytes = get(this, 2, byteOffset, arguments.length > 1 ? arguments[1] : undefined);\n      return bytes[1] << 8 | bytes[0];\n    },\n    getInt32: function getInt32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined));\n    },\n    getUint32: function getUint32(byteOffset /* , littleEndian */) {\n      return unpackInt32(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined)) >>> 0;\n    },\n    getFloat32: function getFloat32(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 4, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 23);\n    },\n    getFloat64: function getFloat64(byteOffset /* , littleEndian */) {\n      return unpackIEEE754(get(this, 8, byteOffset, arguments.length > 1 ? arguments[1] : undefined), 52);\n    },\n    setInt8: function setInt8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      set(this, 1, byteOffset, packInt8, value);\n    },\n    setInt16: function setInt16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint16: function setUint16(byteOffset, value /* , littleEndian */) {\n      set(this, 2, byteOffset, packInt16, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setInt32: function setInt32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setUint32: function setUint32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packInt32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat32: function setFloat32(byteOffset, value /* , littleEndian */) {\n      set(this, 4, byteOffset, packFloat32, value, arguments.length > 2 ? arguments[2] : undefined);\n    },\n    setFloat64: function setFloat64(byteOffset, value /* , littleEndian */) {\n      set(this, 8, byteOffset, packFloat64, value, arguments.length > 2 ? arguments[2] : undefined);\n    }\n  });\n} else {\n  /* eslint-disable no-new -- required for testing */\n  if (!fails(function () {\n    NativeArrayBuffer(1);\n  }) || !fails(function () {\n    new NativeArrayBuffer(-1);\n  }) || fails(function () {\n    new NativeArrayBuffer();\n    new NativeArrayBuffer(1.5);\n    new NativeArrayBuffer(NaN);\n    return NativeArrayBuffer.name != ARRAY_BUFFER;\n  })) {\n  /* eslint-enable no-new -- required for testing */\n    $ArrayBuffer = function ArrayBuffer(length) {\n      anInstance(this, $ArrayBuffer);\n      return new NativeArrayBuffer(toIndex(length));\n    };\n    var ArrayBufferPrototype = $ArrayBuffer[PROTOTYPE] = NativeArrayBuffer[PROTOTYPE];\n    for (var keys = getOwnPropertyNames(NativeArrayBuffer), j = 0, key; keys.length > j;) {\n      if (!((key = keys[j++]) in $ArrayBuffer)) {\n        createNonEnumerableProperty($ArrayBuffer, key, NativeArrayBuffer[key]);\n      }\n    }\n    ArrayBufferPrototype.constructor = $ArrayBuffer;\n  }\n\n  // WebKit bug - the same parent prototype for typed arrays and data view\n  if (setPrototypeOf && getPrototypeOf($DataViewPrototype) !== ObjectPrototype) {\n    setPrototypeOf($DataViewPrototype, ObjectPrototype);\n  }\n\n  // iOS Safari 7.x bug\n  var testView = new $DataView(new $ArrayBuffer(2));\n  var $setInt8 = $DataViewPrototype.setInt8;\n  testView.setInt8(0, 2147483648);\n  testView.setInt8(1, 2147483649);\n  if (testView.getInt8(0) || !testView.getInt8(1)) redefineAll($DataViewPrototype, {\n    setInt8: function setInt8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    },\n    setUint8: function setUint8(byteOffset, value) {\n      $setInt8.call(this, byteOffset, value << 24 >> 24);\n    }\n  }, { unsafe: true });\n}\n\nsetToStringTag($ArrayBuffer, ARRAY_BUFFER);\nsetToStringTag($DataView, DATA_VIEW);\n\nmodule.exports = {\n  ArrayBuffer: $ArrayBuffer,\n  DataView: $DataView\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\nvar min = Math.min;\n\n// `Array.prototype.copyWithin` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.copywithin\n// eslint-disable-next-line es/no-array-prototype-copywithin -- safe\nmodule.exports = [].copyWithin || function copyWithin(target /* = 0 */, start /* = 0, end = @length */) {\n  var O = toObject(this);\n  var len = toLength(O.length);\n  var to = toAbsoluteIndex(target, len);\n  var from = toAbsoluteIndex(start, len);\n  var end = arguments.length > 2 ? arguments[2] : undefined;\n  var count = min((end === undefined ? len : toAbsoluteIndex(end, len)) - from, len - to);\n  var inc = 1;\n  if (from < to && to < from + count) {\n    inc = -1;\n    from += count - 1;\n    to += count - 1;\n  }\n  while (count-- > 0) {\n    if (from in O) O[to] = O[from];\n    else delete O[to];\n    to += inc;\n    from += inc;\n  } return O;\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.es/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","var toIndexedObject = require('../internals/to-indexed-object');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\n// `Array.prototype.{ indexOf, includes }` methods implementation\nvar createMethod = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIndexedObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare -- NaN check\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) {\n      if ((IS_INCLUDES || index in O) && O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.includes` method\n  // https://tc39.es/ecma262/#sec-array.prototype.includes\n  includes: createMethod(true),\n  // `Array.prototype.indexOf` method\n  // https://tc39.es/ecma262/#sec-array.prototype.indexof\n  indexOf: createMethod(false)\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex, filterOut }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var IS_FILTER_OUT = TYPE == 7;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER || IS_FILTER_OUT ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else switch (TYPE) {\n          case 4: return false;             // every\n          case 7: push.call(target, value); // filterOut\n        }\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.es/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.es/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.es/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.es/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.es/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.es/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.es/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6),\n  // `Array.prototype.filterOut` method\n  // https://github.com/tc39/proposal-array-filtering\n  filterOut: createMethod(7)\n};\n","'use strict';\n/* eslint-disable es/no-array-prototype-lastindexof -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar min = Math.min;\nvar $lastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!$lastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return $lastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : $lastIndexOf;\n","var fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (METHOD_NAME) {\n  // We can't use this feature detection in V8 since it causes\n  // deoptimization and serious performance degradation\n  // https://github.com/zloirock/core-js/issues/677\n  return V8_VERSION >= 51 || !fails(function () {\n    var array = [];\n    var constructor = array.constructor = {};\n    constructor[SPECIES] = function () {\n      return { foo: 1 };\n    };\n    return array[METHOD_NAME](Boolean).foo !== 1;\n  });\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.es/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","// TODO: use something more complex like timsort?\nvar floor = Math.floor;\n\nvar mergeSort = function (array, comparefn) {\n  var length = array.length;\n  var middle = floor(length / 2);\n  return length < 8 ? insertionSort(array, comparefn) : merge(\n    mergeSort(array.slice(0, middle), comparefn),\n    mergeSort(array.slice(middle), comparefn),\n    comparefn\n  );\n};\n\nvar insertionSort = function (array, comparefn) {\n  var length = array.length;\n  var i = 1;\n  var element, j;\n\n  while (i < length) {\n    j = i;\n    element = array[i];\n    while (j && comparefn(array[j - 1], element) > 0) {\n      array[j] = array[--j];\n    }\n    if (j !== i++) array[j] = element;\n  } return array;\n};\n\nvar merge = function (left, right, comparefn) {\n  var llength = left.length;\n  var rlength = right.length;\n  var lindex = 0;\n  var rindex = 0;\n  var result = [];\n\n  while (lindex < llength || rindex < rlength) {\n    if (lindex < llength && rindex < rlength) {\n      result.push(comparefn(left[lindex], right[rindex]) <= 0 ? left[lindex++] : right[rindex++]);\n    } else {\n      result.push(lindex < llength ? left[lindex++] : right[rindex++]);\n    }\n  } return result;\n};\n\nmodule.exports = mergeSort;\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.es/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","var anObject = require('../internals/an-object');\nvar iteratorClose = require('../internals/iterator-close');\n\n// call something on iterator step with safe closing on error\nmodule.exports = function (iterator, fn, value, ENTRIES) {\n  try {\n    return ENTRIES ? fn(anObject(value)[0], value[1]) : fn(value);\n  } catch (error) {\n    iteratorClose(iterator);\n    throw error;\n  }\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var called = 0;\n  var iteratorWithReturn = {\n    next: function () {\n      return { done: !!called++ };\n    },\n    'return': function () {\n      SAFE_CLOSING = true;\n    }\n  };\n  iteratorWithReturn[ITERATOR] = function () {\n    return this;\n  };\n  // eslint-disable-next-line es/no-array-from, no-throw-literal -- required for testing\n  Array.from(iteratorWithReturn, function () { throw 2; });\n} catch (error) { /* empty */ }\n\nmodule.exports = function (exec, SKIP_CLOSING) {\n  if (!SKIP_CLOSING && !SAFE_CLOSING) return false;\n  var ITERATION_SUPPORT = false;\n  try {\n    var object = {};\n    object[ITERATOR] = function () {\n      return {\n        next: function () {\n          return { done: ITERATION_SUPPORT = true };\n        }\n      };\n    };\n    exec(object);\n  } catch (error) { /* empty */ }\n  return ITERATION_SUPPORT;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classofRaw = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n// ES3 wrong here\nvar CORRECT_ARGUMENTS = classofRaw(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (error) { /* empty */ }\n};\n\n// getting tag from ES6+ `Object.prototype.toString`\nmodule.exports = TO_STRING_TAG_SUPPORT ? classofRaw : function (it) {\n  var O, tag, result;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (tag = tryGet(O = Object(it), TO_STRING_TAG)) == 'string' ? tag\n    // builtinTag case\n    : CORRECT_ARGUMENTS ? classofRaw(O)\n    // ES3 arguments fallback\n    : (result = classofRaw(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : result;\n};\n","'use strict';\nvar defineProperty = require('../internals/object-define-property').f;\nvar create = require('../internals/object-create');\nvar redefineAll = require('../internals/redefine-all');\nvar bind = require('../internals/function-bind-context');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar defineIterator = require('../internals/define-iterator');\nvar setSpecies = require('../internals/set-species');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fastKey = require('../internals/internal-metadata').fastKey;\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        index: create(null),\n        first: undefined,\n        last: undefined,\n        size: 0\n      });\n      if (!DESCRIPTORS) that.size = 0;\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var entry = getEntry(that, key);\n      var previous, index;\n      // change existing entry\n      if (entry) {\n        entry.value = value;\n      // create new entry\n      } else {\n        state.last = entry = {\n          index: index = fastKey(key, true),\n          key: key,\n          value: value,\n          previous: previous = state.last,\n          next: undefined,\n          removed: false\n        };\n        if (!state.first) state.first = entry;\n        if (previous) previous.next = entry;\n        if (DESCRIPTORS) state.size++;\n        else that.size++;\n        // add to index\n        if (index !== 'F') state.index[index] = entry;\n      } return that;\n    };\n\n    var getEntry = function (that, key) {\n      var state = getInternalState(that);\n      // fast case\n      var index = fastKey(key);\n      var entry;\n      if (index !== 'F') return state.index[index];\n      // frozen object case\n      for (entry = state.first; entry; entry = entry.next) {\n        if (entry.key == key) return entry;\n      }\n    };\n\n    redefineAll(C.prototype, {\n      // `{ Map, Set }.prototype.clear()` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.clear\n      // https://tc39.es/ecma262/#sec-set.prototype.clear\n      clear: function clear() {\n        var that = this;\n        var state = getInternalState(that);\n        var data = state.index;\n        var entry = state.first;\n        while (entry) {\n          entry.removed = true;\n          if (entry.previous) entry.previous = entry.previous.next = undefined;\n          delete data[entry.index];\n          entry = entry.next;\n        }\n        state.first = state.last = undefined;\n        if (DESCRIPTORS) state.size = 0;\n        else that.size = 0;\n      },\n      // `{ Map, Set }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.delete\n      // https://tc39.es/ecma262/#sec-set.prototype.delete\n      'delete': function (key) {\n        var that = this;\n        var state = getInternalState(that);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.next;\n          var prev = entry.previous;\n          delete state.index[entry.index];\n          entry.removed = true;\n          if (prev) prev.next = next;\n          if (next) next.previous = prev;\n          if (state.first == entry) state.first = next;\n          if (state.last == entry) state.last = prev;\n          if (DESCRIPTORS) state.size--;\n          else that.size--;\n        } return !!entry;\n      },\n      // `{ Map, Set }.prototype.forEach(callbackfn, thisArg = undefined)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.foreach\n      // https://tc39.es/ecma262/#sec-set.prototype.foreach\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        var state = getInternalState(this);\n        var boundFunction = bind(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.next : state.first) {\n          boundFunction(entry.value, entry.key, this);\n          // revert to the last existing entry\n          while (entry && entry.removed) entry = entry.previous;\n        }\n      },\n      // `{ Map, Set}.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-map.prototype.has\n      // https://tc39.es/ecma262/#sec-set.prototype.has\n      has: function has(key) {\n        return !!getEntry(this, key);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // `Map.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.get\n      get: function get(key) {\n        var entry = getEntry(this, key);\n        return entry && entry.value;\n      },\n      // `Map.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-map.prototype.set\n      set: function set(key, value) {\n        return define(this, key === 0 ? 0 : key, value);\n      }\n    } : {\n      // `Set.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-set.prototype.add\n      add: function add(value) {\n        return define(this, value = value === 0 ? 0 : value, value);\n      }\n    });\n    if (DESCRIPTORS) defineProperty(C.prototype, 'size', {\n      get: function () {\n        return getInternalState(this).size;\n      }\n    });\n    return C;\n  },\n  setStrong: function (C, CONSTRUCTOR_NAME, IS_MAP) {\n    var ITERATOR_NAME = CONSTRUCTOR_NAME + ' Iterator';\n    var getInternalCollectionState = internalStateGetterFor(CONSTRUCTOR_NAME);\n    var getInternalIteratorState = internalStateGetterFor(ITERATOR_NAME);\n    // `{ Map, Set }.prototype.{ keys, values, entries, @@iterator }()` methods\n    // https://tc39.es/ecma262/#sec-map.prototype.entries\n    // https://tc39.es/ecma262/#sec-map.prototype.keys\n    // https://tc39.es/ecma262/#sec-map.prototype.values\n    // https://tc39.es/ecma262/#sec-map.prototype-@@iterator\n    // https://tc39.es/ecma262/#sec-set.prototype.entries\n    // https://tc39.es/ecma262/#sec-set.prototype.keys\n    // https://tc39.es/ecma262/#sec-set.prototype.values\n    // https://tc39.es/ecma262/#sec-set.prototype-@@iterator\n    defineIterator(C, CONSTRUCTOR_NAME, function (iterated, kind) {\n      setInternalState(this, {\n        type: ITERATOR_NAME,\n        target: iterated,\n        state: getInternalCollectionState(iterated),\n        kind: kind,\n        last: undefined\n      });\n    }, function () {\n      var state = getInternalIteratorState(this);\n      var kind = state.kind;\n      var entry = state.last;\n      // revert to the last existing entry\n      while (entry && entry.removed) entry = entry.previous;\n      // get next entry\n      if (!state.target || !(state.last = entry = entry ? entry.next : state.state.first)) {\n        // or finish the iteration\n        state.target = undefined;\n        return { value: undefined, done: true };\n      }\n      // return step by kind\n      if (kind == 'keys') return { value: entry.key, done: false };\n      if (kind == 'values') return { value: entry.value, done: false };\n      return { value: [entry.key, entry.value], done: false };\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // `{ Map, Set }.prototype[@@species]` accessors\n    // https://tc39.es/ecma262/#sec-get-map-@@species\n    // https://tc39.es/ecma262/#sec-get-set-@@species\n    setSpecies(CONSTRUCTOR_NAME);\n  }\n};\n","'use strict';\nvar redefineAll = require('../internals/redefine-all');\nvar getWeakData = require('../internals/internal-metadata').getWeakData;\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar anInstance = require('../internals/an-instance');\nvar iterate = require('../internals/iterate');\nvar ArrayIterationModule = require('../internals/array-iteration');\nvar $has = require('../internals/has');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar setInternalState = InternalStateModule.set;\nvar internalStateGetterFor = InternalStateModule.getterFor;\nvar find = ArrayIterationModule.find;\nvar findIndex = ArrayIterationModule.findIndex;\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (store) {\n  return store.frozen || (store.frozen = new UncaughtFrozenStore());\n};\n\nvar UncaughtFrozenStore = function () {\n  this.entries = [];\n};\n\nvar findUncaughtFrozen = function (store, key) {\n  return find(store.entries, function (it) {\n    return it[0] === key;\n  });\n};\n\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.entries.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = findIndex(this.entries, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.entries.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, CONSTRUCTOR_NAME);\n      setInternalState(that, {\n        type: CONSTRUCTOR_NAME,\n        id: id++,\n        frozen: undefined\n      });\n      if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n    });\n\n    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);\n\n    var define = function (that, key, value) {\n      var state = getInternalState(that);\n      var data = getWeakData(anObject(key), true);\n      if (data === true) uncaughtFrozenStore(state).set(key, value);\n      else data[state.id] = value;\n      return that;\n    };\n\n    redefineAll(C.prototype, {\n      // `{ WeakMap, WeakSet }.prototype.delete(key)` methods\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.delete\n      // https://tc39.es/ecma262/#sec-weakset.prototype.delete\n      'delete': function (key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state)['delete'](key);\n        return data && $has(data, state.id) && delete data[state.id];\n      },\n      // `{ WeakMap, WeakSet }.prototype.has(key)` methods\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.has\n      // https://tc39.es/ecma262/#sec-weakset.prototype.has\n      has: function has(key) {\n        var state = getInternalState(this);\n        if (!isObject(key)) return false;\n        var data = getWeakData(key);\n        if (data === true) return uncaughtFrozenStore(state).has(key);\n        return data && $has(data, state.id);\n      }\n    });\n\n    redefineAll(C.prototype, IS_MAP ? {\n      // `WeakMap.prototype.get(key)` method\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.get\n      get: function get(key) {\n        var state = getInternalState(this);\n        if (isObject(key)) {\n          var data = getWeakData(key);\n          if (data === true) return uncaughtFrozenStore(state).get(key);\n          return data ? data[state.id] : undefined;\n        }\n      },\n      // `WeakMap.prototype.set(key, value)` method\n      // https://tc39.es/ecma262/#sec-weakmap.prototype.set\n      set: function set(key, value) {\n        return define(this, key, value);\n      }\n    } : {\n      // `WeakSet.prototype.add(value)` method\n      // https://tc39.es/ecma262/#sec-weakset.prototype.add\n      add: function add(value) {\n        return define(this, value, true);\n      }\n    });\n\n    return C;\n  }\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar iterate = require('../internals/iterate');\nvar anInstance = require('../internals/an-instance');\nvar isObject = require('../internals/is-object');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nmodule.exports = function (CONSTRUCTOR_NAME, wrapper, common) {\n  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;\n  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var NativeConstructor = global[CONSTRUCTOR_NAME];\n  var NativePrototype = NativeConstructor && NativeConstructor.prototype;\n  var Constructor = NativeConstructor;\n  var exported = {};\n\n  var fixMethod = function (KEY) {\n    var nativeMethod = NativePrototype[KEY];\n    redefine(NativePrototype, KEY,\n      KEY == 'add' ? function add(value) {\n        nativeMethod.call(this, value === 0 ? 0 : value);\n        return this;\n      } : KEY == 'delete' ? function (key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'get' ? function get(key) {\n        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : KEY == 'has' ? function has(key) {\n        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);\n      } : function set(key, value) {\n        nativeMethod.call(this, key === 0 ? 0 : key, value);\n        return this;\n      }\n    );\n  };\n\n  var REPLACE = isForced(\n    CONSTRUCTOR_NAME,\n    typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {\n      new NativeConstructor().entries().next();\n    }))\n  );\n\n  if (REPLACE) {\n    // create collection constructor\n    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);\n    InternalMetadataModule.REQUIRED = true;\n  } else if (isForced(CONSTRUCTOR_NAME, true)) {\n    var instance = new Constructor();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    // eslint-disable-next-line no-new -- required for testing\n    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new NativeConstructor();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n\n    if (!ACCEPT_ITERABLES) {\n      Constructor = wrapper(function (dummy, iterable) {\n        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);\n        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);\n        if (iterable != undefined) iterate(iterable, that[ADDER], { that: that, AS_ENTRIES: IS_MAP });\n        return that;\n      });\n      Constructor.prototype = NativePrototype;\n      NativePrototype.constructor = Constructor;\n    }\n\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n\n    // weak collections should not contains .clear method\n    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;\n  }\n\n  exported[CONSTRUCTOR_NAME] = Constructor;\n  $({ global: true, forced: Constructor != NativeConstructor }, exported);\n\n  setToStringTag(Constructor, CONSTRUCTOR_NAME);\n\n  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);\n\n  return Constructor;\n};\n","var has = require('../internals/has');\nvar ownKeys = require('../internals/own-keys');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\n\nmodule.exports = function (target, source) {\n  var keys = ownKeys(source);\n  var defineProperty = definePropertyModule.f;\n  var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!has(target, key)) defineProperty(target, key, getOwnPropertyDescriptor(source, key));\n  }\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  function F() { /* empty */ }\n  F.prototype.constructor = null;\n  // eslint-disable-next-line es/no-object-getprototypeof -- required for testing\n  return Object.getPrototypeOf(new F()) !== F.prototype;\n});\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// `CreateHTML` abstract operation\n// https://tc39.es/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar IteratorPrototype = require('../internals/iterators-core').IteratorPrototype;\nvar create = require('../internals/object-create');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar Iterators = require('../internals/iterators');\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (IteratorConstructor, NAME, next) {\n  var TO_STRING_TAG = NAME + ' Iterator';\n  IteratorConstructor.prototype = create(IteratorPrototype, { next: createPropertyDescriptor(1, next) });\n  setToStringTag(IteratorConstructor, TO_STRING_TAG, false, true);\n  Iterators[TO_STRING_TAG] = returnThis;\n  return IteratorConstructor;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = DESCRIPTORS ? function (object, key, value) {\n  return definePropertyModule.f(object, key, createPropertyDescriptor(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createIteratorConstructor = require('../internals/create-iterator-constructor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\nvar Iterators = require('../internals/iterators');\nvar IteratorsCore = require('../internals/iterators-core');\n\nvar IteratorPrototype = IteratorsCore.IteratorPrototype;\nvar BUGGY_SAFARI_ITERATORS = IteratorsCore.BUGGY_SAFARI_ITERATORS;\nvar ITERATOR = wellKnownSymbol('iterator');\nvar KEYS = 'keys';\nvar VALUES = 'values';\nvar ENTRIES = 'entries';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Iterable, NAME, IteratorConstructor, next, DEFAULT, IS_SET, FORCED) {\n  createIteratorConstructor(IteratorConstructor, NAME, next);\n\n  var getIterationMethod = function (KIND) {\n    if (KIND === DEFAULT && defaultIterator) return defaultIterator;\n    if (!BUGGY_SAFARI_ITERATORS && KIND in IterablePrototype) return IterablePrototype[KIND];\n    switch (KIND) {\n      case KEYS: return function keys() { return new IteratorConstructor(this, KIND); };\n      case VALUES: return function values() { return new IteratorConstructor(this, KIND); };\n      case ENTRIES: return function entries() { return new IteratorConstructor(this, KIND); };\n    } return function () { return new IteratorConstructor(this); };\n  };\n\n  var TO_STRING_TAG = NAME + ' Iterator';\n  var INCORRECT_VALUES_NAME = false;\n  var IterablePrototype = Iterable.prototype;\n  var nativeIterator = IterablePrototype[ITERATOR]\n    || IterablePrototype['@@iterator']\n    || DEFAULT && IterablePrototype[DEFAULT];\n  var defaultIterator = !BUGGY_SAFARI_ITERATORS && nativeIterator || getIterationMethod(DEFAULT);\n  var anyNativeIterator = NAME == 'Array' ? IterablePrototype.entries || nativeIterator : nativeIterator;\n  var CurrentIteratorPrototype, methods, KEY;\n\n  // fix native\n  if (anyNativeIterator) {\n    CurrentIteratorPrototype = getPrototypeOf(anyNativeIterator.call(new Iterable()));\n    if (IteratorPrototype !== Object.prototype && CurrentIteratorPrototype.next) {\n      if (!IS_PURE && getPrototypeOf(CurrentIteratorPrototype) !== IteratorPrototype) {\n        if (setPrototypeOf) {\n          setPrototypeOf(CurrentIteratorPrototype, IteratorPrototype);\n        } else if (typeof CurrentIteratorPrototype[ITERATOR] != 'function') {\n          createNonEnumerableProperty(CurrentIteratorPrototype, ITERATOR, returnThis);\n        }\n      }\n      // Set @@toStringTag to native iterators\n      setToStringTag(CurrentIteratorPrototype, TO_STRING_TAG, true, true);\n      if (IS_PURE) Iterators[TO_STRING_TAG] = returnThis;\n    }\n  }\n\n  // fix Array.prototype.{ values, @@iterator }.name in V8 / FF\n  if (DEFAULT == VALUES && nativeIterator && nativeIterator.name !== VALUES) {\n    INCORRECT_VALUES_NAME = true;\n    defaultIterator = function values() { return nativeIterator.call(this); };\n  }\n\n  // define iterator\n  if ((!IS_PURE || FORCED) && IterablePrototype[ITERATOR] !== defaultIterator) {\n    createNonEnumerableProperty(IterablePrototype, ITERATOR, defaultIterator);\n  }\n  Iterators[NAME] = defaultIterator;\n\n  // export additional methods\n  if (DEFAULT) {\n    methods = {\n      values: getIterationMethod(VALUES),\n      keys: IS_SET ? defaultIterator : getIterationMethod(KEYS),\n      entries: getIterationMethod(ENTRIES)\n    };\n    if (FORCED) for (KEY in methods) {\n      if (BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME || !(KEY in IterablePrototype)) {\n        redefine(IterablePrototype, KEY, methods[KEY]);\n      }\n    } else $({ target: NAME, proto: true, forced: BUGGY_SAFARI_ITERATORS || INCORRECT_VALUES_NAME }, methods);\n  }\n\n  return methods;\n};\n","var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","var fails = require('../internals/fails');\n\n// Detect IE8's incomplete defineProperty implementation\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- required for testing\n  return Object.defineProperty({}, 1, { get: function () { return 7; } })[1] != 7;\n});\n","var global = require('../internals/global');\nvar isObject = require('../internals/is-object');\n\nvar document = global.document;\n// typeof document.createElement is 'object' in old IE\nvar EXISTS = isObject(document) && isObject(document.createElement);\n\nmodule.exports = function (it) {\n  return EXISTS ? document.createElement(it) : {};\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n","var userAgent = require('../internals/engine-user-agent');\n\nvar firefox = userAgent.match(/firefox\\/(\\d+)/i);\n\nmodule.exports = !!firefox && +firefox[1];\n","module.exports = typeof window == 'object';\n","var UA = require('../internals/engine-user-agent');\n\nmodule.exports = /MSIE|Trident/.test(UA);\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /(?:iphone|ipod|ipad).*applewebkit/i.test(userAgent);\n","var classof = require('../internals/classof-raw');\nvar global = require('../internals/global');\n\nmodule.exports = classof(global.process) == 'process';\n","var userAgent = require('../internals/engine-user-agent');\n\nmodule.exports = /web0s(?!.*chrome)/i.test(userAgent);\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('navigator', 'userAgent') || '';\n","var global = require('../internals/global');\nvar userAgent = require('../internals/engine-user-agent');\n\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8;\nvar match, version;\n\nif (v8) {\n  match = v8.split('.');\n  version = match[0] < 4 ? 1 : match[0] + match[1];\n} else if (userAgent) {\n  match = userAgent.match(/Edge\\/(\\d+)/);\n  if (!match || match[1] >= 74) {\n    match = userAgent.match(/Chrome\\/(\\d+)/);\n    if (match) version = match[1];\n  }\n}\n\nmodule.exports = version && +version;\n","var userAgent = require('../internals/engine-user-agent');\n\nvar webkit = userAgent.match(/AppleWebKit\\/(\\d+)\\./);\n\nmodule.exports = !!webkit && +webkit[1];\n","// IE8- don't enum bug keys\nmodule.exports = [\n  'constructor',\n  'hasOwnProperty',\n  'isPrototypeOf',\n  'propertyIsEnumerable',\n  'toLocaleString',\n  'toString',\n  'valueOf'\n];\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar setGlobal = require('../internals/set-global');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar isForced = require('../internals/is-forced');\n\n/*\n  options.target      - name of the target object\n  options.global      - target is the global object\n  options.stat        - export as static methods of target\n  options.proto       - export as prototype methods of target\n  options.real        - real prototype method for the `pure` version\n  options.forced      - export even if the native feature is available\n  options.bind        - bind methods to the target, required for the `pure` version\n  options.wrap        - wrap constructors to preventing global pollution, required for the `pure` version\n  options.unsafe      - use the simple assignment of property instead of delete + defineProperty\n  options.sham        - add a flag to not completely full polyfills\n  options.enumerable  - export as enumerable property\n  options.noTargetGet - prevent calling a getter on target\n*/\nmodule.exports = function (options, source) {\n  var TARGET = options.target;\n  var GLOBAL = options.global;\n  var STATIC = options.stat;\n  var FORCED, target, key, targetProperty, sourceProperty, descriptor;\n  if (GLOBAL) {\n    target = global;\n  } else if (STATIC) {\n    target = global[TARGET] || setGlobal(TARGET, {});\n  } else {\n    target = (global[TARGET] || {}).prototype;\n  }\n  if (target) for (key in source) {\n    sourceProperty = source[key];\n    if (options.noTargetGet) {\n      descriptor = getOwnPropertyDescriptor(target, key);\n      targetProperty = descriptor && descriptor.value;\n    } else targetProperty = target[key];\n    FORCED = isForced(GLOBAL ? key : TARGET + (STATIC ? '.' : '#') + key, options.forced);\n    // contained in target\n    if (!FORCED && targetProperty !== undefined) {\n      if (typeof sourceProperty === typeof targetProperty) continue;\n      copyConstructorProperties(sourceProperty, targetProperty);\n    }\n    // add a flag to not completely full polyfills\n    if (options.sham || (targetProperty && targetProperty.sham)) {\n      createNonEnumerableProperty(sourceProperty, 'sham', true);\n    }\n    // extend global\n    redefine(target, key, sourceProperty, options);\n  }\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (error) {\n    return true;\n  }\n};\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\nvar RegExpPrototype = RegExp.prototype;\n\nmodule.exports = function (KEY, exec, FORCED, SHAM) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    FORCED\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      var $exec = regexp.exec;\n      if ($exec === regexpExec || $exec === RegExpPrototype.exec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    });\n\n    redefine(String.prototype, KEY, methods[0]);\n    redefine(RegExpPrototype, SYMBOL, methods[1]);\n  }\n\n  if (SHAM) createNonEnumerableProperty(RegExpPrototype[SYMBOL], 'sham', true);\n};\n","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  // eslint-disable-next-line es/no-object-isextensible, es/no-object-preventextensions -- required for testing\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","var aFunction = require('../internals/a-function');\n\n// optional / simple context binding\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 0: return function () {\n      return fn.call(that);\n    };\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","'use strict';\nvar aFunction = require('../internals/a-function');\nvar isObject = require('../internals/is-object');\n\nvar slice = [].slice;\nvar factories = {};\n\nvar construct = function (C, argsLength, args) {\n  if (!(argsLength in factories)) {\n    for (var list = [], i = 0; i < argsLength; i++) list[i] = 'a[' + i + ']';\n    // eslint-disable-next-line no-new-func -- we have no proper alternatives, IE8- only\n    factories[argsLength] = Function('C,a', 'return new C(' + list.join(',') + ')');\n  } return factories[argsLength](C, args);\n};\n\n// `Function.prototype.bind` method implementation\n// https://tc39.es/ecma262/#sec-function.prototype.bind\nmodule.exports = Function.bind || function bind(that /* , ...args */) {\n  var fn = aFunction(this);\n  var partArgs = slice.call(arguments, 1);\n  var boundFunction = function bound(/* args... */) {\n    var args = partArgs.concat(slice.call(arguments));\n    return this instanceof boundFunction ? construct(fn, args.length, args) : fn.apply(that, args);\n  };\n  if (isObject(fn.prototype)) boundFunction.prototype = fn.prototype;\n  return boundFunction;\n};\n","var path = require('../internals/path');\nvar global = require('../internals/global');\n\nvar aFunction = function (variable) {\n  return typeof variable == 'function' ? variable : undefined;\n};\n\nmodule.exports = function (namespace, method) {\n  return arguments.length < 2 ? aFunction(path[namespace]) || aFunction(global[namespace])\n    : path[namespace] && path[namespace][method] || global[namespace] && global[namespace][method];\n};\n","var classof = require('../internals/classof');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var toObject = require('../internals/to-object');\n\nvar floor = Math.floor;\nvar replace = ''.replace;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d{1,2}|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d{1,2})/g;\n\n// `GetSubstitution` abstract operation\n// https://tc39.es/ecma262/#sec-getsubstitution\nmodule.exports = function (matched, str, position, captures, namedCaptures, replacement) {\n  var tailPos = position + matched.length;\n  var m = captures.length;\n  var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n  if (namedCaptures !== undefined) {\n    namedCaptures = toObject(namedCaptures);\n    symbols = SUBSTITUTION_SYMBOLS;\n  }\n  return replace.call(replacement, symbols, function (match, ch) {\n    var capture;\n    switch (ch.charAt(0)) {\n      case '$': return '$';\n      case '&': return matched;\n      case '`': return str.slice(0, position);\n      case \"'\": return str.slice(tailPos);\n      case '<':\n        capture = namedCaptures[ch.slice(1, -1)];\n        break;\n      default: // \\d\\d?\n        var n = +ch;\n        if (n === 0) return match;\n        if (n > m) {\n          var f = floor(n / 10);\n          if (f === 0) return match;\n          if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n          return match;\n        }\n        capture = captures[n - 1];\n    }\n    return capture === undefined ? '' : capture;\n  });\n};\n","var check = function (it) {\n  return it && it.Math == Math && it;\n};\n\n// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nmodule.exports =\n  // eslint-disable-next-line es/no-global-this -- safe\n  check(typeof globalThis == 'object' && globalThis) ||\n  check(typeof window == 'object' && window) ||\n  // eslint-disable-next-line no-restricted-globals -- safe\n  check(typeof self == 'object' && self) ||\n  check(typeof global == 'object' && global) ||\n  // eslint-disable-next-line no-new-func -- fallback\n  (function () { return this; })() || Function('return this')();\n","var toObject = require('../internals/to-object');\n\nvar hasOwnProperty = {}.hasOwnProperty;\n\nmodule.exports = Object.hasOwn || function hasOwn(it, key) {\n  return hasOwnProperty.call(toObject(it), key);\n};\n","module.exports = {};\n","var global = require('../internals/global');\n\nmodule.exports = function (a, b) {\n  var console = global.console;\n  if (console && console.error) {\n    arguments.length === 1 ? console.error(a) : console.error(a, b);\n  }\n};\n","var getBuiltIn = require('../internals/get-built-in');\n\nmodule.exports = getBuiltIn('document', 'documentElement');\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar createElement = require('../internals/document-create-element');\n\n// Thank's IE8 for his funny defineProperty\nmodule.exports = !DESCRIPTORS && !fails(function () {\n  // eslint-disable-next-line es/no-object-defineproperty -- requied for testing\n  return Object.defineProperty(createElement('div'), 'a', {\n    get: function () { return 7; }\n  }).a != 7;\n});\n","// IEEE754 conversions based on https://github.com/feross/ieee754\nvar abs = Math.abs;\nvar pow = Math.pow;\nvar floor = Math.floor;\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\nvar pack = function (number, mantissaLength, bytes) {\n  var buffer = new Array(bytes);\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var rt = mantissaLength === 23 ? pow(2, -24) - pow(2, -77) : 0;\n  var sign = number < 0 || number === 0 && 1 / number < 0 ? 1 : 0;\n  var index = 0;\n  var exponent, mantissa, c;\n  number = abs(number);\n  // eslint-disable-next-line no-self-compare -- NaN check\n  if (number != number || number === Infinity) {\n    // eslint-disable-next-line no-self-compare -- NaN check\n    mantissa = number != number ? 1 : 0;\n    exponent = eMax;\n  } else {\n    exponent = floor(log(number) / LN2);\n    if (number * (c = pow(2, -exponent)) < 1) {\n      exponent--;\n      c *= 2;\n    }\n    if (exponent + eBias >= 1) {\n      number += rt / c;\n    } else {\n      number += rt * pow(2, 1 - eBias);\n    }\n    if (number * c >= 2) {\n      exponent++;\n      c /= 2;\n    }\n    if (exponent + eBias >= eMax) {\n      mantissa = 0;\n      exponent = eMax;\n    } else if (exponent + eBias >= 1) {\n      mantissa = (number * c - 1) * pow(2, mantissaLength);\n      exponent = exponent + eBias;\n    } else {\n      mantissa = number * pow(2, eBias - 1) * pow(2, mantissaLength);\n      exponent = 0;\n    }\n  }\n  for (; mantissaLength >= 8; buffer[index++] = mantissa & 255, mantissa /= 256, mantissaLength -= 8);\n  exponent = exponent << mantissaLength | mantissa;\n  exponentLength += mantissaLength;\n  for (; exponentLength > 0; buffer[index++] = exponent & 255, exponent /= 256, exponentLength -= 8);\n  buffer[--index] |= sign * 128;\n  return buffer;\n};\n\nvar unpack = function (buffer, mantissaLength) {\n  var bytes = buffer.length;\n  var exponentLength = bytes * 8 - mantissaLength - 1;\n  var eMax = (1 << exponentLength) - 1;\n  var eBias = eMax >> 1;\n  var nBits = exponentLength - 7;\n  var index = bytes - 1;\n  var sign = buffer[index--];\n  var exponent = sign & 127;\n  var mantissa;\n  sign >>= 7;\n  for (; nBits > 0; exponent = exponent * 256 + buffer[index], index--, nBits -= 8);\n  mantissa = exponent & (1 << -nBits) - 1;\n  exponent >>= -nBits;\n  nBits += mantissaLength;\n  for (; nBits > 0; mantissa = mantissa * 256 + buffer[index], index--, nBits -= 8);\n  if (exponent === 0) {\n    exponent = 1 - eBias;\n  } else if (exponent === eMax) {\n    return mantissa ? NaN : sign ? -Infinity : Infinity;\n  } else {\n    mantissa = mantissa + pow(2, mantissaLength);\n    exponent = exponent - eBias;\n  } return (sign ? -1 : 1) * mantissa * pow(2, exponent - mantissaLength);\n};\n\nmodule.exports = {\n  pack: pack,\n  unpack: unpack\n};\n","var fails = require('../internals/fails');\nvar classof = require('../internals/classof-raw');\n\nvar split = ''.split;\n\n// fallback for non-array-like ES3 and non-enumerable old V8 strings\nmodule.exports = fails(function () {\n  // throws an error in rhino, see https://github.com/mozilla/rhino/issues/346\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  return !Object('z').propertyIsEnumerable(0);\n}) ? function (it) {\n  return classof(it) == 'String' ? split.call(it, '') : Object(it);\n} : Object;\n","var isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    typeof (NewTarget = dummy.constructor) == 'function' &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var store = require('../internals/shared-store');\n\nvar functionToString = Function.toString;\n\n// this helper broken in `core-js@3.4.1-3.4.4`, so we can't use `shared` helper\nif (typeof store.inspectSource != 'function') {\n  store.inspectSource = function (it) {\n    return functionToString.call(it);\n  };\n}\n\nmodule.exports = store.inspectSource;\n","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n","var NATIVE_WEAK_MAP = require('../internals/native-weak-map');\nvar global = require('../internals/global');\nvar isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar objectHas = require('../internals/has');\nvar shared = require('../internals/shared-store');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\n\nvar OBJECT_ALREADY_INITIALIZED = 'Object already initialized';\nvar WeakMap = global.WeakMap;\nvar set, get, has;\n\nvar enforce = function (it) {\n  return has(it) ? get(it) : set(it, {});\n};\n\nvar getterFor = function (TYPE) {\n  return function (it) {\n    var state;\n    if (!isObject(it) || (state = get(it)).type !== TYPE) {\n      throw TypeError('Incompatible receiver, ' + TYPE + ' required');\n    } return state;\n  };\n};\n\nif (NATIVE_WEAK_MAP || shared.state) {\n  var store = shared.state || (shared.state = new WeakMap());\n  var wmget = store.get;\n  var wmhas = store.has;\n  var wmset = store.set;\n  set = function (it, metadata) {\n    if (wmhas.call(store, it)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    wmset.call(store, it, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return wmget.call(store, it) || {};\n  };\n  has = function (it) {\n    return wmhas.call(store, it);\n  };\n} else {\n  var STATE = sharedKey('state');\n  hiddenKeys[STATE] = true;\n  set = function (it, metadata) {\n    if (objectHas(it, STATE)) throw new TypeError(OBJECT_ALREADY_INITIALIZED);\n    metadata.facade = it;\n    createNonEnumerableProperty(it, STATE, metadata);\n    return metadata;\n  };\n  get = function (it) {\n    return objectHas(it, STATE) ? it[STATE] : {};\n  };\n  has = function (it) {\n    return objectHas(it, STATE);\n  };\n}\n\nmodule.exports = {\n  set: set,\n  get: get,\n  has: has,\n  enforce: enforce,\n  getterFor: getterFor\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","var fails = require('../internals/fails');\n\nvar replacement = /#|\\.prototype\\./;\n\nvar isForced = function (feature, detection) {\n  var value = data[normalize(feature)];\n  return value == POLYFILL ? true\n    : value == NATIVE ? false\n    : typeof detection == 'function' ? fails(detection)\n    : !!detection;\n};\n\nvar normalize = isForced.normalize = function (string) {\n  return String(string).replace(replacement, '.').toLowerCase();\n};\n\nvar data = isForced.data = {};\nvar NATIVE = isForced.NATIVE = 'N';\nvar POLYFILL = isForced.POLYFILL = 'P';\n\nmodule.exports = isForced;\n","var isObject = require('../internals/is-object');\n\nvar floor = Math.floor;\n\n// `Number.isInteger` method implementation\n// https://tc39.es/ecma262/#sec-number.isinteger\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","module.exports = false;\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var anObject = require('../internals/an-object');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar bind = require('../internals/function-bind-context');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that, 1 + AS_ENTRIES + INTERRUPTED);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (typeof iterFn != 'function') throw TypeError('Target is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = toLength(iterable.length); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && result instanceof Result) return result;\n      } return new Result(false);\n    }\n    iterator = iterFn.call(iterable);\n  }\n\n  next = iterator.next;\n  while (!(step = next.call(iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator);\n      throw error;\n    }\n    if (typeof result == 'object' && result && result instanceof Result) return result;\n  } return new Result(false);\n};\n","var anObject = require('../internals/an-object');\n\nmodule.exports = function (iterator) {\n  var returnMethod = iterator['return'];\n  if (returnMethod !== undefined) {\n    return anObject(returnMethod.call(iterator)).value;\n  }\n};\n","'use strict';\nvar fails = require('../internals/fails');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_PURE = require('../internals/is-pure');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar BUGGY_SAFARI_ITERATORS = false;\n\nvar returnThis = function () { return this; };\n\n// `%IteratorPrototype%` object\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-object\nvar IteratorPrototype, PrototypeOfArrayIteratorPrototype, arrayIterator;\n\n/* eslint-disable es/no-array-prototype-keys -- safe */\nif ([].keys) {\n  arrayIterator = [].keys();\n  // Safari 8 has buggy iterators w/o `next`\n  if (!('next' in arrayIterator)) BUGGY_SAFARI_ITERATORS = true;\n  else {\n    PrototypeOfArrayIteratorPrototype = getPrototypeOf(getPrototypeOf(arrayIterator));\n    if (PrototypeOfArrayIteratorPrototype !== Object.prototype) IteratorPrototype = PrototypeOfArrayIteratorPrototype;\n  }\n}\n\nvar NEW_ITERATOR_PROTOTYPE = IteratorPrototype == undefined || fails(function () {\n  var test = {};\n  // FF44- legacy iterators case\n  return IteratorPrototype[ITERATOR].call(test) !== test;\n});\n\nif (NEW_ITERATOR_PROTOTYPE) IteratorPrototype = {};\n\n// `%IteratorPrototype%[@@iterator]()` method\n// https://tc39.es/ecma262/#sec-%iteratorprototype%-@@iterator\nif ((!IS_PURE || NEW_ITERATOR_PROTOTYPE) && !has(IteratorPrototype, ITERATOR)) {\n  createNonEnumerableProperty(IteratorPrototype, ITERATOR, returnThis);\n}\n\nmodule.exports = {\n  IteratorPrototype: IteratorPrototype,\n  BUGGY_SAFARI_ITERATORS: BUGGY_SAFARI_ITERATORS\n};\n","module.exports = {};\n","var global = require('../internals/global');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar macrotask = require('../internals/task').set;\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_WEBOS_WEBKIT = require('../internals/engine-is-webos-webkit');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar MutationObserver = global.MutationObserver || global.WebKitMutationObserver;\nvar document = global.document;\nvar process = global.process;\nvar Promise = global.Promise;\n// Node.js 11 shows ExperimentalWarning on getting `queueMicrotask`\nvar queueMicrotaskDescriptor = getOwnPropertyDescriptor(global, 'queueMicrotask');\nvar queueMicrotask = queueMicrotaskDescriptor && queueMicrotaskDescriptor.value;\n\nvar flush, head, last, notify, toggle, node, promise, then;\n\n// modern engines have queueMicrotask method\nif (!queueMicrotask) {\n  flush = function () {\n    var parent, fn;\n    if (IS_NODE && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (error) {\n        if (head) notify();\n        else last = undefined;\n        throw error;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // browsers with MutationObserver, except iOS - https://github.com/zloirock/core-js/issues/339\n  // also except WebOS Webkit https://github.com/zloirock/core-js/issues/898\n  if (!IS_IOS && !IS_NODE && !IS_WEBOS_WEBKIT && MutationObserver && document) {\n    toggle = true;\n    node = document.createTextNode('');\n    new MutationObserver(flush).observe(node, { characterData: true });\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    promise = Promise.resolve(undefined);\n    // workaround of WebKit ~ iOS Safari 10.1 bug\n    promise.constructor = Promise;\n    then = promise.then;\n    notify = function () {\n      then.call(promise, flush);\n    };\n  // Node.js without promises\n  } else if (IS_NODE) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n}\n\nmodule.exports = queueMicrotask || function (fn) {\n  var task = { fn: fn, next: undefined };\n  if (last) last.next = task;\n  if (!head) {\n    head = task;\n    notify();\n  } last = task;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global.Promise;\n","/* eslint-disable es/no-symbol -- required for testing */\nvar V8_VERSION = require('../internals/engine-v8-version');\nvar fails = require('../internals/fails');\n\n// eslint-disable-next-line es/no-object-getownpropertysymbols -- required for testing\nmodule.exports = !!Object.getOwnPropertySymbols && !fails(function () {\n  var symbol = Symbol();\n  // Chrome 38 Symbol has incorrect toString conversion\n  // `get-own-property-symbols` polyfill symbols converted to object are not Symbol instances\n  return !String(symbol) || !(Object(symbol) instanceof Symbol) ||\n    // Chrome 38-40 symbols are not inherited from DOM collections prototypes to instances\n    !Symbol.sham && V8_VERSION && V8_VERSION < 41;\n});\n","var global = require('../internals/global');\nvar inspectSource = require('../internals/inspect-source');\n\nvar WeakMap = global.WeakMap;\n\nmodule.exports = typeof WeakMap === 'function' && /native code/.test(inspectSource(WeakMap));\n","'use strict';\nvar aFunction = require('../internals/a-function');\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\n\n// eslint-disable-next-line es/no-object-assign -- safe\nvar $assign = Object.assign;\n// eslint-disable-next-line es/no-object-defineproperty -- required for testing\nvar defineProperty = Object.defineProperty;\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\nmodule.exports = !$assign || fails(function () {\n  // should have correct order of operations (Edge bug)\n  if (DESCRIPTORS && $assign({ b: 1 }, $assign(defineProperty({}, 'a', {\n    enumerable: true,\n    get: function () {\n      defineProperty(this, 'b', {\n        value: 3,\n        enumerable: false\n      });\n    }\n  }), { b: 2 })).b !== 1) return true;\n  // should work with symbols and should have deterministic property order (V8 bug)\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line es/no-symbol -- safe\n  var symbol = Symbol();\n  var alphabet = 'abcdefghijklmnopqrst';\n  A[symbol] = 7;\n  alphabet.split('').forEach(function (chr) { B[chr] = chr; });\n  return $assign({}, A)[symbol] != 7 || objectKeys($assign({}, B)).join('') != alphabet;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars -- required for `.length`\n  var T = toObject(target);\n  var argumentsLength = arguments.length;\n  var index = 1;\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  var propertyIsEnumerable = propertyIsEnumerableModule.f;\n  while (argumentsLength > index) {\n    var S = IndexedObject(arguments[index++]);\n    var keys = getOwnPropertySymbols ? objectKeys(S).concat(getOwnPropertySymbols(S)) : objectKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var anObject = require('../internals/an-object');\nvar defineProperties = require('../internals/object-define-properties');\nvar enumBugKeys = require('../internals/enum-bug-keys');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar html = require('../internals/html');\nvar documentCreateElement = require('../internals/document-create-element');\nvar sharedKey = require('../internals/shared-key');\n\nvar GT = '>';\nvar LT = '<';\nvar PROTOTYPE = 'prototype';\nvar SCRIPT = 'script';\nvar IE_PROTO = sharedKey('IE_PROTO');\n\nvar EmptyConstructor = function () { /* empty */ };\n\nvar scriptTag = function (content) {\n  return LT + SCRIPT + GT + content + LT + '/' + SCRIPT + GT;\n};\n\n// Create object with fake `null` prototype: use ActiveX Object with cleared prototype\nvar NullProtoObjectViaActiveX = function (activeXDocument) {\n  activeXDocument.write(scriptTag(''));\n  activeXDocument.close();\n  var temp = activeXDocument.parentWindow.Object;\n  activeXDocument = null; // avoid memory leak\n  return temp;\n};\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar NullProtoObjectViaIFrame = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = documentCreateElement('iframe');\n  var JS = 'java' + SCRIPT + ':';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  html.appendChild(iframe);\n  // https://github.com/zloirock/core-js/issues/475\n  iframe.src = String(JS);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(scriptTag('document.F=Object'));\n  iframeDocument.close();\n  return iframeDocument.F;\n};\n\n// Check for document.domain and active x support\n// No need to use active x approach when document.domain is not set\n// see https://github.com/es-shims/es5-shim/issues/150\n// variation of https://github.com/kitcambridge/es5-shim/commit/4f738ac066346\n// avoid IE GC bug\nvar activeXDocument;\nvar NullProtoObject = function () {\n  try {\n    /* global ActiveXObject -- old IE */\n    activeXDocument = document.domain && new ActiveXObject('htmlfile');\n  } catch (error) { /* ignore */ }\n  NullProtoObject = activeXDocument ? NullProtoObjectViaActiveX(activeXDocument) : NullProtoObjectViaIFrame();\n  var length = enumBugKeys.length;\n  while (length--) delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];\n  return NullProtoObject();\n};\n\nhiddenKeys[IE_PROTO] = true;\n\n// `Object.create` method\n// https://tc39.es/ecma262/#sec-object.create\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    EmptyConstructor[PROTOTYPE] = anObject(O);\n    result = new EmptyConstructor();\n    EmptyConstructor[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = NullProtoObject();\n  return Properties === undefined ? result : defineProperties(result, Properties);\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar definePropertyModule = require('../internals/object-define-property');\nvar anObject = require('../internals/an-object');\nvar objectKeys = require('../internals/object-keys');\n\n// `Object.defineProperties` method\n// https://tc39.es/ecma262/#sec-object.defineproperties\n// eslint-disable-next-line es/no-object-defineproperties -- safe\nmodule.exports = DESCRIPTORS ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = objectKeys(Properties);\n  var length = keys.length;\n  var index = 0;\n  var key;\n  while (length > index) definePropertyModule.f(O, key = keys[index++], Properties[key]);\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\nvar anObject = require('../internals/an-object');\nvar toPrimitive = require('../internals/to-primitive');\n\n// eslint-disable-next-line es/no-object-defineproperty -- safe\nvar $defineProperty = Object.defineProperty;\n\n// `Object.defineProperty` method\n// https://tc39.es/ecma262/#sec-object.defineproperty\nexports.f = DESCRIPTORS ? $defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return $defineProperty(O, P, Attributes);\n  } catch (error) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar IE8_DOM_DEFINE = require('../internals/ie8-dom-define');\n\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar $getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\nexports.f = DESCRIPTORS ? $getOwnPropertyDescriptor : function getOwnPropertyDescriptor(O, P) {\n  O = toIndexedObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return $getOwnPropertyDescriptor(O, P);\n  } catch (error) { /* empty */ }\n  if (has(O, P)) return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O, P), O[P]);\n};\n","/* eslint-disable es/no-object-getownpropertynames -- safe */\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar $getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return $getOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : $getOwnPropertyNames(toIndexedObject(it));\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// eslint-disable-next-line es/no-object-getownpropertysymbols -- safe\nexports.f = Object.getOwnPropertySymbols;\n","var has = require('../internals/has');\nvar toObject = require('../internals/to-object');\nvar sharedKey = require('../internals/shared-key');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar IE_PROTO = sharedKey('IE_PROTO');\nvar ObjectPrototype = Object.prototype;\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n// eslint-disable-next-line es/no-object-getprototypeof -- safe\nmodule.exports = CORRECT_PROTOTYPE_GETTER ? Object.getPrototypeOf : function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectPrototype : null;\n};\n","var has = require('../internals/has');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar indexOf = require('../internals/array-includes').indexOf;\nvar hiddenKeys = require('../internals/hidden-keys');\n\nmodule.exports = function (object, names) {\n  var O = toIndexedObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) !has(hiddenKeys, key) && has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~indexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n// eslint-disable-next-line es/no-object-keys -- safe\nmodule.exports = Object.keys || function keys(O) {\n  return internalObjectKeys(O, enumBugKeys);\n};\n","'use strict';\nvar $propertyIsEnumerable = {}.propertyIsEnumerable;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Nashorn ~ JDK8 bug\nvar NASHORN_BUG = getOwnPropertyDescriptor && !$propertyIsEnumerable.call({ 1: 2 }, 1);\n\n// `Object.prototype.propertyIsEnumerable` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.propertyisenumerable\nexports.f = NASHORN_BUG ? function propertyIsEnumerable(V) {\n  var descriptor = getOwnPropertyDescriptor(this, V);\n  return !!descriptor && descriptor.enumerable;\n} : $propertyIsEnumerable;\n","/* eslint-disable no-proto -- safe */\nvar anObject = require('../internals/an-object');\nvar aPossiblePrototype = require('../internals/a-possible-prototype');\n\n// `Object.setPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.setprototypeof\n// Works with __proto__ only. Old v8 can't work with null proto objects.\n// eslint-disable-next-line es/no-object-setprototypeof -- safe\nmodule.exports = Object.setPrototypeOf || ('__proto__' in {} ? function () {\n  var CORRECT_SETTER = false;\n  var test = {};\n  var setter;\n  try {\n    // eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\n    setter = Object.getOwnPropertyDescriptor(Object.prototype, '__proto__').set;\n    setter.call(test, []);\n    CORRECT_SETTER = test instanceof Array;\n  } catch (error) { /* empty */ }\n  return function setPrototypeOf(O, proto) {\n    anObject(O);\n    aPossiblePrototype(proto);\n    if (CORRECT_SETTER) setter.call(O, proto);\n    else O.__proto__ = proto;\n    return O;\n  };\n}() : undefined);\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var getBuiltIn = require('../internals/get-built-in');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar anObject = require('../internals/an-object');\n\n// all object keys, includes non-enumerable and symbols\nmodule.exports = getBuiltIn('Reflect', 'ownKeys') || function ownKeys(it) {\n  var keys = getOwnPropertyNamesModule.f(anObject(it));\n  var getOwnPropertySymbols = getOwnPropertySymbolsModule.f;\n  return getOwnPropertySymbols ? keys.concat(getOwnPropertySymbols(it)) : keys;\n};\n","var global = require('../internals/global');\n\nmodule.exports = global;\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar newPromiseCapability = require('../internals/new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","var redefine = require('../internals/redefine');\n\nmodule.exports = function (target, src, options) {\n  for (var key in src) redefine(target, key, src[key], options);\n  return target;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar has = require('../internals/has');\nvar setGlobal = require('../internals/set-global');\nvar inspectSource = require('../internals/inspect-source');\nvar InternalStateModule = require('../internals/internal-state');\n\nvar getInternalState = InternalStateModule.get;\nvar enforceInternalState = InternalStateModule.enforce;\nvar TEMPLATE = String(String).split('String');\n\n(module.exports = function (O, key, value, options) {\n  var unsafe = options ? !!options.unsafe : false;\n  var simple = options ? !!options.enumerable : false;\n  var noTargetGet = options ? !!options.noTargetGet : false;\n  var state;\n  if (typeof value == 'function') {\n    if (typeof key == 'string' && !has(value, 'name')) {\n      createNonEnumerableProperty(value, 'name', key);\n    }\n    state = enforceInternalState(value);\n    if (!state.source) {\n      state.source = TEMPLATE.join(typeof key == 'string' ? key : '');\n    }\n  }\n  if (O === global) {\n    if (simple) O[key] = value;\n    else setGlobal(key, value);\n    return;\n  } else if (!unsafe) {\n    delete O[key];\n  } else if (!noTargetGet && O[key]) {\n    simple = true;\n  }\n  if (simple) O[key] = value;\n  else createNonEnumerableProperty(O, key, value);\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, 'toString', function toString() {\n  return typeof this == 'function' && getInternalState(this).source || inspectSource(this);\n});\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.es/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\n/* eslint-disable regexp/no-assertion-capturing-group, regexp/no-empty-group, regexp/no-lazy-ends -- testing */\n/* eslint-disable regexp/no-useless-quantifier -- testing */\nvar regexpFlags = require('../internals/regexp-flags');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar shared = require('../internals/shared');\nvar create = require('../internals/object-create');\nvar getInternalState = require('../internals/internal-state').get;\nvar UNSUPPORTED_DOT_ALL = require('../internals/regexp-unsupported-dot-all');\nvar UNSUPPORTED_NCG = require('../internals/regexp-unsupported-ncg');\n\nvar nativeExec = RegExp.prototype.exec;\nvar nativeReplace = shared('native-string-replace', String.prototype.replace);\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y || UNSUPPORTED_DOT_ALL || UNSUPPORTED_NCG;\n\nif (PATCH) {\n  // eslint-disable-next-line max-statements -- TODO\n  patchedExec = function exec(str) {\n    var re = this;\n    var state = getInternalState(re);\n    var raw = state.raw;\n    var result, reCopy, lastIndex, match, i, object, group;\n\n    if (raw) {\n      raw.lastIndex = re.lastIndex;\n      result = patchedExec.call(raw, str);\n      re.lastIndex = raw.lastIndex;\n      return result;\n    }\n\n    var groups = state.groups;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    if (match && groups) {\n      match.groups = object = create(null);\n      for (i = 0; i < groups.length; i++) {\n        group = groups[i];\n        object[group[0]] = match[group[1]];\n      }\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.es/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","var fails = require('../internals/fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\nvar RE = function (s, f) {\n  return RegExp(s, f);\n};\n\nexports.UNSUPPORTED_Y = fails(function () {\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 's') -> /./s and it causes SyntaxError\n  var re = RegExp('.', (typeof '').charAt(0));\n  return !(re.dotAll && re.exec('\\n') && re.flags === 's');\n});\n","var fails = require('./fails');\n\nmodule.exports = fails(function () {\n  // babel-minify transpiles RegExp('.', 'g') -> /./g and it causes SyntaxError\n  var re = RegExp('(?<a>b)', (typeof '').charAt(5));\n  return re.exec('b').groups.a !== 'b' ||\n    'b'.replace(re, '$<a>c') !== 'bc';\n});\n","// `RequireObjectCoercible` abstract operation\n// https://tc39.es/ecma262/#sec-requireobjectcoercible\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on \" + it);\n  return it;\n};\n","var global = require('../internals/global');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nmodule.exports = function (key, value) {\n  try {\n    createNonEnumerableProperty(global, key, value);\n  } catch (error) {\n    global[key] = value;\n  } return value;\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar definePropertyModule = require('../internals/object-define-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar SPECIES = wellKnownSymbol('species');\n\nmodule.exports = function (CONSTRUCTOR_NAME) {\n  var Constructor = getBuiltIn(CONSTRUCTOR_NAME);\n  var defineProperty = definePropertyModule.f;\n\n  if (DESCRIPTORS && Constructor && !Constructor[SPECIES]) {\n    defineProperty(Constructor, SPECIES, {\n      configurable: true,\n      get: function () { return this; }\n    });\n  }\n};\n","var defineProperty = require('../internals/object-define-property').f;\nvar has = require('../internals/has');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\n\nmodule.exports = function (it, TAG, STATIC) {\n  if (it && !has(it = STATIC ? it : it.prototype, TO_STRING_TAG)) {\n    defineProperty(it, TO_STRING_TAG, { configurable: true, value: TAG });\n  }\n};\n","var shared = require('../internals/shared');\nvar uid = require('../internals/uid');\n\nvar keys = shared('keys');\n\nmodule.exports = function (key) {\n  return keys[key] || (keys[key] = uid(key));\n};\n","var global = require('../internals/global');\nvar setGlobal = require('../internals/set-global');\n\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || setGlobal(SHARED, {});\n\nmodule.exports = store;\n","var IS_PURE = require('../internals/is-pure');\nvar store = require('../internals/shared-store');\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: '3.15.1',\n  mode: IS_PURE ? 'pure' : 'global',\n  copyright: '© 2021 Denis Pushkarev (zloirock.ru)'\n});\n","var anObject = require('../internals/an-object');\nvar aFunction = require('../internals/a-function');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `SpeciesConstructor` abstract operation\n// https://tc39.es/ecma262/#sec-speciesconstructor\nmodule.exports = function (O, defaultConstructor) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? defaultConstructor : aFunction(S);\n};\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.es/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = String(requireObjectCoercible(this));\n  var result = '';\n  var n = toInteger(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","var fails = require('../internals/fails');\nvar whitespaces = require('../internals/whitespaces');\n\nvar non = '\\u200B\\u0085\\u180E';\n\n// check that a method works with the correct list\n// of whitespaces and has a correct name\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    return !!whitespaces[METHOD_NAME]() || non[METHOD_NAME]() != non || whitespaces[METHOD_NAME].name !== METHOD_NAME;\n  });\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.es/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.es/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","var global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar bind = require('../internals/function-bind-context');\nvar html = require('../internals/html');\nvar createElement = require('../internals/document-create-element');\nvar IS_IOS = require('../internals/engine-is-ios');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar location = global.location;\nvar set = global.setImmediate;\nvar clear = global.clearImmediate;\nvar process = global.process;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\n\nvar run = function (id) {\n  // eslint-disable-next-line no-prototype-builtins -- safe\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\n\nvar runner = function (id) {\n  return function () {\n    run(id);\n  };\n};\n\nvar listener = function (event) {\n  run(event.data);\n};\n\nvar post = function (id) {\n  // old engines have not location.origin\n  global.postMessage(id + '', location.protocol + '//' + location.host);\n};\n\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!set || !clear) {\n  set = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func -- spec requirement\n      (typeof fn == 'function' ? fn : Function(fn)).apply(undefined, args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clear = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (IS_NODE) {\n    defer = function (id) {\n      process.nextTick(runner(id));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(runner(id));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  // except iOS - https://github.com/zloirock/core-js/issues/624\n  } else if (MessageChannel && !IS_IOS) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = bind(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (\n    global.addEventListener &&\n    typeof postMessage == 'function' &&\n    !global.importScripts &&\n    location && location.protocol !== 'file:' &&\n    !fails(post)\n  ) {\n    defer = post;\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in createElement('script')) {\n    defer = function (id) {\n      html.appendChild(createElement('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(runner(id), 0);\n    };\n  }\n}\n\nmodule.exports = {\n  set: set,\n  clear: clear\n};\n","var toInteger = require('../internals/to-integer');\n\nvar max = Math.max;\nvar min = Math.min;\n\n// Helper for a popular repeating case of the spec:\n// Let integer be ? ToInteger(index).\n// If integer < 0, let result be max((length + integer), 0); else let result be min(integer, length).\nmodule.exports = function (index, length) {\n  var integer = toInteger(index);\n  return integer < 0 ? max(integer + length, 0) : min(integer, length);\n};\n","var toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\n\n// `ToIndex` abstract operation\n// https://tc39.es/ecma262/#sec-toindex\nmodule.exports = function (it) {\n  if (it === undefined) return 0;\n  var number = toInteger(it);\n  var length = toLength(number);\n  if (number !== length) throw RangeError('Wrong length or index');\n  return length;\n};\n","// toObject with fallback for non-array-like ES3 strings\nvar IndexedObject = require('../internals/indexed-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nmodule.exports = function (it) {\n  return IndexedObject(requireObjectCoercible(it));\n};\n","var ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `ToInteger` abstract operation\n// https://tc39.es/ecma262/#sec-tointeger\nmodule.exports = function (argument) {\n  return isNaN(argument = +argument) ? 0 : (argument > 0 ? floor : ceil)(argument);\n};\n","var toInteger = require('../internals/to-integer');\n\nvar min = Math.min;\n\n// `ToLength` abstract operation\n// https://tc39.es/ecma262/#sec-tolength\nmodule.exports = function (argument) {\n  return argument > 0 ? min(toInteger(argument), 0x1FFFFFFFFFFFFF) : 0; // 2 ** 53 - 1 == 9007199254740991\n};\n","var requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `ToObject` abstract operation\n// https://tc39.es/ecma262/#sec-toobject\nmodule.exports = function (argument) {\n  return Object(requireObjectCoercible(argument));\n};\n","var toPositiveInteger = require('../internals/to-positive-integer');\n\nmodule.exports = function (it, BYTES) {\n  var offset = toPositiveInteger(it);\n  if (offset % BYTES) throw RangeError('Wrong offset');\n  return offset;\n};\n","var toInteger = require('../internals/to-integer');\n\nmodule.exports = function (it) {\n  var result = toInteger(it);\n  if (result < 0) throw RangeError(\"The argument can't be less than 0\");\n  return result;\n};\n","var isObject = require('../internals/is-object');\n\n// `ToPrimitive` abstract operation\n// https://tc39.es/ecma262/#sec-toprimitive\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (input, PREFERRED_STRING) {\n  if (!isObject(input)) return input;\n  var fn, val;\n  if (PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (typeof (fn = input.valueOf) == 'function' && !isObject(val = fn.call(input))) return val;\n  if (!PREFERRED_STRING && typeof (fn = input.toString) == 'function' && !isObject(val = fn.call(input))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar test = {};\n\ntest[TO_STRING_TAG] = 'z';\n\nmodule.exports = String(test) === '[object z]';\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS = require('../internals/typed-array-constructors-require-wrappers');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anInstance = require('../internals/an-instance');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar toLength = require('../internals/to-length');\nvar toIndex = require('../internals/to-index');\nvar toOffset = require('../internals/to-offset');\nvar toPrimitive = require('../internals/to-primitive');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar typedArrayFrom = require('../internals/typed-array-from');\nvar forEach = require('../internals/array-iteration').forEach;\nvar setSpecies = require('../internals/set-species');\nvar definePropertyModule = require('../internals/object-define-property');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar InternalStateModule = require('../internals/internal-state');\nvar inheritIfRequired = require('../internals/inherit-if-required');\n\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar round = Math.round;\nvar RangeError = global.RangeError;\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar NATIVE_ARRAY_BUFFER_VIEWS = ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;\nvar TYPED_ARRAY_TAG = ArrayBufferViewCore.TYPED_ARRAY_TAG;\nvar TypedArray = ArrayBufferViewCore.TypedArray;\nvar TypedArrayPrototype = ArrayBufferViewCore.TypedArrayPrototype;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar isTypedArray = ArrayBufferViewCore.isTypedArray;\nvar BYTES_PER_ELEMENT = 'BYTES_PER_ELEMENT';\nvar WRONG_LENGTH = 'Wrong length';\n\nvar fromList = function (C, list) {\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n\nvar addGetter = function (it, key) {\n  nativeDefineProperty(it, key, { get: function () {\n    return getInternalState(this)[key];\n  } });\n};\n\nvar isArrayBuffer = function (it) {\n  var klass;\n  return it instanceof ArrayBuffer || (klass = classof(it)) == 'ArrayBuffer' || klass == 'SharedArrayBuffer';\n};\n\nvar isTypedArrayIndex = function (target, key) {\n  return isTypedArray(target)\n    && typeof key != 'symbol'\n    && key in target\n    && String(+key) == String(key);\n};\n\nvar wrappedGetOwnPropertyDescriptor = function getOwnPropertyDescriptor(target, key) {\n  return isTypedArrayIndex(target, key = toPrimitive(key, true))\n    ? createPropertyDescriptor(2, target[key])\n    : nativeGetOwnPropertyDescriptor(target, key);\n};\n\nvar wrappedDefineProperty = function defineProperty(target, key, descriptor) {\n  if (isTypedArrayIndex(target, key = toPrimitive(key, true))\n    && isObject(descriptor)\n    && has(descriptor, 'value')\n    && !has(descriptor, 'get')\n    && !has(descriptor, 'set')\n    // TODO: add validation descriptor w/o calling accessors\n    && !descriptor.configurable\n    && (!has(descriptor, 'writable') || descriptor.writable)\n    && (!has(descriptor, 'enumerable') || descriptor.enumerable)\n  ) {\n    target[key] = descriptor.value;\n    return target;\n  } return nativeDefineProperty(target, key, descriptor);\n};\n\nif (DESCRIPTORS) {\n  if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n    getOwnPropertyDescriptorModule.f = wrappedGetOwnPropertyDescriptor;\n    definePropertyModule.f = wrappedDefineProperty;\n    addGetter(TypedArrayPrototype, 'buffer');\n    addGetter(TypedArrayPrototype, 'byteOffset');\n    addGetter(TypedArrayPrototype, 'byteLength');\n    addGetter(TypedArrayPrototype, 'length');\n  }\n\n  $({ target: 'Object', stat: true, forced: !NATIVE_ARRAY_BUFFER_VIEWS }, {\n    getOwnPropertyDescriptor: wrappedGetOwnPropertyDescriptor,\n    defineProperty: wrappedDefineProperty\n  });\n\n  module.exports = function (TYPE, wrapper, CLAMPED) {\n    var BYTES = TYPE.match(/\\d+$/)[0] / 8;\n    var CONSTRUCTOR_NAME = TYPE + (CLAMPED ? 'Clamped' : '') + 'Array';\n    var GETTER = 'get' + TYPE;\n    var SETTER = 'set' + TYPE;\n    var NativeTypedArrayConstructor = global[CONSTRUCTOR_NAME];\n    var TypedArrayConstructor = NativeTypedArrayConstructor;\n    var TypedArrayConstructorPrototype = TypedArrayConstructor && TypedArrayConstructor.prototype;\n    var exported = {};\n\n    var getter = function (that, index) {\n      var data = getInternalState(that);\n      return data.view[GETTER](index * BYTES + data.byteOffset, true);\n    };\n\n    var setter = function (that, index, value) {\n      var data = getInternalState(that);\n      if (CLAMPED) value = (value = round(value)) < 0 ? 0 : value > 0xFF ? 0xFF : value & 0xFF;\n      data.view[SETTER](index * BYTES + data.byteOffset, value, true);\n    };\n\n    var addElement = function (that, index) {\n      nativeDefineProperty(that, index, {\n        get: function () {\n          return getter(this, index);\n        },\n        set: function (value) {\n          return setter(this, index, value);\n        },\n        enumerable: true\n      });\n    };\n\n    if (!NATIVE_ARRAY_BUFFER_VIEWS) {\n      TypedArrayConstructor = wrapper(function (that, data, offset, $length) {\n        anInstance(that, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        var index = 0;\n        var byteOffset = 0;\n        var buffer, byteLength, length;\n        if (!isObject(data)) {\n          length = toIndex(data);\n          byteLength = length * BYTES;\n          buffer = new ArrayBuffer(byteLength);\n        } else if (isArrayBuffer(data)) {\n          buffer = data;\n          byteOffset = toOffset(offset, BYTES);\n          var $len = data.byteLength;\n          if ($length === undefined) {\n            if ($len % BYTES) throw RangeError(WRONG_LENGTH);\n            byteLength = $len - byteOffset;\n            if (byteLength < 0) throw RangeError(WRONG_LENGTH);\n          } else {\n            byteLength = toLength($length) * BYTES;\n            if (byteLength + byteOffset > $len) throw RangeError(WRONG_LENGTH);\n          }\n          length = byteLength / BYTES;\n        } else if (isTypedArray(data)) {\n          return fromList(TypedArrayConstructor, data);\n        } else {\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }\n        setInternalState(that, {\n          buffer: buffer,\n          byteOffset: byteOffset,\n          byteLength: byteLength,\n          length: length,\n          view: new DataView(buffer)\n        });\n        while (index < length) addElement(that, index++);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      TypedArrayConstructorPrototype = TypedArrayConstructor.prototype = create(TypedArrayPrototype);\n    } else if (TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS) {\n      TypedArrayConstructor = wrapper(function (dummy, data, typedArrayOffset, $length) {\n        anInstance(dummy, TypedArrayConstructor, CONSTRUCTOR_NAME);\n        return inheritIfRequired(function () {\n          if (!isObject(data)) return new NativeTypedArrayConstructor(toIndex(data));\n          if (isArrayBuffer(data)) return $length !== undefined\n            ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES), $length)\n            : typedArrayOffset !== undefined\n              ? new NativeTypedArrayConstructor(data, toOffset(typedArrayOffset, BYTES))\n              : new NativeTypedArrayConstructor(data);\n          if (isTypedArray(data)) return fromList(TypedArrayConstructor, data);\n          return typedArrayFrom.call(TypedArrayConstructor, data);\n        }(), dummy, TypedArrayConstructor);\n      });\n\n      if (setPrototypeOf) setPrototypeOf(TypedArrayConstructor, TypedArray);\n      forEach(getOwnPropertyNames(NativeTypedArrayConstructor), function (key) {\n        if (!(key in TypedArrayConstructor)) {\n          createNonEnumerableProperty(TypedArrayConstructor, key, NativeTypedArrayConstructor[key]);\n        }\n      });\n      TypedArrayConstructor.prototype = TypedArrayConstructorPrototype;\n    }\n\n    if (TypedArrayConstructorPrototype.constructor !== TypedArrayConstructor) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, 'constructor', TypedArrayConstructor);\n    }\n\n    if (TYPED_ARRAY_TAG) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, TYPED_ARRAY_TAG, CONSTRUCTOR_NAME);\n    }\n\n    exported[CONSTRUCTOR_NAME] = TypedArrayConstructor;\n\n    $({\n      global: true, forced: TypedArrayConstructor != NativeTypedArrayConstructor, sham: !NATIVE_ARRAY_BUFFER_VIEWS\n    }, exported);\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructor)) {\n      createNonEnumerableProperty(TypedArrayConstructor, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    if (!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)) {\n      createNonEnumerableProperty(TypedArrayConstructorPrototype, BYTES_PER_ELEMENT, BYTES);\n    }\n\n    setSpecies(CONSTRUCTOR_NAME);\n  };\n} else module.exports = function () { /* empty */ };\n","/* eslint-disable no-new -- required for testing */\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar NATIVE_ARRAY_BUFFER_VIEWS = require('../internals/array-buffer-view-core').NATIVE_ARRAY_BUFFER_VIEWS;\n\nvar ArrayBuffer = global.ArrayBuffer;\nvar Int8Array = global.Int8Array;\n\nmodule.exports = !NATIVE_ARRAY_BUFFER_VIEWS || !fails(function () {\n  Int8Array(1);\n}) || !fails(function () {\n  new Int8Array(-1);\n}) || !checkCorrectnessOfIteration(function (iterable) {\n  new Int8Array();\n  new Int8Array(null);\n  new Int8Array(1.5);\n  new Int8Array(iterable);\n}, true) || fails(function () {\n  // Safari (11+) bug - a reason why even Safari 13 should load a typed array polyfill\n  return new Int8Array(new ArrayBuffer(2), 1, undefined).length !== 1;\n});\n","var aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\nvar speciesConstructor = require('../internals/species-constructor');\n\nmodule.exports = function (instance, list) {\n  var C = speciesConstructor(instance, instance.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n};\n","var toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar bind = require('../internals/function-bind-context');\nvar aTypedArrayConstructor = require('../internals/array-buffer-view-core').aTypedArrayConstructor;\n\nmodule.exports = function from(source /* , mapfn, thisArg */) {\n  var O = toObject(source);\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var i, length, result, step, iterator, next;\n  if (iteratorMethod != undefined && !isArrayIteratorMethod(iteratorMethod)) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    O = [];\n    while (!(step = next.call(iterator)).done) {\n      O.push(step.value);\n    }\n  }\n  if (mapping && argumentsLength > 2) {\n    mapfn = bind(mapfn, arguments[2], 2);\n  }\n  length = toLength(O.length);\n  result = new (aTypedArrayConstructor(this))(length);\n  for (i = 0; length > i; i++) {\n    result[i] = mapping ? mapfn(O[i], i) : O[i];\n  }\n  return result;\n};\n","var id = 0;\nvar postfix = Math.random();\n\nmodule.exports = function (key) {\n  return 'Symbol(' + String(key === undefined ? '' : key) + ')_' + (++id + postfix).toString(36);\n};\n","/* eslint-disable es/no-symbol -- required for testing */\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\n\nmodule.exports = NATIVE_SYMBOL\n  && !Symbol.sham\n  && typeof Symbol.iterator == 'symbol';\n","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","var global = require('../internals/global');\nvar shared = require('../internals/shared');\nvar has = require('../internals/has');\nvar uid = require('../internals/uid');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\n\nvar WellKnownSymbolsStore = shared('wks');\nvar Symbol = global.Symbol;\nvar createWellKnownSymbol = USE_SYMBOL_AS_UID ? Symbol : Symbol && Symbol.withoutSetter || uid;\n\nmodule.exports = function (name) {\n  if (!has(WellKnownSymbolsStore, name) || !(NATIVE_SYMBOL || typeof WellKnownSymbolsStore[name] == 'string')) {\n    if (NATIVE_SYMBOL && has(Symbol, name)) {\n      WellKnownSymbolsStore[name] = Symbol[name];\n    } else {\n      WellKnownSymbolsStore[name] = createWellKnownSymbol('Symbol.' + name);\n    }\n  } return WellKnownSymbolsStore[name];\n};\n","// a string of all valid unicode whitespaces\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002' +\n  '\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar ArrayBufferModule = require('../internals/array-buffer');\nvar anObject = require('../internals/an-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar ArrayBuffer = ArrayBufferModule.ArrayBuffer;\nvar DataView = ArrayBufferModule.DataView;\nvar nativeArrayBufferSlice = ArrayBuffer.prototype.slice;\n\nvar INCORRECT_SLICE = fails(function () {\n  return !new ArrayBuffer(2).slice(1, undefined).byteLength;\n});\n\n// `ArrayBuffer.prototype.slice` method\n// https://tc39.es/ecma262/#sec-arraybuffer.prototype.slice\n$({ target: 'ArrayBuffer', proto: true, unsafe: true, forced: INCORRECT_SLICE }, {\n  slice: function slice(start, end) {\n    if (nativeArrayBufferSlice !== undefined && end === undefined) {\n      return nativeArrayBufferSlice.call(anObject(this), start); // FF fix\n    }\n    var length = anObject(this).byteLength;\n    var first = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    var result = new (speciesConstructor(this, ArrayBuffer))(toLength(fin - first));\n    var viewSource = new DataView(this);\n    var viewTarget = new DataView(result);\n    var index = 0;\n    while (first < fin) {\n      viewTarget.setUint8(index++, viewSource.getUint8(first++));\n    } return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $filter = require('../internals/array-iteration').filter;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('filter');\n\n// `Array.prototype.filter` method\n// https://tc39.es/ecma262/#sec-array.prototype.filter\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  filter: function filter(callbackfn /* , thisArg */) {\n    return $filter(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  // eslint-disable-next-line es/no-array-from -- required for testing\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.es/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar Iterators = require('../internals/iterators');\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar ARRAY_ITERATOR = 'Array Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(ARRAY_ITERATOR);\n\n// `Array.prototype.entries` method\n// https://tc39.es/ecma262/#sec-array.prototype.entries\n// `Array.prototype.keys` method\n// https://tc39.es/ecma262/#sec-array.prototype.keys\n// `Array.prototype.values` method\n// https://tc39.es/ecma262/#sec-array.prototype.values\n// `Array.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-array.prototype-@@iterator\n// `CreateArrayIterator` internal method\n// https://tc39.es/ecma262/#sec-createarrayiterator\nmodule.exports = defineIterator(Array, 'Array', function (iterated, kind) {\n  setInternalState(this, {\n    type: ARRAY_ITERATOR,\n    target: toIndexedObject(iterated), // target\n    index: 0,                          // next index\n    kind: kind                         // kind\n  });\n// `%ArrayIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%arrayiteratorprototype%.next\n}, function () {\n  var state = getInternalState(this);\n  var target = state.target;\n  var kind = state.kind;\n  var index = state.index++;\n  if (!target || index >= target.length) {\n    state.target = undefined;\n    return { value: undefined, done: true };\n  }\n  if (kind == 'keys') return { value: index, done: false };\n  if (kind == 'values') return { value: target[index], done: false };\n  return { value: [index, target[index]], done: false };\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values%\n// https://tc39.es/ecma262/#sec-createunmappedargumentsobject\n// https://tc39.es/ecma262/#sec-createmappedargumentsobject\nIterators.Arguments = Iterators.Array;\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.es/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar fails = require('../internals/fails');\nvar internalSort = require('../internals/array-sort');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar test = [];\nvar nativeSort = test.sort;\n\n// IE8-\nvar FAILS_ON_UNDEFINED = fails(function () {\n  test.sort(undefined);\n});\n// V8 bug\nvar FAILS_ON_NULL = fails(function () {\n  test.sort(null);\n});\n// Old WebKit\nvar STRICT_METHOD = arrayMethodIsStrict('sort');\n\nvar STABLE_SORT = !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 70;\n  if (FF && FF > 3) return;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 603;\n\n  var result = '';\n  var code, chr, value, index;\n\n  // generate an array with more 512 elements (Chakra and old V8 fails only in this case)\n  for (code = 65; code < 76; code++) {\n    chr = String.fromCharCode(code);\n\n    switch (code) {\n      case 66: case 69: case 70: case 72: value = 3; break;\n      case 68: case 71: value = 4; break;\n      default: value = 2;\n    }\n\n    for (index = 0; index < 47; index++) {\n      test.push({ k: chr + index, v: value });\n    }\n  }\n\n  test.sort(function (a, b) { return b.v - a.v; });\n\n  for (index = 0; index < test.length; index++) {\n    chr = test[index].k.charAt(0);\n    if (result.charAt(result.length - 1) !== chr) result += chr;\n  }\n\n  return result !== 'DGBEFHACIJK';\n});\n\nvar FORCED = FAILS_ON_UNDEFINED || !FAILS_ON_NULL || !STRICT_METHOD || !STABLE_SORT;\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (y === undefined) return -1;\n    if (x === undefined) return 1;\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    return String(x) > String(y) ? 1 : -1;\n  };\n};\n\n// `Array.prototype.sort` method\n// https://tc39.es/ecma262/#sec-array.prototype.sort\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  sort: function sort(comparefn) {\n    if (comparefn !== undefined) aFunction(comparefn);\n\n    var array = toObject(this);\n\n    if (STABLE_SORT) return comparefn === undefined ? nativeSort.call(array) : nativeSort.call(array, comparefn);\n\n    var items = [];\n    var arrayLength = toLength(array.length);\n    var itemsLength, index;\n\n    for (index = 0; index < arrayLength; index++) {\n      if (index in array) items.push(array[index]);\n    }\n\n    items = internalSort(items, getSortCompare(comparefn));\n    itemsLength = items.length;\n    index = 0;\n\n    while (index < itemsLength) array[index] = items[index++];\n    while (index < arrayLength) delete array[index++];\n\n    return array;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Map` constructor\n// https://tc39.es/ecma262/#sec-map-objects\nmodule.exports = collection('Map', function (init) {\n  return function Map() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","var $ = require('../internals/export');\n\nvar log = Math.log;\nvar LN2 = Math.LN2;\n\n// `Math.log2` method\n// https://tc39.es/ecma262/#sec-math.log2\n$({ target: 'Math', stat: true }, {\n  log2: function log2(x) {\n    return log(x) / LN2;\n  }\n});\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.es/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.es/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\n\n// `Number.EPSILON` constant\n// https://tc39.es/ecma262/#sec-number.epsilon\n$({ target: 'Number', stat: true }, {\n  EPSILON: Math.pow(2, -52)\n});\n","var $ = require('../internals/export');\nvar isInteger = require('../internals/is-integer');\n\n// `Number.isInteger` method\n// https://tc39.es/ecma262/#sec-number.isinteger\n$({ target: 'Number', stat: true }, {\n  isInteger: isInteger\n});\n","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.es/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","var $ = require('../internals/export');\nvar assign = require('../internals/object-assign');\n\n// `Object.assign` method\n// https://tc39.es/ecma262/#sec-object.assign\n// eslint-disable-next-line es/no-object-assign -- required for testing\n$({ target: 'Object', stat: true, forced: Object.assign !== assign }, {\n  assign: assign\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar nativeGetPrototypeOf = require('../internals/object-get-prototype-of');\nvar CORRECT_PROTOTYPE_GETTER = require('../internals/correct-prototype-getter');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetPrototypeOf(1); });\n\n// `Object.getPrototypeOf` method\n// https://tc39.es/ecma262/#sec-object.getprototypeof\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !CORRECT_PROTOTYPE_GETTER }, {\n  getPrototypeOf: function getPrototypeOf(it) {\n    return nativeGetPrototypeOf(toObject(it));\n  }\n});\n\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.es/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.es/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar $ = require('../internals/export');\nvar IS_PURE = require('../internals/is-pure');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar NativePromise = require('../internals/native-promise-constructor');\nvar redefine = require('../internals/redefine');\nvar redefineAll = require('../internals/redefine-all');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar setSpecies = require('../internals/set-species');\nvar isObject = require('../internals/is-object');\nvar aFunction = require('../internals/a-function');\nvar anInstance = require('../internals/an-instance');\nvar inspectSource = require('../internals/inspect-source');\nvar iterate = require('../internals/iterate');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\nvar speciesConstructor = require('../internals/species-constructor');\nvar task = require('../internals/task').set;\nvar microtask = require('../internals/microtask');\nvar promiseResolve = require('../internals/promise-resolve');\nvar hostReportErrors = require('../internals/host-report-errors');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar InternalStateModule = require('../internals/internal-state');\nvar isForced = require('../internals/is-forced');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar IS_BROWSER = require('../internals/engine-is-browser');\nvar IS_NODE = require('../internals/engine-is-node');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar SPECIES = wellKnownSymbol('species');\nvar PROMISE = 'Promise';\nvar getInternalState = InternalStateModule.get;\nvar setInternalState = InternalStateModule.set;\nvar getInternalPromiseState = InternalStateModule.getterFor(PROMISE);\nvar NativePromisePrototype = NativePromise && NativePromise.prototype;\nvar PromiseConstructor = NativePromise;\nvar PromiseConstructorPrototype = NativePromisePrototype;\nvar TypeError = global.TypeError;\nvar document = global.document;\nvar process = global.process;\nvar newPromiseCapability = newPromiseCapabilityModule.f;\nvar newGenericPromiseCapability = newPromiseCapability;\nvar DISPATCH_EVENT = !!(document && document.createEvent && global.dispatchEvent);\nvar NATIVE_REJECTION_EVENT = typeof PromiseRejectionEvent == 'function';\nvar UNHANDLED_REJECTION = 'unhandledrejection';\nvar REJECTION_HANDLED = 'rejectionhandled';\nvar PENDING = 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\nvar HANDLED = 1;\nvar UNHANDLED = 2;\nvar SUBCLASSING = false;\nvar Internal, OwnPromiseCapability, PromiseWrapper, nativeThen;\n\nvar FORCED = isForced(PROMISE, function () {\n  var GLOBAL_CORE_JS_PROMISE = inspectSource(PromiseConstructor) !== String(PromiseConstructor);\n  // V8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n  // We can't detect it synchronously, so just check versions\n  if (!GLOBAL_CORE_JS_PROMISE && V8_VERSION === 66) return true;\n  // We need Promise#finally in the pure version for preventing prototype pollution\n  if (IS_PURE && !PromiseConstructorPrototype['finally']) return true;\n  // We can't use @@species feature detection in V8 since it causes\n  // deoptimization and performance degradation\n  // https://github.com/zloirock/core-js/issues/679\n  if (V8_VERSION >= 51 && /native code/.test(PromiseConstructor)) return false;\n  // Detect correctness of subclassing with @@species support\n  var promise = new PromiseConstructor(function (resolve) { resolve(1); });\n  var FakePromise = function (exec) {\n    exec(function () { /* empty */ }, function () { /* empty */ });\n  };\n  var constructor = promise.constructor = {};\n  constructor[SPECIES] = FakePromise;\n  SUBCLASSING = promise.then(function () { /* empty */ }) instanceof FakePromise;\n  if (!SUBCLASSING) return true;\n  // Unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n  return !GLOBAL_CORE_JS_PROMISE && IS_BROWSER && !NATIVE_REJECTION_EVENT;\n});\n\nvar INCORRECT_ITERATION = FORCED || !checkCorrectnessOfIteration(function (iterable) {\n  PromiseConstructor.all(iterable)['catch'](function () { /* empty */ });\n});\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\n\nvar notify = function (state, isReject) {\n  if (state.notified) return;\n  state.notified = true;\n  var chain = state.reactions;\n  microtask(function () {\n    var value = state.value;\n    var ok = state.state == FULFILLED;\n    var index = 0;\n    // variable length - can't use forEach\n    while (chain.length > index) {\n      var reaction = chain[index++];\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (state.rejection === UNHANDLED) onHandleUnhandled(state);\n            state.rejection = HANDLED;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // can throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (error) {\n        if (domain && !exited) domain.exit();\n        reject(error);\n      }\n    }\n    state.reactions = [];\n    state.notified = false;\n    if (isReject && !state.rejection) onUnhandled(state);\n  });\n};\n\nvar dispatchEvent = function (name, promise, reason) {\n  var event, handler;\n  if (DISPATCH_EVENT) {\n    event = document.createEvent('Event');\n    event.promise = promise;\n    event.reason = reason;\n    event.initEvent(name, false, true);\n    global.dispatchEvent(event);\n  } else event = { promise: promise, reason: reason };\n  if (!NATIVE_REJECTION_EVENT && (handler = global['on' + name])) handler(event);\n  else if (name === UNHANDLED_REJECTION) hostReportErrors('Unhandled promise rejection', reason);\n};\n\nvar onUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    var value = state.value;\n    var IS_UNHANDLED = isUnhandled(state);\n    var result;\n    if (IS_UNHANDLED) {\n      result = perform(function () {\n        if (IS_NODE) {\n          process.emit('unhandledRejection', value, promise);\n        } else dispatchEvent(UNHANDLED_REJECTION, promise, value);\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      state.rejection = IS_NODE || isUnhandled(state) ? UNHANDLED : HANDLED;\n      if (result.error) throw result.value;\n    }\n  });\n};\n\nvar isUnhandled = function (state) {\n  return state.rejection !== HANDLED && !state.parent;\n};\n\nvar onHandleUnhandled = function (state) {\n  task.call(global, function () {\n    var promise = state.facade;\n    if (IS_NODE) {\n      process.emit('rejectionHandled', promise);\n    } else dispatchEvent(REJECTION_HANDLED, promise, state.value);\n  });\n};\n\nvar bind = function (fn, state, unwrap) {\n  return function (value) {\n    fn(state, value, unwrap);\n  };\n};\n\nvar internalReject = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  state.value = value;\n  state.state = REJECTED;\n  notify(state, true);\n};\n\nvar internalResolve = function (state, value, unwrap) {\n  if (state.done) return;\n  state.done = true;\n  if (unwrap) state = unwrap;\n  try {\n    if (state.facade === value) throw TypeError(\"Promise can't be resolved itself\");\n    var then = isThenable(value);\n    if (then) {\n      microtask(function () {\n        var wrapper = { done: false };\n        try {\n          then.call(value,\n            bind(internalResolve, wrapper, state),\n            bind(internalReject, wrapper, state)\n          );\n        } catch (error) {\n          internalReject(wrapper, error, state);\n        }\n      });\n    } else {\n      state.value = value;\n      state.state = FULFILLED;\n      notify(state, false);\n    }\n  } catch (error) {\n    internalReject({ done: false }, error, state);\n  }\n};\n\n// constructor polyfill\nif (FORCED) {\n  // 25.4.3.1 Promise(executor)\n  PromiseConstructor = function Promise(executor) {\n    anInstance(this, PromiseConstructor, PROMISE);\n    aFunction(executor);\n    Internal.call(this);\n    var state = getInternalState(this);\n    try {\n      executor(bind(internalResolve, state), bind(internalReject, state));\n    } catch (error) {\n      internalReject(state, error);\n    }\n  };\n  PromiseConstructorPrototype = PromiseConstructor.prototype;\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  Internal = function Promise(executor) {\n    setInternalState(this, {\n      type: PROMISE,\n      done: false,\n      notified: false,\n      parent: false,\n      reactions: [],\n      rejection: false,\n      state: PENDING,\n      value: undefined\n    });\n  };\n  Internal.prototype = redefineAll(PromiseConstructorPrototype, {\n    // `Promise.prototype.then` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.then\n    then: function then(onFulfilled, onRejected) {\n      var state = getInternalPromiseState(this);\n      var reaction = newPromiseCapability(speciesConstructor(this, PromiseConstructor));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = IS_NODE ? process.domain : undefined;\n      state.parent = true;\n      state.reactions.push(reaction);\n      if (state.state != PENDING) notify(state, false);\n      return reaction.promise;\n    },\n    // `Promise.prototype.catch` method\n    // https://tc39.es/ecma262/#sec-promise.prototype.catch\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    var state = getInternalState(promise);\n    this.promise = promise;\n    this.resolve = bind(internalResolve, state);\n    this.reject = bind(internalReject, state);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === PromiseConstructor || C === PromiseWrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n\n  if (!IS_PURE && typeof NativePromise == 'function' && NativePromisePrototype !== Object.prototype) {\n    nativeThen = NativePromisePrototype.then;\n\n    if (!SUBCLASSING) {\n      // make `Promise#then` return a polyfilled `Promise` for native promise-based APIs\n      redefine(NativePromisePrototype, 'then', function then(onFulfilled, onRejected) {\n        var that = this;\n        return new PromiseConstructor(function (resolve, reject) {\n          nativeThen.call(that, resolve, reject);\n        }).then(onFulfilled, onRejected);\n      // https://github.com/zloirock/core-js/issues/640\n      }, { unsafe: true });\n\n      // makes sure that native promise-based APIs `Promise#catch` properly works with patched `Promise#then`\n      redefine(NativePromisePrototype, 'catch', PromiseConstructorPrototype['catch'], { unsafe: true });\n    }\n\n    // make `.constructor === Promise` work for native promise-based APIs\n    try {\n      delete NativePromisePrototype.constructor;\n    } catch (error) { /* empty */ }\n\n    // make `instanceof Promise` work for native promise-based APIs\n    if (setPrototypeOf) {\n      setPrototypeOf(NativePromisePrototype, PromiseConstructorPrototype);\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: FORCED }, {\n  Promise: PromiseConstructor\n});\n\nsetToStringTag(PromiseConstructor, PROMISE, false, true);\nsetSpecies(PROMISE);\n\nPromiseWrapper = getBuiltIn(PROMISE);\n\n// statics\n$({ target: PROMISE, stat: true, forced: FORCED }, {\n  // `Promise.reject` method\n  // https://tc39.es/ecma262/#sec-promise.reject\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    capability.reject.call(undefined, r);\n    return capability.promise;\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: IS_PURE || FORCED }, {\n  // `Promise.resolve` method\n  // https://tc39.es/ecma262/#sec-promise.resolve\n  resolve: function resolve(x) {\n    return promiseResolve(IS_PURE && this === PromiseWrapper ? PromiseConstructor : this, x);\n  }\n});\n\n$({ target: PROMISE, stat: true, forced: INCORRECT_ITERATION }, {\n  // `Promise.all` method\n  // https://tc39.es/ecma262/#sec-promise.all\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        $promiseResolve.call(C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  },\n  // `Promise.race` method\n  // https://tc39.es/ecma262/#sec-promise.race\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      var $promiseResolve = aFunction(C.resolve);\n      iterate(iterable, function (promise) {\n        $promiseResolve.call(C, promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","var $ = require('../internals/export');\nvar getBuiltIn = require('../internals/get-built-in');\nvar aFunction = require('../internals/a-function');\nvar anObject = require('../internals/an-object');\nvar isObject = require('../internals/is-object');\nvar create = require('../internals/object-create');\nvar bind = require('../internals/function-bind');\nvar fails = require('../internals/fails');\n\nvar nativeConstruct = getBuiltIn('Reflect', 'construct');\n\n// `Reflect.construct` method\n// https://tc39.es/ecma262/#sec-reflect.construct\n// MS Edge supports only 2 arguments and argumentsList argument is optional\n// FF Nightly sets third argument as `new.target`, but does not create `this` from it\nvar NEW_TARGET_BUG = fails(function () {\n  function F() { /* empty */ }\n  return !(nativeConstruct(function () { /* empty */ }, [], F) instanceof F);\n});\nvar ARGS_BUG = !fails(function () {\n  nativeConstruct(function () { /* empty */ });\n});\nvar FORCED = NEW_TARGET_BUG || ARGS_BUG;\n\n$({ target: 'Reflect', stat: true, forced: FORCED, sham: FORCED }, {\n  construct: function construct(Target, args /* , newTarget */) {\n    aFunction(Target);\n    anObject(args);\n    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);\n    if (ARGS_BUG && !NEW_TARGET_BUG) return nativeConstruct(Target, args, newTarget);\n    if (Target == newTarget) {\n      // w/o altered newTarget, optimization for 0-4 arguments\n      switch (args.length) {\n        case 0: return new Target();\n        case 1: return new Target(args[0]);\n        case 2: return new Target(args[0], args[1]);\n        case 3: return new Target(args[0], args[1], args[2]);\n        case 4: return new Target(args[0], args[1], args[2], args[3]);\n      }\n      // w/o altered newTarget, lot of arguments case\n      var $args = [null];\n      $args.push.apply($args, args);\n      return new (bind.apply(Target, $args))();\n    }\n    // with altered newTarget, not support built-in constructors\n    var proto = newTarget.prototype;\n    var instance = create(isObject(proto) ? proto : Object.prototype);\n    var result = Function.apply.call(Target, instance, args);\n    return isObject(result) ? result : instance;\n  }\n});\n","var $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar has = require('../internals/has');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar getPrototypeOf = require('../internals/object-get-prototype-of');\n\n// `Reflect.get` method\n// https://tc39.es/ecma262/#sec-reflect.get\nfunction get(target, propertyKey /* , receiver */) {\n  var receiver = arguments.length < 3 ? target : arguments[2];\n  var descriptor, prototype;\n  if (anObject(target) === receiver) return target[propertyKey];\n  if (descriptor = getOwnPropertyDescriptorModule.f(target, propertyKey)) return has(descriptor, 'value')\n    ? descriptor.value\n    : descriptor.get === undefined\n      ? undefined\n      : descriptor.get.call(receiver);\n  if (isObject(prototype = getPrototypeOf(target))) return get(prototype, propertyKey, receiver);\n}\n\n$({ target: 'Reflect', stat: true }, {\n  get: get\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n// `RegExp.prototype.exec` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.exec\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.es/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","'use strict';\nvar collection = require('../internals/collection');\nvar collectionStrong = require('../internals/collection-strong');\n\n// `Set` constructor\n// https://tc39.es/ecma262/#sec-set-objects\nmodule.exports = collection('Set', function (init) {\n  return function Set() { return init(this, arguments.length ? arguments[0] : undefined); };\n}, collectionStrong);\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\nvar InternalStateModule = require('../internals/internal-state');\nvar defineIterator = require('../internals/define-iterator');\n\nvar STRING_ITERATOR = 'String Iterator';\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(STRING_ITERATOR);\n\n// `String.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-string.prototype-@@iterator\ndefineIterator(String, 'String', function (iterated) {\n  setInternalState(this, {\n    type: STRING_ITERATOR,\n    string: String(iterated),\n    index: 0\n  });\n// `%StringIteratorPrototype%.next` method\n// https://tc39.es/ecma262/#sec-%stringiteratorprototype%.next\n}, function next() {\n  var state = getInternalState(this);\n  var string = state.string;\n  var index = state.index;\n  var point;\n  if (index >= string.length) return { value: undefined, done: true };\n  point = charAt(string, index);\n  state.index += point.length;\n  return { value: point, done: false };\n});\n","var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar fails = require('../internals/fails');\nvar anObject = require('../internals/an-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar getSubstitution = require('../internals/get-substitution');\nvar regExpExec = require('../internals/regexp-exec-abstract');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar REPLACE = wellKnownSymbol('replace');\nvar max = Math.max;\nvar min = Math.min;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  // eslint-disable-next-line regexp/prefer-escape-replacement-dollar-char -- required for testing\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', function (_, nativeReplace, maybeCallNative) {\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.es/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@replace\n    function (string, replaceValue) {\n      if (\n        typeof replaceValue === 'string' &&\n        replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1 &&\n        replaceValue.indexOf('$<') === -1\n      ) {\n        var res = maybeCallNative(nativeReplace, this, string, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(this);\n      var S = String(string);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n}, !REPLACE_SUPPORTS_NAMED_GROUPS || !REPLACE_KEEPS_$0 || REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE);\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar stickyHelpers = require('../internals/regexp-sticky-helpers');\nvar fails = require('../internals/fails');\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y;\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  // eslint-disable-next-line regexp/no-empty-group -- required for testing\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    // eslint-disable-next-line regexp/no-empty-group -- required for testing\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    // eslint-disable-next-line regexp/no-assertion-capturing-group, regexp/no-empty-group -- required for testing\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.es/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.es/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (string, limit) {\n      var res = maybeCallNative(internalSplit, this, string, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(this);\n      var S = String(string);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (UNSUPPORTED_Y ? 'g' : 'y');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(UNSUPPORTED_Y ? '^(?:' + rx.source + ')' : rx, flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = UNSUPPORTED_Y ? 0 : q;\n        var z = callRegExpExec(splitter, UNSUPPORTED_Y ? S.slice(q) : S);\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (UNSUPPORTED_Y ? q : 0)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC, UNSUPPORTED_Y);\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.sub` method\n// https://tc39.es/ecma262/#sec-string.prototype.sub\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('sub') }, {\n  sub: function sub() {\n    return createHTML(this, 'sub', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $trim = require('../internals/string-trim').trim;\nvar forcedStringTrimMethod = require('../internals/string-trim-forced');\n\n// `String.prototype.trim` method\n// https://tc39.es/ecma262/#sec-string.prototype.trim\n$({ target: 'String', proto: true, forced: forcedStringTrimMethod('trim') }, {\n  trim: function trim() {\n    return $trim(this);\n  }\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar has = require('../internals/has');\nvar isObject = require('../internals/is-object');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\n\nif (DESCRIPTORS && typeof NativeSymbol == 'function' && (!('description' in NativeSymbol.prototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var result = this instanceof SymbolWrapper\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  var symbolPrototype = SymbolWrapper.prototype = NativeSymbol.prototype;\n  symbolPrototype.constructor = SymbolWrapper;\n\n  var symbolToString = symbolPrototype.toString;\n  var native = String(NativeSymbol('test')) == 'Symbol(test)';\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  defineProperty(symbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = isObject(this) ? this.valueOf() : this;\n      var string = symbolToString.call(symbol);\n      if (has(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = native ? string.slice(7, -1) : string.replace(regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.es/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.es/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.es/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.es/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.es/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.es/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.es/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.es/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars -- required for `.length`\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.es/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $copyWithin = require('../internals/array-copy-within');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.copyWithin` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.copywithin\nexportTypedArrayMethod('copyWithin', function copyWithin(target, start /* , end */) {\n  return $copyWithin.call(aTypedArray(this), target, start, arguments.length > 2 ? arguments[2] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $every = require('../internals/array-iteration').every;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.every` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.every\nexportTypedArrayMethod('every', function every(callbackfn /* , thisArg */) {\n  return $every(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $fill = require('../internals/array-fill');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.fill` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.fill\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('fill', function fill(value /* , start, end */) {\n  return $fill.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $filter = require('../internals/array-iteration').filter;\nvar fromSpeciesAndList = require('../internals/typed-array-from-species-and-list');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.filter` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.filter\nexportTypedArrayMethod('filter', function filter(callbackfn /* , thisArg */) {\n  var list = $filter(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  return fromSpeciesAndList(this, list);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $findIndex = require('../internals/array-iteration').findIndex;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.findindex\nexportTypedArrayMethod('findIndex', function findIndex(predicate /* , thisArg */) {\n  return $findIndex(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $find = require('../internals/array-iteration').find;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.find` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.find\nexportTypedArrayMethod('find', function find(predicate /* , thisArg */) {\n  return $find(aTypedArray(this), predicate, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float32', function (init) {\n  return function Float32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Float64Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Float64', function (init) {\n  return function Float64Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.forEach` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.foreach\nexportTypedArrayMethod('forEach', function forEach(callbackfn /* , thisArg */) {\n  $forEach(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $includes = require('../internals/array-includes').includes;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.includes` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.includes\nexportTypedArrayMethod('includes', function includes(searchElement /* , fromIndex */) {\n  return $includes(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $indexOf = require('../internals/array-includes').indexOf;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.indexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.indexof\nexportTypedArrayMethod('indexOf', function indexOf(searchElement /* , fromIndex */) {\n  return $indexOf(aTypedArray(this), searchElement, arguments.length > 1 ? arguments[1] : undefined);\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int16Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int16', function (init) {\n  return function Int16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int32', function (init) {\n  return function Int32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Int8Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Int8', function (init) {\n  return function Int8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar ArrayIterators = require('../modules/es.array.iterator');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar Uint8Array = global.Uint8Array;\nvar arrayValues = ArrayIterators.values;\nvar arrayKeys = ArrayIterators.keys;\nvar arrayEntries = ArrayIterators.entries;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar nativeTypedArrayIterator = Uint8Array && Uint8Array.prototype[ITERATOR];\n\nvar CORRECT_ITER_NAME = !!nativeTypedArrayIterator\n  && (nativeTypedArrayIterator.name == 'values' || nativeTypedArrayIterator.name == undefined);\n\nvar typedArrayValues = function values() {\n  return arrayValues.call(aTypedArray(this));\n};\n\n// `%TypedArray%.prototype.entries` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.entries\nexportTypedArrayMethod('entries', function entries() {\n  return arrayEntries.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.keys` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.keys\nexportTypedArrayMethod('keys', function keys() {\n  return arrayKeys.call(aTypedArray(this));\n});\n// `%TypedArray%.prototype.values` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.values\nexportTypedArrayMethod('values', typedArrayValues, !CORRECT_ITER_NAME);\n// `%TypedArray%.prototype[@@iterator]` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype-@@iterator\nexportTypedArrayMethod(ITERATOR, typedArrayValues, !CORRECT_ITER_NAME);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $join = [].join;\n\n// `%TypedArray%.prototype.join` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.join\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('join', function join(separator) {\n  return $join.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $lastIndexOf = require('../internals/array-last-index-of');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.lastIndexOf` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.lastindexof\n// eslint-disable-next-line no-unused-vars -- required for `.length`\nexportTypedArrayMethod('lastIndexOf', function lastIndexOf(searchElement /* , fromIndex */) {\n  return $lastIndexOf.apply(aTypedArray(this), arguments);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $map = require('../internals/array-iteration').map;\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.map` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.map\nexportTypedArrayMethod('map', function map(mapfn /* , thisArg */) {\n  return $map(aTypedArray(this), mapfn, arguments.length > 1 ? arguments[1] : undefined, function (O, length) {\n    return new (aTypedArrayConstructor(speciesConstructor(O, O.constructor)))(length);\n  });\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduceRight = require('../internals/array-reduce').right;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduceRicht` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduceright\nexportTypedArrayMethod('reduceRight', function reduceRight(callbackfn /* , initialValue */) {\n  return $reduceRight(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $reduce = require('../internals/array-reduce').left;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reduce\nexportTypedArrayMethod('reduce', function reduce(callbackfn /* , initialValue */) {\n  return $reduce(aTypedArray(this), callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar floor = Math.floor;\n\n// `%TypedArray%.prototype.reverse` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.reverse\nexportTypedArrayMethod('reverse', function reverse() {\n  var that = this;\n  var length = aTypedArray(that).length;\n  var middle = floor(length / 2);\n  var index = 0;\n  var value;\n  while (index < middle) {\n    value = that[index];\n    that[index++] = that[--length];\n    that[length] = value;\n  } return that;\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toOffset = require('../internals/to-offset');\nvar toObject = require('../internals/to-object');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).set({});\n});\n\n// `%TypedArray%.prototype.set` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.set\nexportTypedArrayMethod('set', function set(arrayLike /* , offset */) {\n  aTypedArray(this);\n  var offset = toOffset(arguments.length > 1 ? arguments[1] : undefined, 1);\n  var length = this.length;\n  var src = toObject(arrayLike);\n  var len = toLength(src.length);\n  var index = 0;\n  if (len + offset > length) throw RangeError('Wrong length');\n  while (index < len) this[offset + index] = src[index++];\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar speciesConstructor = require('../internals/species-constructor');\nvar fails = require('../internals/fails');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar aTypedArrayConstructor = ArrayBufferViewCore.aTypedArrayConstructor;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $slice = [].slice;\n\nvar FORCED = fails(function () {\n  // eslint-disable-next-line es/no-typed-arrays -- required for testing\n  new Int8Array(1).slice();\n});\n\n// `%TypedArray%.prototype.slice` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.slice\nexportTypedArrayMethod('slice', function slice(start, end) {\n  var list = $slice.call(aTypedArray(this), start, end);\n  var C = speciesConstructor(this, this.constructor);\n  var index = 0;\n  var length = list.length;\n  var result = new (aTypedArrayConstructor(C))(length);\n  while (length > index) result[index] = list[index++];\n  return result;\n}, FORCED);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar $some = require('../internals/array-iteration').some;\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.some` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.some\nexportTypedArrayMethod('some', function some(callbackfn /* , thisArg */) {\n  return $some(aTypedArray(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n});\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar global = require('../internals/global');\nvar fails = require('../internals/fails');\nvar aFunction = require('../internals/a-function');\nvar toLength = require('../internals/to-length');\nvar internalSort = require('../internals/array-sort');\nvar FF = require('../internals/engine-ff-version');\nvar IE_OR_EDGE = require('../internals/engine-is-ie-or-edge');\nvar V8 = require('../internals/engine-v8-version');\nvar WEBKIT = require('../internals/engine-webkit-version');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar Uint16Array = global.Uint16Array;\nvar nativeSort = Uint16Array && Uint16Array.prototype.sort;\n\n// WebKit\nvar ACCEPT_INCORRECT_ARGUMENTS = !!nativeSort && !fails(function () {\n  var array = new Uint16Array(2);\n  array.sort(null);\n  array.sort({});\n});\n\nvar STABLE_SORT = !!nativeSort && !fails(function () {\n  // feature detection can be too slow, so check engines versions\n  if (V8) return V8 < 74;\n  if (FF) return FF < 67;\n  if (IE_OR_EDGE) return true;\n  if (WEBKIT) return WEBKIT < 602;\n\n  var array = new Uint16Array(516);\n  var expected = Array(516);\n  var index, mod;\n\n  for (index = 0; index < 516; index++) {\n    mod = index % 4;\n    array[index] = 515 - index;\n    expected[index] = index - 2 * mod + 3;\n  }\n\n  array.sort(function (a, b) {\n    return (a / 4 | 0) - (b / 4 | 0);\n  });\n\n  for (index = 0; index < 516; index++) {\n    if (array[index] !== expected[index]) return true;\n  }\n});\n\nvar getSortCompare = function (comparefn) {\n  return function (x, y) {\n    if (comparefn !== undefined) return +comparefn(x, y) || 0;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (y !== y) return -1;\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (x !== x) return 1;\n    if (x === 0 && y === 0) return 1 / x > 0 && 1 / y < 0 ? 1 : -1;\n    return x > y;\n  };\n};\n\n// `%TypedArray%.prototype.sort` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.sort\nexportTypedArrayMethod('sort', function sort(comparefn) {\n  var array = this;\n  if (comparefn !== undefined) aFunction(comparefn);\n  if (STABLE_SORT) return nativeSort.call(array, comparefn);\n\n  aTypedArray(array);\n  var arrayLength = toLength(array.length);\n  var items = Array(arrayLength);\n  var index;\n\n  for (index = 0; index < arrayLength; index++) {\n    items[index] = array[index];\n  }\n\n  items = internalSort(array, getSortCompare(comparefn));\n\n  for (index = 0; index < arrayLength; index++) {\n    array[index] = items[index];\n  }\n\n  return array;\n}, !STABLE_SORT || ACCEPT_INCORRECT_ARGUMENTS);\n","'use strict';\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar toLength = require('../internals/to-length');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar speciesConstructor = require('../internals/species-constructor');\n\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\n\n// `%TypedArray%.prototype.subarray` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.subarray\nexportTypedArrayMethod('subarray', function subarray(begin, end) {\n  var O = aTypedArray(this);\n  var length = O.length;\n  var beginIndex = toAbsoluteIndex(begin, length);\n  return new (speciesConstructor(O, O.constructor))(\n    O.buffer,\n    O.byteOffset + beginIndex * O.BYTES_PER_ELEMENT,\n    toLength((end === undefined ? length : toAbsoluteIndex(end, length)) - beginIndex)\n  );\n});\n","'use strict';\nvar global = require('../internals/global');\nvar ArrayBufferViewCore = require('../internals/array-buffer-view-core');\nvar fails = require('../internals/fails');\n\nvar Int8Array = global.Int8Array;\nvar aTypedArray = ArrayBufferViewCore.aTypedArray;\nvar exportTypedArrayMethod = ArrayBufferViewCore.exportTypedArrayMethod;\nvar $toLocaleString = [].toLocaleString;\nvar $slice = [].slice;\n\n// iOS Safari 6.x fails here\nvar TO_LOCALE_STRING_BUG = !!Int8Array && fails(function () {\n  $toLocaleString.call(new Int8Array(1));\n});\n\nvar FORCED = fails(function () {\n  return [1, 2].toLocaleString() != new Int8Array([1, 2]).toLocaleString();\n}) || !fails(function () {\n  Int8Array.prototype.toLocaleString.call([1, 2]);\n});\n\n// `%TypedArray%.prototype.toLocaleString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tolocalestring\nexportTypedArrayMethod('toLocaleString', function toLocaleString() {\n  return $toLocaleString.apply(TO_LOCALE_STRING_BUG ? $slice.call(aTypedArray(this)) : aTypedArray(this), arguments);\n}, FORCED);\n","'use strict';\nvar exportTypedArrayMethod = require('../internals/array-buffer-view-core').exportTypedArrayMethod;\nvar fails = require('../internals/fails');\nvar global = require('../internals/global');\n\nvar Uint8Array = global.Uint8Array;\nvar Uint8ArrayPrototype = Uint8Array && Uint8Array.prototype || {};\nvar arrayToString = [].toString;\nvar arrayJoin = [].join;\n\nif (fails(function () { arrayToString.call({}); })) {\n  arrayToString = function toString() {\n    return arrayJoin.call(this);\n  };\n}\n\nvar IS_NOT_ARRAY_METHOD = Uint8ArrayPrototype.toString != arrayToString;\n\n// `%TypedArray%.prototype.toString` method\n// https://tc39.es/ecma262/#sec-%typedarray%.prototype.tostring\nexportTypedArrayMethod('toString', arrayToString, IS_NOT_ARRAY_METHOD);\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint16Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint16', function (init) {\n  return function Uint16Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint32Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint32', function (init) {\n  return function Uint32Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8Array` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8Array(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n});\n","var createTypedArrayConstructor = require('../internals/typed-array-constructor');\n\n// `Uint8ClampedArray` constructor\n// https://tc39.es/ecma262/#sec-typedarray-objects\ncreateTypedArrayConstructor('Uint8', function (init) {\n  return function Uint8ClampedArray(data, byteOffset, length) {\n    return init(this, data, byteOffset, length);\n  };\n}, true);\n","'use strict';\nvar global = require('../internals/global');\nvar redefineAll = require('../internals/redefine-all');\nvar InternalMetadataModule = require('../internals/internal-metadata');\nvar collection = require('../internals/collection');\nvar collectionWeak = require('../internals/collection-weak');\nvar isObject = require('../internals/is-object');\nvar enforceIternalState = require('../internals/internal-state').enforce;\nvar NATIVE_WEAK_MAP = require('../internals/native-weak-map');\n\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\n// eslint-disable-next-line es/no-object-isextensible -- safe\nvar isExtensible = Object.isExtensible;\nvar InternalWeakMap;\n\nvar wrapper = function (init) {\n  return function WeakMap() {\n    return init(this, arguments.length ? arguments[0] : undefined);\n  };\n};\n\n// `WeakMap` constructor\n// https://tc39.es/ecma262/#sec-weakmap-constructor\nvar $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);\n\n// IE11 WeakMap frozen keys fix\n// We can't use feature detection because it crash some old IE builds\n// https://github.com/zloirock/core-js/issues/485\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);\n  InternalMetadataModule.REQUIRED = true;\n  var WeakMapPrototype = $WeakMap.prototype;\n  var nativeDelete = WeakMapPrototype['delete'];\n  var nativeHas = WeakMapPrototype.has;\n  var nativeGet = WeakMapPrototype.get;\n  var nativeSet = WeakMapPrototype.set;\n  redefineAll(WeakMapPrototype, {\n    'delete': function (key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeDelete.call(this, key) || state.frozen['delete'](key);\n      } return nativeDelete.call(this, key);\n    },\n    has: function has(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) || state.frozen.has(key);\n      } return nativeHas.call(this, key);\n    },\n    get: function get(key) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);\n      } return nativeGet.call(this, key);\n    },\n    set: function set(key, value) {\n      if (isObject(key) && !isExtensible(key)) {\n        var state = enforceIternalState(this);\n        if (!state.frozen) state.frozen = new InternalWeakMap();\n        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);\n      } else nativeSet.call(this, key, value);\n      return this;\n    }\n  });\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar ArrayIteratorMethods = require('../modules/es.array.iterator');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar TO_STRING_TAG = wellKnownSymbol('toStringTag');\nvar ArrayValues = ArrayIteratorMethods.values;\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  if (CollectionPrototype) {\n    // some Chrome versions have non-configurable methods on DOMTokenList\n    if (CollectionPrototype[ITERATOR] !== ArrayValues) try {\n      createNonEnumerableProperty(CollectionPrototype, ITERATOR, ArrayValues);\n    } catch (error) {\n      CollectionPrototype[ITERATOR] = ArrayValues;\n    }\n    if (!CollectionPrototype[TO_STRING_TAG]) {\n      createNonEnumerableProperty(CollectionPrototype, TO_STRING_TAG, COLLECTION_NAME);\n    }\n    if (DOMIterables[COLLECTION_NAME]) for (var METHOD_NAME in ArrayIteratorMethods) {\n      // some Chrome versions have non-configurable methods on DOMTokenList\n      if (CollectionPrototype[METHOD_NAME] !== ArrayIteratorMethods[METHOD_NAME]) try {\n        createNonEnumerableProperty(CollectionPrototype, METHOD_NAME, ArrayIteratorMethods[METHOD_NAME]);\n      } catch (error) {\n        CollectionPrototype[METHOD_NAME] = ArrayIteratorMethods[METHOD_NAME];\n      }\n    }\n  }\n}\n","'use strict';\nvar $ = require('../internals/export');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return URL.prototype.toString.call(this);\n  }\n});\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","class Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nexport { Vector2 };\n","const _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\n\n\n\nexport {\n\tDEG2RAD,\n\tRAD2DEG,\n\tgenerateUUID,\n\tclamp,\n\teuclideanModulo,\n\tmapLinear,\n\tinverseLerp,\n\tlerp,\n\tdamp,\n\tpingpong,\n\tsmoothstep,\n\tsmootherstep,\n\trandInt,\n\trandFloat,\n\trandFloatSpread,\n\tseededRandom,\n\tdegToRad,\n\tradToDeg,\n\tisPowerOfTwo,\n\tceilPowerOfTwo,\n\tfloorPowerOfTwo,\n\tsetQuaternionFromProperEuler,\n};\n","import * as MathUtils from './MathUtils.js';\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nexport { Quaternion };\n","import * as MathUtils from './MathUtils.js';\nimport { Quaternion } from './Quaternion.js';\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nexport { Vector3 };\n","import { Vector3 } from './Vector3.js';\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nexport { Matrix4 };\n","/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { EventDispatcher };\n","import { Quaternion } from './Quaternion.js';\nimport { Vector3 } from './Vector3.js';\nimport { Matrix4 } from './Matrix4.js';\nimport { clamp } from './MathUtils.js';\n\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nexport { Euler };\n","class Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\n\nexport { Layers };\n","class Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nexport { Matrix3 };\n","import { Quaternion } from '../math/Quaternion.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { Euler } from '../math/Euler.js';\nimport { Layers } from './Layers.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nlet _object3DId = 0;\n\nconst _v1 = new /*@__PURE__*/ Vector3();\nconst _q1 = new /*@__PURE__*/ Quaternion();\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _target = new /*@__PURE__*/ Vector3();\n\nconst _position = new /*@__PURE__*/ Vector3();\nconst _scale = new /*@__PURE__*/ Vector3();\nconst _quaternion = new /*@__PURE__*/ Quaternion();\n\nconst _xAxis = new /*@__PURE__*/ Vector3( 1, 0, 0 );\nconst _yAxis = new /*@__PURE__*/ Vector3( 0, 1, 0 );\nconst _zAxis = new /*@__PURE__*/ Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nexport { Object3D };\n","import { Object3D } from '../core/Object3D.js';\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nGroup.prototype.isGroup = true;\n\nexport { Group };\n","export const REVISION = '128';\nexport const MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nexport const TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nexport const CullFaceNone = 0;\nexport const CullFaceBack = 1;\nexport const CullFaceFront = 2;\nexport const CullFaceFrontBack = 3;\nexport const BasicShadowMap = 0;\nexport const PCFShadowMap = 1;\nexport const PCFSoftShadowMap = 2;\nexport const VSMShadowMap = 3;\nexport const FrontSide = 0;\nexport const BackSide = 1;\nexport const DoubleSide = 2;\nexport const FlatShading = 1;\nexport const SmoothShading = 2;\nexport const NoBlending = 0;\nexport const NormalBlending = 1;\nexport const AdditiveBlending = 2;\nexport const SubtractiveBlending = 3;\nexport const MultiplyBlending = 4;\nexport const CustomBlending = 5;\nexport const AddEquation = 100;\nexport const SubtractEquation = 101;\nexport const ReverseSubtractEquation = 102;\nexport const MinEquation = 103;\nexport const MaxEquation = 104;\nexport const ZeroFactor = 200;\nexport const OneFactor = 201;\nexport const SrcColorFactor = 202;\nexport const OneMinusSrcColorFactor = 203;\nexport const SrcAlphaFactor = 204;\nexport const OneMinusSrcAlphaFactor = 205;\nexport const DstAlphaFactor = 206;\nexport const OneMinusDstAlphaFactor = 207;\nexport const DstColorFactor = 208;\nexport const OneMinusDstColorFactor = 209;\nexport const SrcAlphaSaturateFactor = 210;\nexport const NeverDepth = 0;\nexport const AlwaysDepth = 1;\nexport const LessDepth = 2;\nexport const LessEqualDepth = 3;\nexport const EqualDepth = 4;\nexport const GreaterEqualDepth = 5;\nexport const GreaterDepth = 6;\nexport const NotEqualDepth = 7;\nexport const MultiplyOperation = 0;\nexport const MixOperation = 1;\nexport const AddOperation = 2;\nexport const NoToneMapping = 0;\nexport const LinearToneMapping = 1;\nexport const ReinhardToneMapping = 2;\nexport const CineonToneMapping = 3;\nexport const ACESFilmicToneMapping = 4;\nexport const CustomToneMapping = 5;\n\nexport const UVMapping = 300;\nexport const CubeReflectionMapping = 301;\nexport const CubeRefractionMapping = 302;\nexport const EquirectangularReflectionMapping = 303;\nexport const EquirectangularRefractionMapping = 304;\nexport const CubeUVReflectionMapping = 306;\nexport const CubeUVRefractionMapping = 307;\nexport const RepeatWrapping = 1000;\nexport const ClampToEdgeWrapping = 1001;\nexport const MirroredRepeatWrapping = 1002;\nexport const NearestFilter = 1003;\nexport const NearestMipmapNearestFilter = 1004;\nexport const NearestMipMapNearestFilter = 1004;\nexport const NearestMipmapLinearFilter = 1005;\nexport const NearestMipMapLinearFilter = 1005;\nexport const LinearFilter = 1006;\nexport const LinearMipmapNearestFilter = 1007;\nexport const LinearMipMapNearestFilter = 1007;\nexport const LinearMipmapLinearFilter = 1008;\nexport const LinearMipMapLinearFilter = 1008;\nexport const UnsignedByteType = 1009;\nexport const ByteType = 1010;\nexport const ShortType = 1011;\nexport const UnsignedShortType = 1012;\nexport const IntType = 1013;\nexport const UnsignedIntType = 1014;\nexport const FloatType = 1015;\nexport const HalfFloatType = 1016;\nexport const UnsignedShort4444Type = 1017;\nexport const UnsignedShort5551Type = 1018;\nexport const UnsignedShort565Type = 1019;\nexport const UnsignedInt248Type = 1020;\nexport const AlphaFormat = 1021;\nexport const RGBFormat = 1022;\nexport const RGBAFormat = 1023;\nexport const LuminanceFormat = 1024;\nexport const LuminanceAlphaFormat = 1025;\nexport const RGBEFormat = RGBAFormat;\nexport const DepthFormat = 1026;\nexport const DepthStencilFormat = 1027;\nexport const RedFormat = 1028;\nexport const RedIntegerFormat = 1029;\nexport const RGFormat = 1030;\nexport const RGIntegerFormat = 1031;\nexport const RGBIntegerFormat = 1032;\nexport const RGBAIntegerFormat = 1033;\n\nexport const RGB_S3TC_DXT1_Format = 33776;\nexport const RGBA_S3TC_DXT1_Format = 33777;\nexport const RGBA_S3TC_DXT3_Format = 33778;\nexport const RGBA_S3TC_DXT5_Format = 33779;\nexport const RGB_PVRTC_4BPPV1_Format = 35840;\nexport const RGB_PVRTC_2BPPV1_Format = 35841;\nexport const RGBA_PVRTC_4BPPV1_Format = 35842;\nexport const RGBA_PVRTC_2BPPV1_Format = 35843;\nexport const RGB_ETC1_Format = 36196;\nexport const RGB_ETC2_Format = 37492;\nexport const RGBA_ETC2_EAC_Format = 37496;\nexport const RGBA_ASTC_4x4_Format = 37808;\nexport const RGBA_ASTC_5x4_Format = 37809;\nexport const RGBA_ASTC_5x5_Format = 37810;\nexport const RGBA_ASTC_6x5_Format = 37811;\nexport const RGBA_ASTC_6x6_Format = 37812;\nexport const RGBA_ASTC_8x5_Format = 37813;\nexport const RGBA_ASTC_8x6_Format = 37814;\nexport const RGBA_ASTC_8x8_Format = 37815;\nexport const RGBA_ASTC_10x5_Format = 37816;\nexport const RGBA_ASTC_10x6_Format = 37817;\nexport const RGBA_ASTC_10x8_Format = 37818;\nexport const RGBA_ASTC_10x10_Format = 37819;\nexport const RGBA_ASTC_12x10_Format = 37820;\nexport const RGBA_ASTC_12x12_Format = 37821;\nexport const RGBA_BPTC_Format = 36492;\nexport const SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nexport const SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nexport const SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nexport const SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nexport const SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nexport const SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nexport const SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nexport const SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nexport const SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nexport const SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nexport const SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nexport const SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nexport const SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nexport const SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nexport const LoopOnce = 2200;\nexport const LoopRepeat = 2201;\nexport const LoopPingPong = 2202;\nexport const InterpolateDiscrete = 2300;\nexport const InterpolateLinear = 2301;\nexport const InterpolateSmooth = 2302;\nexport const ZeroCurvatureEnding = 2400;\nexport const ZeroSlopeEnding = 2401;\nexport const WrapAroundEnding = 2402;\nexport const NormalAnimationBlendMode = 2500;\nexport const AdditiveAnimationBlendMode = 2501;\nexport const TrianglesDrawMode = 0;\nexport const TriangleStripDrawMode = 1;\nexport const TriangleFanDrawMode = 2;\nexport const LinearEncoding = 3000;\nexport const sRGBEncoding = 3001;\nexport const GammaEncoding = 3007;\nexport const RGBEEncoding = 3002;\nexport const LogLuvEncoding = 3003;\nexport const RGBM7Encoding = 3004;\nexport const RGBM16Encoding = 3005;\nexport const RGBDEncoding = 3006;\nexport const BasicDepthPacking = 3200;\nexport const RGBADepthPacking = 3201;\nexport const TangentSpaceNormalMap = 0;\nexport const ObjectSpaceNormalMap = 1;\n\nexport const ZeroStencilOp = 0;\nexport const KeepStencilOp = 7680;\nexport const ReplaceStencilOp = 7681;\nexport const IncrementStencilOp = 7682;\nexport const DecrementStencilOp = 7683;\nexport const IncrementWrapStencilOp = 34055;\nexport const DecrementWrapStencilOp = 34056;\nexport const InvertStencilOp = 5386;\n\nexport const NeverStencilFunc = 512;\nexport const LessStencilFunc = 513;\nexport const EqualStencilFunc = 514;\nexport const LessEqualStencilFunc = 515;\nexport const GreaterStencilFunc = 516;\nexport const NotEqualStencilFunc = 517;\nexport const GreaterEqualStencilFunc = 518;\nexport const AlwaysStencilFunc = 519;\n\nexport const StaticDrawUsage = 35044;\nexport const DynamicDrawUsage = 35048;\nexport const StreamDrawUsage = 35040;\nexport const StaticReadUsage = 35045;\nexport const DynamicReadUsage = 35049;\nexport const StreamReadUsage = 35041;\nexport const StaticCopyUsage = 35046;\nexport const DynamicCopyUsage = 35050;\nexport const StreamCopyUsage = 35042;\n\nexport const GLSL1 = '100';\nexport const GLSL3 = '300 es';\n","import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { FrontSide, FlatShading, NormalBlending, LessEqualDepth, AddEquation, OneMinusSrcAlphaFactor, SrcAlphaFactor, AlwaysStencilFunc, KeepStencilOp } from '../constants.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.alphaToCoverage = false;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBuild: function ( /* shaderobject, renderer */ ) {},\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nexport { Material };\n","import * as MathUtils from './MathUtils.js';\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\nexport { Color };\n","import { Material } from './Material.js';\nimport { MultiplyOperation } from '../constants.js';\nimport { Color } from '../math/Color.js';\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nexport { MeshBasicMaterial };\n","import { Vector3 } from './Vector3.js';\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1, _v0 );\n\t\t_f1.subVectors( _v2, _v1 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1, _v2, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector = /*@__PURE__*/ new Vector3();\n\nconst _box = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nexport { Box3 };\n","class Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\nexport { Vector4 };\n","import { Vector4 } from '../math/Vector4.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Color } from '../math/Color.js';\nimport { StaticDrawUsage } from '../constants.js';\n\nconst _vector = new /*@__PURE__*/ Vector3();\nconst _vector2 = new /*@__PURE__*/ Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.onUploadCallback = function () {};\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2.fromBufferAttribute( this, i );\n\t\t\t\t_vector2.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2.x, _vector2.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector.fromBufferAttribute( this, i );\n\t\t\t\t_vector.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector.x = this.getX( i );\n\t\t\t_vector.y = this.getY( i );\n\t\t\t_vector.z = this.getZ( i );\n\n\t\t\t_vector.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\n//\n\nclass Int8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint8ClampedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint8ClampedArray( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Int32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Int32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float64BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float64Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\n//\n\nexport {\n\tFloat64BufferAttribute,\n\tFloat32BufferAttribute,\n\tFloat16BufferAttribute,\n\tUint32BufferAttribute,\n\tInt32BufferAttribute,\n\tUint16BufferAttribute,\n\tInt16BufferAttribute,\n\tUint8ClampedBufferAttribute,\n\tUint8BufferAttribute,\n\tInt8BufferAttribute,\n\tBufferAttribute\n};\n","import { Box3 } from './Box3.js';\nimport { Vector3 } from './Vector3.js';\n\nconst _box = /*@__PURE__*/ new Box3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nexport { Sphere };\n","function arrayMin( array ) {\n\n\tif ( array.length === 0 ) return Infinity;\n\n\tlet min = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] < min ) min = array[ i ];\n\n\t}\n\n\treturn min;\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\tUint8ClampedArray: Uint8ClampedArray,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nexport { arrayMin, arrayMax, getTypedArray };\n","import { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Box3 } from '../math/Box3.js';\nimport { EventDispatcher } from './EventDispatcher.js';\nimport { BufferAttribute, Float32BufferAttribute, Uint16BufferAttribute, Uint32BufferAttribute } from './BufferAttribute.js';\nimport { Sphere } from '../math/Sphere.js';\nimport { Object3D } from './Object3D.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport * as MathUtils from '../math/MathUtils.js';\nimport { arrayMax } from '../utils.js';\n\nlet _id = 0;\n\nconst _m1 = new /*@__PURE__*/ Matrix4();\nconst _obj = new /*@__PURE__*/ Object3D();\nconst _offset = new /*@__PURE__*/ Vector3();\nconst _box = new /*@__PURE__*/ Box3();\nconst _boxMorphTargets = new /*@__PURE__*/ Box3();\nconst _vector = new /*@__PURE__*/ Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector.addVectors( this.boundingBox.min, _box.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector );\n\n\t\t\t\t\t\t_vector.addVectors( this.boundingBox.max, _box.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector.addVectors( _box.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box.expandByPoint( _vector );\n\n\t\t\t\t\t\t_vector.addVectors( _box.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box.expandByPoint( _vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeFaceNormals() {\n\n\t\t// backwards compatibility\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector.fromBufferAttribute( normals, i );\n\n\t\t\t_vector.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector.x, _vector.y, _vector.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nexport { BufferGeometry };\n","import { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\nimport { Vector3 } from '../math/Vector3.js';\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\nexport { BoxGeometry, BoxGeometry as BoxBufferGeometry };\n","import { Vector3 } from './Vector3.js';\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector.dot( this.direction );\n\t\tconst d2 = _vector.dot( _vector ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nexport { Ray };\n","import { Matrix3 } from './Matrix3.js';\nimport { Vector3 } from './Vector3.js';\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nexport { Plane };\n","import { Vector3 } from './Vector3.js';\nimport { Plane } from './Plane.js';\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0.subVectors( a, b );\n\t\ttarget.cross( _v0 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0.subVectors( c, a );\n\t\t_v1.subVectors( b, a );\n\t\t_v2.subVectors( point, a );\n\n\t\tconst dot00 = _v0.dot( _v0 );\n\t\tconst dot01 = _v0.dot( _v1 );\n\t\tconst dot02 = _v0.dot( _v2 );\n\t\tconst dot11 = _v1.dot( _v1 );\n\t\tconst dot12 = _v1.dot( _v2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0.subVectors( c, b );\n\t\t_v1.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0.cross( _v1 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0.subVectors( this.c, this.b );\n\t\t_v1.subVectors( this.a, this.b );\n\n\t\treturn _v0.cross( _v1 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nexport { Triangle };\n","import { Vector3 } from '../math/Vector3.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Sphere } from '../math/Sphere.js';\nimport { Ray } from '../math/Ray.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Triangle } from '../math/Triangle.js';\nimport { DoubleSide, BackSide } from '../constants.js';\nimport { MeshBasicMaterial } from '../materials/MeshBasicMaterial.js';\nimport { BufferGeometry } from '../core/BufferGeometry.js';\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh && material.skinning ) {\n\n\t\tobject.boneTransform( a, _vA );\n\t\tobject.boneTransform( b, _vB );\n\t\tobject.boneTransform( c, _vC );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nexport { Mesh };\n","import { BoxGeometry, DoubleSide, FrontSide, Group, Mesh, MeshBasicMaterial, Vector2 } from \"three\";\nfunction setUVs(box, u, v, width, height, depth, textureWidth, textureHeight) {\n    const toFaceVertices = (x1, y1, x2, y2) => [\n        new Vector2(x1 / textureWidth, 1.0 - y2 / textureHeight),\n        new Vector2(x2 / textureWidth, 1.0 - y2 / textureHeight),\n        new Vector2(x2 / textureWidth, 1.0 - y1 / textureHeight),\n        new Vector2(x1 / textureWidth, 1.0 - y1 / textureHeight)\n    ];\n    const top = toFaceVertices(u + depth, v, u + width + depth, v + depth);\n    const bottom = toFaceVertices(u + width + depth, v, u + width * 2 + depth, v + depth);\n    const left = toFaceVertices(u, v + depth, u + depth, v + depth + height);\n    const front = toFaceVertices(u + depth, v + depth, u + width + depth, v + depth + height);\n    const right = toFaceVertices(u + width + depth, v + depth, u + width + depth * 2, v + height + depth);\n    const back = toFaceVertices(u + width + depth * 2, v + depth, u + width * 2 + depth * 2, v + height + depth);\n    const uvAttr = box.attributes.uv;\n    uvAttr.copyVector2sArray([\n        right[3], right[2], right[0], right[1],\n        left[3], left[2], left[0], left[1],\n        top[3], top[2], top[0], top[1],\n        bottom[0], bottom[1], bottom[3], bottom[2],\n        front[3], front[2], front[0], front[1],\n        back[3], back[2], back[0], back[1]\n    ]);\n    uvAttr.needsUpdate = true;\n}\nfunction setSkinUVs(box, u, v, width, height, depth) {\n    setUVs(box, u, v, width, height, depth, 64, 64);\n}\nfunction setCapeUVs(box, u, v, width, height, depth) {\n    setUVs(box, u, v, width, height, depth, 64, 32);\n}\n/**\n * Notice that innerLayer and outerLayer may NOT be the direct children of the Group.\n */\nexport class BodyPart extends Group {\n    constructor(innerLayer, outerLayer) {\n        super();\n        this.innerLayer = innerLayer;\n        this.outerLayer = outerLayer;\n        innerLayer.name = \"inner\";\n        outerLayer.name = \"outer\";\n    }\n}\nexport class SkinObject extends Group {\n    constructor(texture) {\n        super();\n        this.modelListeners = []; // called when model(slim property) is changed\n        this.slim = false;\n        const layer1Material = new MeshBasicMaterial({\n            map: texture,\n            side: FrontSide\n        });\n        const layer2Material = new MeshBasicMaterial({\n            map: texture,\n            side: DoubleSide,\n            transparent: true,\n            alphaTest: 1e-5\n        });\n        const layer1MaterialBiased = layer1Material.clone();\n        layer1MaterialBiased.polygonOffset = true;\n        layer1MaterialBiased.polygonOffsetFactor = 1.0;\n        layer1MaterialBiased.polygonOffsetUnits = 1.0;\n        const layer2MaterialBiased = layer2Material.clone();\n        layer2MaterialBiased.polygonOffset = true;\n        layer2MaterialBiased.polygonOffsetFactor = 1.0;\n        layer2MaterialBiased.polygonOffsetUnits = 1.0;\n        // Head\n        const headBox = new BoxGeometry(8, 8, 8);\n        setSkinUVs(headBox, 0, 0, 8, 8, 8);\n        const headMesh = new Mesh(headBox, layer1Material);\n        const head2Box = new BoxGeometry(9, 9, 9);\n        setSkinUVs(head2Box, 32, 0, 8, 8, 8);\n        const head2Mesh = new Mesh(head2Box, layer2Material);\n        this.head = new BodyPart(headMesh, head2Mesh);\n        this.head.name = \"head\";\n        this.head.add(headMesh, head2Mesh);\n        this.head.position.y = 4;\n        this.add(this.head);\n        // Body\n        const bodyBox = new BoxGeometry(8, 12, 4);\n        setSkinUVs(bodyBox, 16, 16, 8, 12, 4);\n        const bodyMesh = new Mesh(bodyBox, layer1Material);\n        const body2Box = new BoxGeometry(8.5, 12.5, 4.5);\n        setSkinUVs(body2Box, 16, 32, 8, 12, 4);\n        const body2Mesh = new Mesh(body2Box, layer2Material);\n        this.body = new BodyPart(bodyMesh, body2Mesh);\n        this.body.name = \"body\";\n        this.body.add(bodyMesh, body2Mesh);\n        this.body.position.y = -6;\n        this.add(this.body);\n        // Right Arm\n        const rightArmBox = new BoxGeometry();\n        const rightArmMesh = new Mesh(rightArmBox, layer1MaterialBiased);\n        this.modelListeners.push(() => {\n            rightArmMesh.scale.x = this.slim ? 3 : 4;\n            rightArmMesh.scale.y = 12;\n            rightArmMesh.scale.z = 4;\n            setSkinUVs(rightArmBox, 40, 16, this.slim ? 3 : 4, 12, 4);\n        });\n        const rightArm2Box = new BoxGeometry();\n        const rightArm2Mesh = new Mesh(rightArm2Box, layer2MaterialBiased);\n        this.modelListeners.push(() => {\n            rightArm2Mesh.scale.x = this.slim ? 3.5 : 4.5;\n            rightArm2Mesh.scale.y = 12.5;\n            rightArm2Mesh.scale.z = 4.5;\n            setSkinUVs(rightArm2Box, 40, 32, this.slim ? 3 : 4, 12, 4);\n        });\n        const rightArmPivot = new Group();\n        rightArmPivot.add(rightArmMesh, rightArm2Mesh);\n        this.modelListeners.push(() => {\n            rightArmPivot.position.x = this.slim ? -.5 : -1;\n        });\n        rightArmPivot.position.y = -4;\n        this.rightArm = new BodyPart(rightArmMesh, rightArm2Mesh);\n        this.rightArm.name = \"rightArm\";\n        this.rightArm.add(rightArmPivot);\n        this.rightArm.position.x = -5;\n        this.rightArm.position.y = -2;\n        this.add(this.rightArm);\n        // Left Arm\n        const leftArmBox = new BoxGeometry();\n        const leftArmMesh = new Mesh(leftArmBox, layer1MaterialBiased);\n        this.modelListeners.push(() => {\n            leftArmMesh.scale.x = this.slim ? 3 : 4;\n            leftArmMesh.scale.y = 12;\n            leftArmMesh.scale.z = 4;\n            setSkinUVs(leftArmBox, 32, 48, this.slim ? 3 : 4, 12, 4);\n        });\n        const leftArm2Box = new BoxGeometry();\n        const leftArm2Mesh = new Mesh(leftArm2Box, layer2MaterialBiased);\n        this.modelListeners.push(() => {\n            leftArm2Mesh.scale.x = this.slim ? 3.5 : 4.5;\n            leftArm2Mesh.scale.y = 12.5;\n            leftArm2Mesh.scale.z = 4.5;\n            setSkinUVs(leftArm2Box, 48, 48, this.slim ? 3 : 4, 12, 4);\n        });\n        const leftArmPivot = new Group();\n        leftArmPivot.add(leftArmMesh, leftArm2Mesh);\n        this.modelListeners.push(() => {\n            leftArmPivot.position.x = this.slim ? 0.5 : 1;\n        });\n        leftArmPivot.position.y = -4;\n        this.leftArm = new BodyPart(leftArmMesh, leftArm2Mesh);\n        this.leftArm.name = \"leftArm\";\n        this.leftArm.add(leftArmPivot);\n        this.leftArm.position.x = 5;\n        this.leftArm.position.y = -2;\n        this.add(this.leftArm);\n        // Right Leg\n        const rightLegBox = new BoxGeometry(4, 12, 4);\n        setSkinUVs(rightLegBox, 0, 16, 4, 12, 4);\n        const rightLegMesh = new Mesh(rightLegBox, layer1MaterialBiased);\n        const rightLeg2Box = new BoxGeometry(4.5, 12.5, 4.5);\n        setSkinUVs(rightLeg2Box, 0, 32, 4, 12, 4);\n        const rightLeg2Mesh = new Mesh(rightLeg2Box, layer2MaterialBiased);\n        const rightLegPivot = new Group();\n        rightLegPivot.add(rightLegMesh, rightLeg2Mesh);\n        rightLegPivot.position.y = -6;\n        this.rightLeg = new BodyPart(rightLegMesh, rightLeg2Mesh);\n        this.rightLeg.name = \"rightLeg\";\n        this.rightLeg.add(rightLegPivot);\n        this.rightLeg.position.x = -1.9;\n        this.rightLeg.position.y = -12;\n        this.rightLeg.position.z = -.1;\n        this.add(this.rightLeg);\n        // Left Leg\n        const leftLegBox = new BoxGeometry(4, 12, 4);\n        setSkinUVs(leftLegBox, 16, 48, 4, 12, 4);\n        const leftLegMesh = new Mesh(leftLegBox, layer1MaterialBiased);\n        const leftLeg2Box = new BoxGeometry(4.5, 12.5, 4.5);\n        setSkinUVs(leftLeg2Box, 0, 48, 4, 12, 4);\n        const leftLeg2Mesh = new Mesh(leftLeg2Box, layer2MaterialBiased);\n        const leftLegPivot = new Group();\n        leftLegPivot.add(leftLegMesh, leftLeg2Mesh);\n        leftLegPivot.position.y = -6;\n        this.leftLeg = new BodyPart(leftLegMesh, leftLeg2Mesh);\n        this.leftLeg.name = \"leftLeg\";\n        this.leftLeg.add(leftLegPivot);\n        this.leftLeg.position.x = 1.9;\n        this.leftLeg.position.y = -12;\n        this.leftLeg.position.z = -.1;\n        this.add(this.leftLeg);\n        this.modelType = \"default\";\n    }\n    get modelType() {\n        return this.slim ? \"slim\" : \"default\";\n    }\n    set modelType(value) {\n        this.slim = value === \"slim\";\n        this.modelListeners.forEach(listener => listener());\n    }\n    getBodyParts() {\n        return this.children.filter(it => it instanceof BodyPart);\n    }\n    setInnerLayerVisible(value) {\n        this.getBodyParts().forEach(part => part.innerLayer.visible = value);\n    }\n    setOuterLayerVisible(value) {\n        this.getBodyParts().forEach(part => part.outerLayer.visible = value);\n    }\n}\nexport class CapeObject extends Group {\n    constructor(texture) {\n        super();\n        const capeMaterial = new MeshBasicMaterial({\n            map: texture,\n            side: DoubleSide,\n            transparent: true,\n            alphaTest: 1e-5\n        });\n        // +z (front) - inside of cape\n        // -z (back) - outside of cape\n        const capeBox = new BoxGeometry(10, 16, 1);\n        setCapeUVs(capeBox, 0, 0, 10, 16, 1);\n        this.cape = new Mesh(capeBox, capeMaterial);\n        this.cape.position.y = -8;\n        this.cape.position.z = .5;\n        this.add(this.cape);\n    }\n}\nexport class ElytraObject extends Group {\n    constructor(texture) {\n        super();\n        const elytraMaterial = new MeshBasicMaterial({\n            map: texture,\n            side: DoubleSide,\n            transparent: true,\n            alphaTest: 1e-5\n        });\n        const leftWingBox = new BoxGeometry(12, 22, 4);\n        setCapeUVs(leftWingBox, 22, 0, 10, 20, 2);\n        const leftWingMesh = new Mesh(leftWingBox, elytraMaterial);\n        leftWingMesh.position.x = -5;\n        leftWingMesh.position.y = -10;\n        leftWingMesh.position.z = -1;\n        this.leftWing = new Group();\n        this.leftWing.add(leftWingMesh);\n        this.add(this.leftWing);\n        const rightWingBox = new BoxGeometry(12, 22, 4);\n        setCapeUVs(rightWingBox, 22, 0, 10, 20, 2);\n        const rightWingMesh = new Mesh(rightWingBox, elytraMaterial);\n        rightWingMesh.scale.x = -1;\n        rightWingMesh.position.x = 5;\n        rightWingMesh.position.y = -10;\n        rightWingMesh.position.z = -1;\n        this.rightWing = new Group();\n        this.rightWing.add(rightWingMesh);\n        this.add(this.rightWing);\n        this.leftWing.position.x = 5;\n        this.leftWing.rotation.x = .2617994;\n        this.leftWing.rotation.y = .01; // to avoid z-fighting\n        this.leftWing.rotation.z = .2617994;\n        this.updateRightWing();\n    }\n    /**\n     * Mirrors the position & rotation of left wing,\n     * and apply them to the right wing.\n     */\n    updateRightWing() {\n        this.rightWing.position.x = -this.leftWing.position.x;\n        this.rightWing.position.y = this.leftWing.position.y;\n        this.rightWing.rotation.x = this.leftWing.rotation.x;\n        this.rightWing.rotation.y = -this.leftWing.rotation.y;\n        this.rightWing.rotation.z = -this.leftWing.rotation.z;\n    }\n}\nexport class PlayerObject extends Group {\n    constructor(skinTexture, capeTexture) {\n        super();\n        this.skin = new SkinObject(skinTexture);\n        this.skin.name = \"skin\";\n        this.add(this.skin);\n        this.cape = new CapeObject(capeTexture);\n        this.cape.name = \"cape\";\n        this.cape.position.z = -2;\n        this.cape.rotation.x = 10.8 * Math.PI / 180;\n        this.cape.rotation.y = Math.PI;\n        this.add(this.cape);\n        this.elytra = new ElytraObject(capeTexture);\n        this.elytra.name = \"elytra\";\n        this.elytra.position.z = -2;\n        this.elytra.visible = false;\n        this.add(this.elytra);\n    }\n    get backEquipment() {\n        if (this.cape.visible) {\n            return \"cape\";\n        }\n        else if (this.elytra.visible) {\n            return \"elytra\";\n        }\n        else {\n            return null;\n        }\n    }\n    set backEquipment(value) {\n        this.cape.visible = value === \"cape\";\n        this.elytra.visible = value === \"elytra\";\n    }\n}\n//# sourceMappingURL=model.js.map","let _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ImageUtils };\n","export function isTextureSource(value) {\n    return value instanceof HTMLImageElement ||\n        value instanceof HTMLVideoElement ||\n        value instanceof HTMLCanvasElement ||\n        (typeof ImageBitmap !== \"undefined\" && value instanceof ImageBitmap) ||\n        (typeof OffscreenCanvas !== \"undefined\" && value instanceof OffscreenCanvas);\n}\n//# sourceMappingURL=types.js.map","function copyImage(context, sX, sY, w, h, dX, dY, flipHorizontal) {\n    const imgData = context.getImageData(sX, sY, w, h);\n    if (flipHorizontal) {\n        for (let y = 0; y < h; y++) {\n            for (let x = 0; x < (w / 2); x++) {\n                const index = (x + y * w) * 4;\n                const index2 = ((w - x - 1) + y * w) * 4;\n                const pA1 = imgData.data[index];\n                const pA2 = imgData.data[index + 1];\n                const pA3 = imgData.data[index + 2];\n                const pA4 = imgData.data[index + 3];\n                const pB1 = imgData.data[index2];\n                const pB2 = imgData.data[index2 + 1];\n                const pB3 = imgData.data[index2 + 2];\n                const pB4 = imgData.data[index2 + 3];\n                imgData.data[index] = pB1;\n                imgData.data[index + 1] = pB2;\n                imgData.data[index + 2] = pB3;\n                imgData.data[index + 3] = pB4;\n                imgData.data[index2] = pA1;\n                imgData.data[index2 + 1] = pA2;\n                imgData.data[index2 + 2] = pA3;\n                imgData.data[index2 + 3] = pA4;\n            }\n        }\n    }\n    context.putImageData(imgData, dX, dY);\n}\nfunction hasTransparency(context, x0, y0, w, h) {\n    const imgData = context.getImageData(x0, y0, w, h);\n    for (let x = 0; x < w; x++) {\n        for (let y = 0; y < h; y++) {\n            const offset = (x + y * w) * 4;\n            if (imgData.data[offset + 3] !== 0xff) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\nfunction computeSkinScale(width) {\n    return width / 64.0;\n}\nfunction fixOpaqueSkin(context, width) {\n    // Some ancient skins don't have transparent pixels (nor have helm).\n    // We have to make the helm area transparent, otherwise it will be rendered as black.\n    if (!hasTransparency(context, 0, 0, width, width / 2)) {\n        const scale = computeSkinScale(width);\n        const clearArea = (x, y, w, h) => context.clearRect(x * scale, y * scale, w * scale, h * scale);\n        clearArea(40, 0, 8, 8); // Helm Top\n        clearArea(48, 0, 8, 8); // Helm Bottom\n        clearArea(32, 8, 8, 8); // Helm Right\n        clearArea(40, 8, 8, 8); // Helm Front\n        clearArea(48, 8, 8, 8); // Helm Left\n        clearArea(56, 8, 8, 8); // Helm Back\n    }\n}\nfunction convertSkinTo1_8(context, width) {\n    const scale = computeSkinScale(width);\n    const copySkin = (sX, sY, w, h, dX, dY, flipHorizontal) => copyImage(context, sX * scale, sY * scale, w * scale, h * scale, dX * scale, dY * scale, flipHorizontal);\n    fixOpaqueSkin(context, width);\n    copySkin(4, 16, 4, 4, 20, 48, true); // Top Leg\n    copySkin(8, 16, 4, 4, 24, 48, true); // Bottom Leg\n    copySkin(0, 20, 4, 12, 24, 52, true); // Outer Leg\n    copySkin(4, 20, 4, 12, 20, 52, true); // Front Leg\n    copySkin(8, 20, 4, 12, 16, 52, true); // Inner Leg\n    copySkin(12, 20, 4, 12, 28, 52, true); // Back Leg\n    copySkin(44, 16, 4, 4, 36, 48, true); // Top Arm\n    copySkin(48, 16, 4, 4, 40, 48, true); // Bottom Arm\n    copySkin(40, 20, 4, 12, 40, 52, true); // Outer Arm\n    copySkin(44, 20, 4, 12, 36, 52, true); // Front Arm\n    copySkin(48, 20, 4, 12, 32, 52, true); // Inner Arm\n    copySkin(52, 20, 4, 12, 44, 52, true); // Back Arm\n}\nexport function loadSkinToCanvas(canvas, image) {\n    let isOldFormat = false;\n    if (image.width !== image.height) {\n        if (image.width === 2 * image.height) {\n            isOldFormat = true;\n        }\n        else {\n            throw new Error(`Bad skin size: ${image.width}x${image.height}`);\n        }\n    }\n    const context = canvas.getContext(\"2d\");\n    if (isOldFormat) {\n        const sideLength = image.width;\n        canvas.width = sideLength;\n        canvas.height = sideLength;\n        context.clearRect(0, 0, sideLength, sideLength);\n        context.drawImage(image, 0, 0, sideLength, sideLength / 2.0);\n        convertSkinTo1_8(context, sideLength);\n    }\n    else {\n        canvas.width = image.width;\n        canvas.height = image.height;\n        context.clearRect(0, 0, image.width, image.height);\n        context.drawImage(image, 0, 0, canvas.width, canvas.height);\n    }\n}\nfunction computeCapeScale(image) {\n    if (image.width === 2 * image.height) {\n        // 64x32\n        return image.width / 64;\n    }\n    else if (image.width * 17 === image.height * 22) {\n        // 22x17\n        return image.width / 22;\n    }\n    else if (image.width * 11 === image.height * 23) {\n        // 46x22\n        return image.width / 46;\n    }\n    else {\n        throw new Error(`Bad cape size: ${image.width}x${image.height}`);\n    }\n}\nexport function loadCapeToCanvas(canvas, image) {\n    const scale = computeCapeScale(image);\n    canvas.width = 64 * scale;\n    canvas.height = 32 * scale;\n    const context = canvas.getContext(\"2d\");\n    context.clearRect(0, 0, canvas.width, canvas.height);\n    context.drawImage(image, 0, 0, image.width, image.height);\n}\nfunction isAreaBlack(context, x0, y0, w, h) {\n    const imgData = context.getImageData(x0, y0, w, h);\n    for (let x = 0; x < w; x++) {\n        for (let y = 0; y < h; y++) {\n            const offset = (x + y * w) * 4;\n            if (!(imgData.data[offset + 0] === 0 &&\n                imgData.data[offset + 1] === 0 &&\n                imgData.data[offset + 2] === 0 &&\n                imgData.data[offset + 3] === 0xff)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nexport function inferModelType(canvas) {\n    // The right arm area of *default* skins:\n    // (44,16)->*-------*-------*\n    // (40,20)  |top    |bottom |\n    // \\|/      |4x4    |4x4    |\n    //  *-------*-------*-------*-------*\n    //  |right  |front  |left   |back   |\n    //  |4x12   |4x12   |4x12   |4x12   |\n    //  *-------*-------*-------*-------*\n    // The right arm area of *slim* skins:\n    // (44,16)->*------*------*-*\n    // (40,20)  |top   |bottom| |<----[x0=50,y0=16,w=2,h=4]\n    // \\|/      |3x4   |3x4   | |\n    //  *-------*------*------***-----*-*\n    //  |right  |front |left   |back  | |<----[x0=54,y0=20,w=2,h=12]\n    //  |4x12   |3x12  |4x12   |3x12  | |\n    //  *-------*------*-------*------*-*\n    // Compared with default right arms, slim right arms have 2 unused areas.\n    //\n    // The same is true for left arm:\n    // The left arm area of *default* skins:\n    // (36,48)->*-------*-------*\n    // (32,52)  |top    |bottom |\n    // \\|/      |4x4    |4x4    |\n    //  *-------*-------*-------*-------*\n    //  |right  |front  |left   |back   |\n    //  |4x12   |4x12   |4x12   |4x12   |\n    //  *-------*-------*-------*-------*\n    // The left arm area of *slim* skins:\n    // (36,48)->*------*------*-*\n    // (32,52)  |top   |bottom| |<----[x0=42,y0=48,w=2,h=4]\n    // \\|/      |3x4   |3x4   | |\n    //  *-------*------*------***-----*-*\n    //  |right  |front |left   |back  | |<----[x0=46,y0=52,w=2,h=12]\n    //  |4x12   |3x12  |4x12   |3x12  | |\n    //  *-------*------*-------*------*-*\n    //\n    // If there is a transparent pixel in any of the 4 unused areas, the skin must be slim,\n    // as transparent pixels are not allowed in the first layer.\n    // If the 4 areas are all black, the skin is also considered as slim.\n    const scale = computeSkinScale(canvas.width);\n    const context = canvas.getContext(\"2d\");\n    const checkTransparency = (x, y, w, h) => hasTransparency(context, x * scale, y * scale, w * scale, h * scale);\n    const checkBlack = (x, y, w, h) => isAreaBlack(context, x * scale, y * scale, w * scale, h * scale);\n    const isSlim = (checkTransparency(50, 16, 2, 4) ||\n        checkTransparency(54, 20, 2, 12) ||\n        checkTransparency(42, 48, 2, 4) ||\n        checkTransparency(46, 52, 2, 12)) ||\n        (checkBlack(50, 16, 2, 4) &&\n            checkBlack(54, 20, 2, 12) &&\n            checkBlack(42, 48, 2, 4) &&\n            checkBlack(46, 52, 2, 12));\n    return isSlim ? \"slim\" : \"default\";\n}\n//# sourceMappingURL=process.js.map","export async function loadImage(source) {\n    const image = document.createElement(\"img\");\n    return new Promise((resolve, reject) => {\n        image.onload = () => resolve(image);\n        image.onerror = reject;\n        image.crossOrigin = \"anonymous\";\n        if (typeof source === \"string\") {\n            image.src = source;\n        }\n        else {\n            if (source.crossOrigin !== undefined) {\n                image.crossOrigin = source.crossOrigin;\n            }\n            if (source.referrerPolicy !== undefined) {\n                image.referrerPolicy = source.referrerPolicy;\n            }\n            image.src = source.src;\n        }\n    });\n}\n//# sourceMappingURL=load-image.js.map","import { EventDispatcher } from '../core/EventDispatcher.js';\nimport {\n\tMirroredRepeatWrapping,\n\tClampToEdgeWrapping,\n\tRepeatWrapping,\n\tLinearEncoding,\n\tUnsignedByteType,\n\tRGBAFormat,\n\tLinearMipmapLinearFilter,\n\tLinearFilter,\n\tUVMapping\n} from '../constants.js';\nimport * as MathUtils from '../math/MathUtils.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Matrix3 } from '../math/Matrix3.js';\nimport { ImageUtils } from '../extras/ImageUtils.js';\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = MathUtils.generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nexport { Texture };\n","import { Object3D } from '../core/Object3D.js';\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nScene.prototype.isScene = true;\n\nexport { Scene };\n","import { Matrix4 } from '../math/Matrix4.js';\nimport { Object3D } from '../core/Object3D.js';\nimport { Vector3 } from '../math/Vector3.js';\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nCamera.prototype.isCamera = true;\n\nexport { Camera };\n","import { Camera } from './Camera.js';\nimport * as MathUtils from '../math/MathUtils.js';\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\nexport { PerspectiveCamera };\n","import { Texture } from './Texture.js';\nimport { NearestFilter } from '../constants.js';\n\nclass DataTexture extends Texture {\n\n\tconstructor( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture.prototype.isDataTexture = true;\n\nexport { DataTexture };\n","import { Vector3 } from './Vector3.js';\nimport { Sphere } from './Sphere.js';\nimport { Plane } from './Plane.js';\n\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _vector = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere.center.set( 0, 0, 0 );\n\t\t_sphere.radius = 0.7071067811865476;\n\t\t_sphere.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\n\nexport { Frustum };\n","function WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nexport { WebGLAnimation };\n","function WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = gl.FLOAT;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = gl.FLOAT;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = gl.HALF_FLOAT;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = gl.UNSIGNED_SHORT;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = gl.SHORT;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = gl.UNSIGNED_INT;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = gl.INT;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = gl.BYTE;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = gl.UNSIGNED_BYTE;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n\nexport { WebGLAttributes };\n","import { BufferGeometry } from '../core/BufferGeometry.js';\nimport { Float32BufferAttribute } from '../core/BufferAttribute.js';\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nexport { PlaneGeometry, PlaneGeometry as PlaneBufferGeometry };\n","/**\n * Uniform Utilities\n */\n\nexport function cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nexport function mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nexport { UniformsUtils };\n","import { Material } from './Material.js';\nimport { cloneUniforms } from '../renderers/shaders/UniformsUtils.js';\n\nimport default_vertex from '../renderers/shaders/ShaderChunk/default_vertex.glsl.js';\nimport default_fragment from '../renderers/shaders/ShaderChunk/default_fragment.glsl.js';\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.skinning = false; // set to use skinning attribute streams\n\t\tthis.morphTargets = false; // set to use morph targets\n\t\tthis.morphNormals = false; // set to use morph normals\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.skinning = source.skinning;\n\n\t\tthis.morphTargets = source.morphTargets;\n\t\tthis.morphNormals = source.morphNormals;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nexport { ShaderMaterial };\n","export default /* glsl */`\nvoid main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n`;\n","export default /* glsl */`\nvoid main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n`;\n","export default /* glsl */`\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n`;\n","import alphamap_fragment from './ShaderChunk/alphamap_fragment.glsl.js';\nimport alphamap_pars_fragment from './ShaderChunk/alphamap_pars_fragment.glsl.js';\nimport alphatest_fragment from './ShaderChunk/alphatest_fragment.glsl.js';\nimport aomap_fragment from './ShaderChunk/aomap_fragment.glsl.js';\nimport aomap_pars_fragment from './ShaderChunk/aomap_pars_fragment.glsl.js';\nimport begin_vertex from './ShaderChunk/begin_vertex.glsl.js';\nimport beginnormal_vertex from './ShaderChunk/beginnormal_vertex.glsl.js';\nimport bsdfs from './ShaderChunk/bsdfs.glsl.js';\nimport bumpmap_pars_fragment from './ShaderChunk/bumpmap_pars_fragment.glsl.js';\nimport clipping_planes_fragment from './ShaderChunk/clipping_planes_fragment.glsl.js';\nimport clipping_planes_pars_fragment from './ShaderChunk/clipping_planes_pars_fragment.glsl.js';\nimport clipping_planes_pars_vertex from './ShaderChunk/clipping_planes_pars_vertex.glsl.js';\nimport clipping_planes_vertex from './ShaderChunk/clipping_planes_vertex.glsl.js';\nimport color_fragment from './ShaderChunk/color_fragment.glsl.js';\nimport color_pars_fragment from './ShaderChunk/color_pars_fragment.glsl.js';\nimport color_pars_vertex from './ShaderChunk/color_pars_vertex.glsl.js';\nimport color_vertex from './ShaderChunk/color_vertex.glsl.js';\nimport common from './ShaderChunk/common.glsl.js';\nimport cube_uv_reflection_fragment from './ShaderChunk/cube_uv_reflection_fragment.glsl.js';\nimport defaultnormal_vertex from './ShaderChunk/defaultnormal_vertex.glsl.js';\nimport displacementmap_pars_vertex from './ShaderChunk/displacementmap_pars_vertex.glsl.js';\nimport displacementmap_vertex from './ShaderChunk/displacementmap_vertex.glsl.js';\nimport emissivemap_fragment from './ShaderChunk/emissivemap_fragment.glsl.js';\nimport emissivemap_pars_fragment from './ShaderChunk/emissivemap_pars_fragment.glsl.js';\nimport encodings_fragment from './ShaderChunk/encodings_fragment.glsl.js';\nimport encodings_pars_fragment from './ShaderChunk/encodings_pars_fragment.glsl.js';\nimport envmap_fragment from './ShaderChunk/envmap_fragment.glsl.js';\nimport envmap_common_pars_fragment from './ShaderChunk/envmap_common_pars_fragment.glsl.js';\nimport envmap_pars_fragment from './ShaderChunk/envmap_pars_fragment.glsl.js';\nimport envmap_pars_vertex from './ShaderChunk/envmap_pars_vertex.glsl.js';\nimport envmap_vertex from './ShaderChunk/envmap_vertex.glsl.js';\nimport fog_vertex from './ShaderChunk/fog_vertex.glsl.js';\nimport fog_pars_vertex from './ShaderChunk/fog_pars_vertex.glsl.js';\nimport fog_fragment from './ShaderChunk/fog_fragment.glsl.js';\nimport fog_pars_fragment from './ShaderChunk/fog_pars_fragment.glsl.js';\nimport gradientmap_pars_fragment from './ShaderChunk/gradientmap_pars_fragment.glsl.js';\nimport lightmap_fragment from './ShaderChunk/lightmap_fragment.glsl.js';\nimport lightmap_pars_fragment from './ShaderChunk/lightmap_pars_fragment.glsl.js';\nimport lights_lambert_vertex from './ShaderChunk/lights_lambert_vertex.glsl.js';\nimport lights_pars_begin from './ShaderChunk/lights_pars_begin.glsl.js';\nimport envmap_physical_pars_fragment from './ShaderChunk/envmap_physical_pars_fragment.glsl.js';\nimport lights_toon_fragment from './ShaderChunk/lights_toon_fragment.glsl.js';\nimport lights_toon_pars_fragment from './ShaderChunk/lights_toon_pars_fragment.glsl.js';\nimport lights_phong_fragment from './ShaderChunk/lights_phong_fragment.glsl.js';\nimport lights_phong_pars_fragment from './ShaderChunk/lights_phong_pars_fragment.glsl.js';\nimport lights_physical_fragment from './ShaderChunk/lights_physical_fragment.glsl.js';\nimport lights_physical_pars_fragment from './ShaderChunk/lights_physical_pars_fragment.glsl.js';\nimport lights_fragment_begin from './ShaderChunk/lights_fragment_begin.glsl.js';\nimport lights_fragment_maps from './ShaderChunk/lights_fragment_maps.glsl.js';\nimport lights_fragment_end from './ShaderChunk/lights_fragment_end.glsl.js';\nimport logdepthbuf_fragment from './ShaderChunk/logdepthbuf_fragment.glsl.js';\nimport logdepthbuf_pars_fragment from './ShaderChunk/logdepthbuf_pars_fragment.glsl.js';\nimport logdepthbuf_pars_vertex from './ShaderChunk/logdepthbuf_pars_vertex.glsl.js';\nimport logdepthbuf_vertex from './ShaderChunk/logdepthbuf_vertex.glsl.js';\nimport map_fragment from './ShaderChunk/map_fragment.glsl.js';\nimport map_pars_fragment from './ShaderChunk/map_pars_fragment.glsl.js';\nimport map_particle_fragment from './ShaderChunk/map_particle_fragment.glsl.js';\nimport map_particle_pars_fragment from './ShaderChunk/map_particle_pars_fragment.glsl.js';\nimport metalnessmap_fragment from './ShaderChunk/metalnessmap_fragment.glsl.js';\nimport metalnessmap_pars_fragment from './ShaderChunk/metalnessmap_pars_fragment.glsl.js';\nimport morphnormal_vertex from './ShaderChunk/morphnormal_vertex.glsl.js';\nimport morphtarget_pars_vertex from './ShaderChunk/morphtarget_pars_vertex.glsl.js';\nimport morphtarget_vertex from './ShaderChunk/morphtarget_vertex.glsl.js';\nimport normal_fragment_begin from './ShaderChunk/normal_fragment_begin.glsl.js';\nimport normal_fragment_maps from './ShaderChunk/normal_fragment_maps.glsl.js';\nimport normalmap_pars_fragment from './ShaderChunk/normalmap_pars_fragment.glsl.js';\nimport clearcoat_normal_fragment_begin from './ShaderChunk/clearcoat_normal_fragment_begin.glsl.js';\nimport clearcoat_normal_fragment_maps from './ShaderChunk/clearcoat_normal_fragment_maps.glsl.js';\nimport clearcoat_pars_fragment from './ShaderChunk/clearcoat_pars_fragment.glsl.js';\nimport packing from './ShaderChunk/packing.glsl.js';\nimport premultiplied_alpha_fragment from './ShaderChunk/premultiplied_alpha_fragment.glsl.js';\nimport project_vertex from './ShaderChunk/project_vertex.glsl.js';\nimport dithering_fragment from './ShaderChunk/dithering_fragment.glsl.js';\nimport dithering_pars_fragment from './ShaderChunk/dithering_pars_fragment.glsl.js';\nimport roughnessmap_fragment from './ShaderChunk/roughnessmap_fragment.glsl.js';\nimport roughnessmap_pars_fragment from './ShaderChunk/roughnessmap_pars_fragment.glsl.js';\nimport shadowmap_pars_fragment from './ShaderChunk/shadowmap_pars_fragment.glsl.js';\nimport shadowmap_pars_vertex from './ShaderChunk/shadowmap_pars_vertex.glsl.js';\nimport shadowmap_vertex from './ShaderChunk/shadowmap_vertex.glsl.js';\nimport shadowmask_pars_fragment from './ShaderChunk/shadowmask_pars_fragment.glsl.js';\nimport skinbase_vertex from './ShaderChunk/skinbase_vertex.glsl.js';\nimport skinning_pars_vertex from './ShaderChunk/skinning_pars_vertex.glsl.js';\nimport skinning_vertex from './ShaderChunk/skinning_vertex.glsl.js';\nimport skinnormal_vertex from './ShaderChunk/skinnormal_vertex.glsl.js';\nimport specularmap_fragment from './ShaderChunk/specularmap_fragment.glsl.js';\nimport specularmap_pars_fragment from './ShaderChunk/specularmap_pars_fragment.glsl.js';\nimport tonemapping_fragment from './ShaderChunk/tonemapping_fragment.glsl.js';\nimport tonemapping_pars_fragment from './ShaderChunk/tonemapping_pars_fragment.glsl.js';\nimport transmissionmap_fragment from './ShaderChunk/transmissionmap_fragment.glsl.js';\nimport transmissionmap_pars_fragment from './ShaderChunk/transmissionmap_pars_fragment.glsl.js';\nimport uv_pars_fragment from './ShaderChunk/uv_pars_fragment.glsl.js';\nimport uv_pars_vertex from './ShaderChunk/uv_pars_vertex.glsl.js';\nimport uv_vertex from './ShaderChunk/uv_vertex.glsl.js';\nimport uv2_pars_fragment from './ShaderChunk/uv2_pars_fragment.glsl.js';\nimport uv2_pars_vertex from './ShaderChunk/uv2_pars_vertex.glsl.js';\nimport uv2_vertex from './ShaderChunk/uv2_vertex.glsl.js';\nimport worldpos_vertex from './ShaderChunk/worldpos_vertex.glsl.js';\n\nimport background_frag from './ShaderLib/background_frag.glsl.js';\nimport background_vert from './ShaderLib/background_vert.glsl.js';\nimport cube_frag from './ShaderLib/cube_frag.glsl.js';\nimport cube_vert from './ShaderLib/cube_vert.glsl.js';\nimport depth_frag from './ShaderLib/depth_frag.glsl.js';\nimport depth_vert from './ShaderLib/depth_vert.glsl.js';\nimport distanceRGBA_frag from './ShaderLib/distanceRGBA_frag.glsl.js';\nimport distanceRGBA_vert from './ShaderLib/distanceRGBA_vert.glsl.js';\nimport equirect_frag from './ShaderLib/equirect_frag.glsl.js';\nimport equirect_vert from './ShaderLib/equirect_vert.glsl.js';\nimport linedashed_frag from './ShaderLib/linedashed_frag.glsl.js';\nimport linedashed_vert from './ShaderLib/linedashed_vert.glsl.js';\nimport meshbasic_frag from './ShaderLib/meshbasic_frag.glsl.js';\nimport meshbasic_vert from './ShaderLib/meshbasic_vert.glsl.js';\nimport meshlambert_frag from './ShaderLib/meshlambert_frag.glsl.js';\nimport meshlambert_vert from './ShaderLib/meshlambert_vert.glsl.js';\nimport meshmatcap_frag from './ShaderLib/meshmatcap_frag.glsl.js';\nimport meshmatcap_vert from './ShaderLib/meshmatcap_vert.glsl.js';\nimport meshtoon_frag from './ShaderLib/meshtoon_frag.glsl.js';\nimport meshtoon_vert from './ShaderLib/meshtoon_vert.glsl.js';\nimport meshphong_frag from './ShaderLib/meshphong_frag.glsl.js';\nimport meshphong_vert from './ShaderLib/meshphong_vert.glsl.js';\nimport meshphysical_frag from './ShaderLib/meshphysical_frag.glsl.js';\nimport meshphysical_vert from './ShaderLib/meshphysical_vert.glsl.js';\nimport normal_frag from './ShaderLib/normal_frag.glsl.js';\nimport normal_vert from './ShaderLib/normal_vert.glsl.js';\nimport points_frag from './ShaderLib/points_frag.glsl.js';\nimport points_vert from './ShaderLib/points_vert.glsl.js';\nimport shadow_frag from './ShaderLib/shadow_frag.glsl.js';\nimport shadow_vert from './ShaderLib/shadow_vert.glsl.js';\nimport sprite_frag from './ShaderLib/sprite_frag.glsl.js';\nimport sprite_vert from './ShaderLib/sprite_vert.glsl.js';\n\nexport const ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmissionmap_fragment: transmissionmap_fragment,\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n","export default /* glsl */`\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef ALPHATEST\n\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_AOMAP\n\n\t// reads channel R, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_AOMAP\n\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n\n#endif\n`;\n","export default /* glsl */`\nvec3 transformed = vec3( position );\n`;\n","export default /* glsl */`\nvec3 objectNormal = vec3( normal );\n\n#ifdef USE_TANGENT\n\n\tvec3 objectTangent = vec3( tangent.xyz );\n\n#endif\n`;\n","export default /* glsl */`\n\n// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via 'environmentBRDF' from \"Physically Based Shading on Mobile\"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\n\tvec4 r = roughness * c0 + c1;\n\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n\n}\n\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\n\tif( cutoffDistance > 0.0 ) {\n\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\n\t}\n\n\treturn distanceFalloff;\n\n#else\n\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\n\t}\n\n\treturn 1.0;\n\n#endif\n\n}\n\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\n\treturn RECIPROCAL_PI * diffuseColor;\n\n} // validated\n\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\n\t// Original approximation by Christophe Schlick '94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\n\t// Optimized variant (presented by Epic at SIGGRAPH '13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n\n} // validated\n\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\n\t// See F_Schlick\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\n\treturn Fr * fresnel + F0;\n\n}\n\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is \"roughness squared\" in Disney’s reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\t// geometry term (normalized) = G(l)⋅G(v) / 4(n⋅l)(n⋅v)\n\t// also see #12151\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\n\treturn 1.0 / ( gl * gv );\n\n} // validated\n\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\n\tfloat a2 = pow2( alpha );\n\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\n\treturn 0.5 / max( gv + gl, EPSILON );\n\n}\n\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is \"roughness squared\" in Disney’s reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\n\tfloat a2 = pow2( alpha );\n\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n\n}\n\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat alpha = pow2( roughness ); // UE4's roughness\n\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\n\tfloat D = D_GGX( alpha, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// Rect Area Light\n\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\n\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\n\tfloat dotNV = saturate( dot( N, V ) );\n\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\treturn uv;\n\n}\n\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\n\tfloat l = length( f );\n\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n\n}\n\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\n\tfloat x = dot( v1, v2 );\n\n\tfloat y = abs( x );\n\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\n\treturn cross( v1, v2 ) * theta_sintheta;\n\n}\n\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\n\tfloat result = len * scale;\n*/\n\n\treturn vec3( result );\n\n}\n\n// End Rect Area Light\n\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\n\treturn specularColor * brdf.x + brdf.y;\n\n} // validated\n\n// Fdez-Agüera's \"Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting\"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n\n}\n\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n\n}\n\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n\n}\n\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\n\treturn F * ( G * D );\n\n} // validated\n\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\n\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n\n#if defined( USE_SHEEN )\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L94\nfloat D_Charlie(float roughness, float NoH) {\n\t// Estevez and Kulla 2017, \"Production Friendly Microfacet Sheen BRDF\"\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125); // 2^(-14/2), so sin2h^2 > 0 in fp16\n\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\n\n// https://github.com/google/filament/blob/master/shaders/src/brdf.fs#L136\nfloat V_Neubelt(float NoV, float NoL) {\n\t// Neubelt and Pettineo 2013, \"Crafting a Next-gen Material Pipeline for The Order: 1886\"\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\n\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n\n}\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_BUMPMAP\n\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n\tvec2 dHdxy_fwd() {\n\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n\t\treturn vec2( dBx, dBy );\n\n\t}\n\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\n\t}\n\n#endif\n`;\n","export default /* glsl */`\n#if NUM_CLIPPING_PLANES > 0\n\n\tvec4 plane;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\n\t\tbool clipped = true;\n\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\n\t\t}\n\t\t#pragma unroll_loop_end\n\n\t\tif ( clipped ) discard;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#if NUM_CLIPPING_PLANES > 0\n\n\tvarying vec3 vClipPosition;\n\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n\n#endif\n`;\n","export default /* glsl */`\n#if NUM_CLIPPING_PLANES > 0\n\n\tvarying vec3 vClipPosition;\n\n#endif\n`;\n","export default /* glsl */`\n#if NUM_CLIPPING_PLANES > 0\n\n\tvClipPosition = - mvPosition.xyz;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_COLOR_ALPHA )\n\n\tdiffuseColor *= vColor;\n\n#elif defined( USE_COLOR )\n\n\tdiffuseColor.rgb *= vColor;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_COLOR_ALPHA )\n\n\tvarying vec4 vColor;\n\n#elif defined( USE_COLOR )\n\n\tvarying vec3 vColor;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_COLOR_ALPHA )\n\n\tvarying vec4 vColor;\n\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\n\tvarying vec3 vColor;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_COLOR_ALPHA )\n\n\tvColor = vec4( 1.0 );\n\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\n\tvColor = vec3( 1.0 );\n\n#endif\n\n#ifdef USE_COLOR\n\n\tvColor *= color;\n\n#endif\n\n#ifdef USE_INSTANCING_COLOR\n\n\tvColor.xyz *= instanceColor.xyz;\n\n#endif\n`;\n","export default /* glsl */`\n#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n\n#ifndef saturate\n// <tonemapping_pars_fragment> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\n\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\n// expects values in the range of [0,1]x[0,1], returns values in the [0,1] range.\n// do not collapse into a single function per: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\n\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\n\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n}\n\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t// dir can be either a direction vector or a normal vector\n\t// upper-left 3x3 of matrix is assumed to be orthogonal\n\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n\n}\n\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\n\treturn - distance * planeNormal + point;\n\n}\n\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n\n}\n\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n\n}\n\nmat3 transposeMat3( const in mat3 m ) {\n\n\tmat3 tmp;\n\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\n\treturn tmp;\n\n}\n\n// https://en.wikipedia.org/wiki/Relative_luminance\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\n\treturn dot( weights, color.rgb );\n\n}\n\nbool isPerspectiveMatrix( mat4 m ) {\n\n\treturn m[ 2 ][ 3 ] == - 1.0;\n\n}\n\nvec2 equirectUv( in vec3 dir ) {\n\n\t// dir is assumed to be unit length\n\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\n\treturn vec2( u, v );\n\n}\n`;\n","export default /* glsl */`\n#ifdef ENVMAP_TYPE_CUBE_UV\n\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\n\t// These shader functions convert between the UV coordinates of a single face of\n\t// a cubemap, the 0-5 integer index of a cube face, and the direction vector for\n\t// sampling a textureCube (not generally normalized ).\n\n\tfloat getFace( vec3 direction ) {\n\n\t\tvec3 absDirection = abs( direction );\n\n\t\tfloat face = - 1.0;\n\n\t\tif ( absDirection.x > absDirection.z ) {\n\n\t\t\tif ( absDirection.x > absDirection.y )\n\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\n\t\t\telse\n\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\n\t\t} else {\n\n\t\t\tif ( absDirection.z > absDirection.y )\n\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\n\t\t\telse\n\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\n\t\t}\n\n\t\treturn face;\n\n\t}\n\n\t// RH coordinate system; PMREM face-indexing convention\n\tvec2 getUV( vec3 direction, float face ) {\n\n\t\tvec2 uv;\n\n\t\tif ( face == 0.0 ) {\n\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x ); // pos x\n\n\t\t} else if ( face == 1.0 ) {\n\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y ); // pos y\n\n\t\t} else if ( face == 2.0 ) {\n\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z ); // pos z\n\n\t\t} else if ( face == 3.0 ) {\n\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x ); // neg x\n\n\t\t} else if ( face == 4.0 ) {\n\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y ); // neg y\n\n\t\t} else {\n\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z ); // neg z\n\n\t\t}\n\n\t\treturn 0.5 * ( uv + 1.0 );\n\n\t}\n\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\n\t\tfloat face = getFace( direction );\n\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\n\t\tfloat faceSize = exp2( mipInt );\n\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\n\t\tvec2 f = fract( uv );\n\n\t\tuv += 0.5 - f;\n\n\t\tif ( face > 2.0 ) {\n\n\t\t\tuv.y += faceSize;\n\n\t\t\tface -= 3.0;\n\n\t\t}\n\n\t\tuv.x += face * faceSize;\n\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\n\t\t}\n\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\n\t\tuv *= texelSize;\n\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tuv.x += texelSize;\n\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tuv.y += texelSize;\n\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tuv.x -= texelSize;\n\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\n\t\tvec3 tm = mix( tl, tr, f.x );\n\n\t\tvec3 bm = mix( bl, br, f.x );\n\n\t\treturn mix( tm, bm, f.y );\n\n\t}\n\n\t// These defines must match with PMREMGenerator\n\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\n\tfloat roughnessToMip( float roughness ) {\n\n\t\tfloat mip = 0.0;\n\n\t\tif ( roughness >= r1 ) {\n\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\n\t\t} else if ( roughness >= r4 ) {\n\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\n\t\t} else if ( roughness >= r5 ) {\n\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\n\t\t} else if ( roughness >= r6 ) {\n\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\n\t\t} else {\n\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness ); // 1.16 = 1.79^0.25\n\t\t}\n\n\t\treturn mip;\n\n\t}\n\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\n\t\tfloat mipF = fract( mip );\n\n\t\tfloat mipInt = floor( mip );\n\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\n\t\tif ( mipF == 0.0 ) {\n\n\t\t\treturn vec4( color0, 1.0 );\n\n\t\t} else {\n\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\n\t\t}\n\n\t}\n\n#endif\n`;\n","export default /* glsl */`\nvec3 transformedNormal = objectNormal;\n\n#ifdef USE_INSTANCING\n\n\t// this is in lieu of a per-instance normal-matrix\n\t// shear transforms in the instance matrix are not supported\n\n\tmat3 m = mat3( instanceMatrix );\n\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\n\ttransformedNormal = m * transformedNormal;\n\n#endif\n\ntransformedNormal = normalMatrix * transformedNormal;\n\n#ifdef FLIP_SIDED\n\n\ttransformedNormal = - transformedNormal;\n\n#endif\n\n#ifdef USE_TANGENT\n\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#ifdef FLIP_SIDED\n\n\t\ttransformedTangent = - transformedTangent;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_DISPLACEMENTMAP\n\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_DISPLACEMENTMAP\n\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_EMISSIVEMAP\n\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_EMISSIVEMAP\n\n\tuniform sampler2D emissiveMap;\n\n#endif\n`;\n","export default /* glsl */`\ngl_FragColor = linearToOutputTexel( gl_FragColor );\n`;\n","export default /* glsl */`\n// For a discussion of what this is, please read this: http://lousodrome.net/blog/light/2013/05/26/gamma-correct-and-hdr-rendering-in-a-32-bits-buffer/\n\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\n\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\n\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\n\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\n\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\n\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\n\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n\t// return vec4( value.brg, ( 3.0 + 128.0 ) / 256.0 );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\n\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\n\n// reference: http://iwasbeingirony.blogspot.ca/2010/06/difference-between-rgbm-and-rgbd.html\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\n\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\t// NOTE: The implementation with min causes the shader to not compile on\n\t// a common Alcatel A502DL in Chrome 78/Android 8.1. Some research suggests \n\t// that the chipset is Mediatek MT6739 w/ IMG PowerVR GE8100 GPU.\n\t// D = min( floor( D ) / 255.0, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\n\n// LogLuv reference: http://graphicrants.blogspot.ca/2009/04/rgbm-color-encoding.html\n\n// M matrix, for encoding\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\n\n// Inverse M matrix, for decoding\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n`;\n","export default /* glsl */`\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvec3 cameraToFrag;\n\n\t\tif ( isOrthographic ) {\n\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t} else {\n\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\n\t\t}\n\n\t\t// Transforming Normal Vectors with the Inverse Transformation\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#else\n\n\t\tvec3 reflectVec = vReflect;\n\n\t#endif\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\n\t#else\n\n\t\tvec4 envColor = vec4( 0.0 );\n\n\t#endif\n\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\n\t\tenvColor = envMapTexelToLinear( envColor );\n\n\t#endif\n\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_ENVMAP\n\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_ENVMAP\n\n\tuniform float reflectivity;\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_ENVMAP\n\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\n\t\t#define ENV_WORLDPOS\n\n\t#endif\n\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\n\t#else\n\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_ENVMAP )\n\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\n\tvec3 getLightProbeIndirectIrradiance( /*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel ) {\n\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\n\t\t\t// TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\n\t\t\t// of a specular cubemap, or just the default level of a specially created irradiance cubemap.\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#else\n\n\t\t\t\t// force the bias high to get the last LOD level as it is the most blurred.\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\n\t\t#else\n\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\n\t\t#endif\n\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\n\t}\n\n\t// Trowbridge-Reitz distribution to Mip level, following the logic of http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\n\t\t// clamp to allowable LOD ranges.\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\n\t}\n\n\tvec3 getLightProbeIndirectRadiance( /*const in SpecularLightProbe specularLightProbe,*/ const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\n\t\t\t// Mixing the reflection with the normal is more accurate and keeps rough objects from gathering light from behind their tangent plane.\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\n\t\t#else\n\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\n\t\t#endif\n\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#else\n\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\n\t\t\t#endif\n\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\n\t\t#endif\n\n\t\treturn envMapColor.rgb * envMapIntensity;\n\n\t}\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_ENVMAP\n\n\t#ifdef ENV_WORLDPOS\n\n\t\tvWorldPosition = worldPosition.xyz;\n\n\t#else\n\n\t\tvec3 cameraToVertex;\n\n\t\tif ( isOrthographic ) {\n\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\n\t\t} else {\n\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n\t\t}\n\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\n\t\t#else\n\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_FOG\n\n\tfogDepth = - mvPosition.z;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_FOG\n\n\tvarying float fogDepth;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_FOG\n\n\t#ifdef FOG_EXP2\n\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\n\t#else\n\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\n\t#endif\n\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_FOG\n\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\n\t#ifdef FOG_EXP2\n\n\t\tuniform float fogDensity;\n\n\t#else\n\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n\n#ifdef USE_GRADIENTMAP\n\n\tuniform sampler2D gradientMap;\n\n#endif\n\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\n\t// dotNL will be from -1.0 to 1.0\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\n\t#ifdef USE_GRADIENTMAP\n\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\n\t#else\n\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\n\t#endif\n\n}\n`;\n","export default /* glsl */`\n#ifdef USE_LIGHTMAP\n\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity; // factor of PI should not be present; included here to prevent breakage\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_LIGHTMAP\n\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n\n#endif\n`;\n","export default /* glsl */`\nvec3 diffuse = vec3( 1.0 );\n\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\n\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\n\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\n\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\n\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n\n#ifdef DOUBLE_SIDED\n\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n\n#endif\n\n#if NUM_POINT_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if NUM_SPOT_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n/*\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\t// TODO (abelnation): implement\n\n\t}\n\n#endif\n*/\n\n#if NUM_DIR_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\n\t\t#endif\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if NUM_HEMI_LIGHTS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\n\t\t#endif\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n`;\n","export default /* glsl */`\nuniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\n\n// get the irradiance (radiance convolved with cosine lobe) at the point 'normal' on the unit sphere\n// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\n\t// normal is assumed to have unit length\n\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\n\t// band 0\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\n\t// band 1\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\n\t// band 2\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\n\treturn result;\n\n}\n\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\n\treturn irradiance;\n\n}\n\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\n\tvec3 irradiance = ambientLightColor;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI;\n\n\t#endif\n\n\treturn irradiance;\n\n}\n\n#if NUM_DIR_LIGHTS > 0\n\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\n\t}\n\n#endif\n\n\n#if NUM_POINT_LIGHTS > 0\n\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\n\t}\n\n#endif\n\n\n#if NUM_SPOT_LIGHTS > 0\n\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\n\t// directLight is an out parameter as having it as a return value caused compiler errors on some devices\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\n\t\tif ( angleCos > spotLight.coneCos ) {\n\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\n\t\t} else {\n\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\n\t\t}\n\t}\n\n#endif\n\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\n\t// Pre-computed values of LinearTransformedCosine approximation of BRDF\n\t// BRDF approximation Texture is 64x64\n\tuniform sampler2D ltc_1; // RGBA Float\n\tuniform sampler2D ltc_2; // RGBA Float\n\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n\n#endif\n\n\n#if NUM_HEMI_LIGHTS > 0\n\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tirradiance *= PI;\n\n\t\t#endif\n\n\t\treturn irradiance;\n\n\t}\n\n#endif\n`;\n","export default /* glsl */`\nToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\n`;\n","export default /* glsl */`\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n\nstruct ToonMaterial {\n\n\tvec3 diffuseColor;\n\n};\n\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n\n#define Material_LightProbeLOD( material )\t(0)\n`;\n","export default /* glsl */`\nBlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n`;\n","export default /* glsl */`\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n\nstruct BlinnPhongMaterial {\n\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n\n};\n\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n\n}\n\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n\n#define Material_LightProbeLOD( material )\t(0)\n`;\n","export default /* glsl */`\nPhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\n\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\n\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n\n#ifdef REFLECTIVITY\n\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\n#else\n\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n\n#endif\n\n#ifdef CLEARCOAT\n\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\n\t#ifdef USE_CLEARCOATMAP\n\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\n\t#endif\n\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\n\t#endif\n\n\tmaterial.clearcoat = saturate( material.clearcoat ); // Burley clearcoat model\n\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n\n#endif\n\n#ifdef USE_SHEEN\n\n\tmaterial.sheenColor = sheen;\n\n#endif\n`;\n","export default /* glsl */`\nstruct PhysicalMaterial {\n\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n\n};\n\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\n\n// Clear coat directional hemishperical reflectance (this approximation should be improved)\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n\n}\n\n#if NUM_RECT_AREA_LIGHTS > 0\n\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight; // counterclockwise; light shines in local neg z direction\n\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\n\t\t// LTC Fresnel Approximation by Stephen Hill\n\t\t// http://blog.selfshadow.com/publications/s2016-advances/s2016_ltc_fresnel.pdf\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\n\t}\n\n#endif\n\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\n\tvec3 irradiance = dotNL * directLight.color;\n\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\tirradiance *= PI; // punctual light\n\n\t#endif\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tccIrradiance *= PI; // punctual light\n\n\t\t#endif\n\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\n}\n\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\n\t#ifdef CLEARCOAT\n\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\n\t#else\n\n\t\tfloat clearcoatDHR = 0.0;\n\n\t#endif\n\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\n\t// Both indirect specular and indirect diffuse light accumulate here\n\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n\n}\n\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n\n// ref: https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n\n}\n`;\n","export default /* glsl */`\n/**\n * This is a template that can be used to light a material, it uses pluggable\n * RenderEquations (RE)for specific lighting scenarios.\n *\n * Instructions for use:\n * - Ensure that both RE_Direct, RE_IndirectDiffuse and RE_IndirectSpecular are defined\n * - If you have defined an RE_IndirectSpecular, you need to also provide a Material_LightProbeLOD. <---- ???\n * - Create a material parameter that is to be passed as the third parameter to your lighting functions.\n *\n * TODO:\n * - Add area light support.\n * - Add sphere light support.\n * - Add diffuse light probe (irradiance cubemap) support.\n */\n\nGeometricContext geometry;\n\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n\n#ifdef CLEARCOAT\n\n\tgeometry.clearcoatNormal = clearcoatNormal;\n\n#endif\n\nIncidentLight directLight;\n\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\n\t\tpointLight = pointLights[ i ];\n\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\n\t\tspotLight = spotLights[ i ];\n\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\n\t\tdirectionalLight = directionalLights[ i ];\n\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\n\tRectAreaLight rectAreaLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\n\t}\n\t#pragma unroll_loop_end\n\n#endif\n\n#if defined( RE_IndirectDiffuse )\n\n\tvec3 iblIrradiance = vec3( 0.0 );\n\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\n\t\t}\n\t\t#pragma unroll_loop_end\n\n\t#endif\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( RE_IndirectDiffuse )\n\n\t#ifdef USE_LIGHTMAP\n\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\n\t\t\tlightMapIrradiance *= PI; // factor of PI should not be present; included here to prevent breakage\n\n\t\t#endif\n\n\t\tirradiance += lightMapIrradiance;\n\n\t#endif\n\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( /*lightProbe,*/ geometry, maxMipLevel );\n\n\t#endif\n\n#endif\n\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\n\tradiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\n\t#ifdef CLEARCOAT\n\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( /*specularLightProbe,*/ geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( RE_IndirectDiffuse )\n\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n\n#endif\n\n#if defined( RE_IndirectSpecular )\n\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\t// Doing a strict comparison with == 1.0 can cause noise artifacts\n\t// on some platforms. See issue #17623.\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\n\t#else\n\n\t\tuniform float logDepthBufFC;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_LOGDEPTHBUF\n\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\n\t#else\n\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\n\t\t\tgl_Position.z *= gl_Position.w;\n\n\t\t}\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_MAP\n\n\tvec4 texelColor = texture2D( map, vUv );\n\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\n#endif\n\n#ifdef USE_MAP\n\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\n\tuniform mat3 uvTransform;\n\n#endif\n\n#ifdef USE_MAP\n\n\tuniform sampler2D map;\n\n#endif\n\n#ifdef USE_ALPHAMAP\n\n\tuniform sampler2D alphaMap;\n\n#endif\n`;\n","export default /* glsl */`\nfloat metalnessFactor = metalness;\n\n#ifdef USE_METALNESSMAP\n\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\n\t// reads channel B, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\tmetalnessFactor *= texelMetalness.b;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_METALNESSMAP\n\n\tuniform sampler2D metalnessMap;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_MORPHNORMALS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in normal = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_MORPHTARGETS\n\n\tuniform float morphTargetBaseInfluence;\n\n\t#ifndef USE_MORPHNORMALS\n\n\t\tuniform float morphTargetInfluences[ 8 ];\n\n\t#else\n\n\t\tuniform float morphTargetInfluences[ 4 ];\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_MORPHTARGETS\n\n\t// morphTargetBaseInfluence is set based on BufferGeometry.morphTargetsRelative value:\n\t// When morphTargetsRelative is false, this is set to 1 - sum(influences); this results in position = sum((target - base) * influence)\n\t// When morphTargetsRelative is true, this is set to 1; as a result, all morph targets are simply added to the base after weighting\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\n\t#ifndef USE_MORPHNORMALS\n\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\nfloat faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n\n#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno GPUs not able to do dFdx( vViewPosition )\n\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n\n#else\n\n\tvec3 normal = normalize( vNormal );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * faceDirection;\n\n\t#endif\n\n\t#ifdef USE_TANGENT\n\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\n\t\t#ifdef DOUBLE_SIDED\n\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\n\t\t#endif\n\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\n\t\t#endif\n\n\t#endif\n\n#endif\n\n// non perturbed normal for clearcoat among others\n\nvec3 geometryNormal = normal;\n\n`;\n","export default /* glsl */`\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\n\t#ifdef FLIP_SIDED\n\n\t\tnormal = - normal;\n\n\t#endif\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * faceDirection;\n\n\t#endif\n\n\tnormal = normalize( normalMatrix * normal );\n\n#elif defined( TANGENTSPACE_NORMALMAP )\n\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tnormal = normalize( vTBN * mapN );\n\n\t#else\n\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\n\t#endif\n\n#elif defined( USE_BUMPMAP )\n\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_NORMALMAP\n\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\n#endif\n\n#ifdef OBJECTSPACE_NORMALMAP\n\n\tuniform mat3 normalMatrix;\n\n#endif\n\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\n\t// Normal Mapping Without Precomputed Tangents\n\t// http://www.thetenthplanet.de/archives/1180\n\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\n\t\tvec3 N = surf_norm; // normalized\n\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\n\t}\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef CLEARCOAT\n\n\tvec3 clearcoatNormal = geometryNormal;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\n\t#ifdef USE_TANGENT\n\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\n\t#else\n\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n\n#ifdef USE_CLEARCOATMAP\n\n\tuniform sampler2D clearcoatMap;\n\n#endif\n\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\n\tuniform sampler2D clearcoatRoughnessMap;\n\n#endif\n\n#ifdef USE_CLEARCOAT_NORMALMAP\n\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n\n#endif\n`;\n","export default /* glsl */`\nvec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\n\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\n\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\n\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\n\nconst float ShiftRight8 = 1. / 256.;\n\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8; // tidy overflow\n\treturn r * PackUpscale;\n}\n\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\n\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\n\n// NOTE: viewZ/eyeZ is < 0 when in front of the camera per OpenGL conventions\n\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\n\n// NOTE: https://twitter.com/gonnavis/status/1377183786949959682\n\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n`;\n","export default /* glsl */`\n#ifdef PREMULTIPLIED_ALPHA\n\n\t// Get get normal blending with premultipled, use with CustomBlending, OneFactor, OneMinusSrcAlphaFactor, AddEquation.\n\tgl_FragColor.rgb *= gl_FragColor.a;\n\n#endif\n`;\n","export default /* glsl */`\nvec4 mvPosition = vec4( transformed, 1.0 );\n\n#ifdef USE_INSTANCING\n\n\tmvPosition = instanceMatrix * mvPosition;\n\n#endif\n\nmvPosition = modelViewMatrix * mvPosition;\n\ngl_Position = projectionMatrix * mvPosition;\n`;\n","export default /* glsl */`\n#ifdef DITHERING\n\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef DITHERING\n\n\t// based on https://www.shadertoy.com/view/MslGR8\n\tvec3 dithering( vec3 color ) {\n\t\t//Calculate grid position\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\n\t\t//Shift the individual colors differently, thus making it even harder to see the dithering pattern\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\n\t\t//modify shift acording to grid position.\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\n\t\t//shift the color by dither_shift\n\t\treturn color + dither_shift_RGB;\n\t}\n\n#endif\n`;\n","export default /* glsl */`\nfloat roughnessFactor = roughness;\n\n#ifdef USE_ROUGHNESSMAP\n\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\n\t// reads channel G, compatible with a combined OcclusionRoughnessMetallic (RGB) texture\n\troughnessFactor *= texelRoughness.g;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_ROUGHNESSMAP\n\n\tuniform sampler2D roughnessMap;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): create uniforms for area light shadows\n\n\t#endif\n\t*/\n\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\n\t}\n\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\n\t}\n\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\n\t\tfloat occlusion = 1.0;\n\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\n\t\tfloat hard_shadow = step( compare , distribution.x ); // Hard Shadow\n\n\t\tif (hard_shadow != 1.0 ) {\n\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality\n\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed\n\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\n\t\t}\n\t\treturn occlusion;\n\n\t}\n\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\n\t\tfloat shadow = 1.0;\n\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\n\t\t// if ( something && something ) breaks ATI OpenGL shader compiler\n\t\t// if ( all( something, something ) ) using this instead\n\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n\t\tbool frustumTest = all( frustumTestVec );\n\n\t\tif ( frustumTest ) {\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#else // no percentage-closer filtering:\n\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\n\t\t#endif\n\n\t\t}\n\n\t\treturn shadow;\n\n\t}\n\n\t// cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D\n\t// vector suitable for 2D texture mapping. This code uses the following layout for the\n\t// 2D texture:\n\t//\n\t// xzXZ\n\t//  y Y\n\t//\n\t// Y - Positive y direction\n\t// y - Negative y direction\n\t// X - Positive x direction\n\t// x - Negative x direction\n\t// Z - Positive z direction\n\t// z - Negative z direction\n\t//\n\t// Source and test bed:\n\t// https://gist.github.com/tschw/da10c43c467ce8afd0c4\n\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\n\t\t// Number of texels to avoid at the edge of each square\n\n\t\tvec3 absV = abs( v );\n\n\t\t// Intersect unit cube\n\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\n\t\t// Apply scale to avoid seams\n\n\t\t// two texels less per square (one texel will do for NEAREST)\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\n\t\t// Unwrap\n\n\t\t// space: -1 ... 1 range for each square\n\t\t//\n\t\t// #X##\t\tdim    := ( 4 , 2 )\n\t\t//  # #\t\tcenter := ( 1 , 1 )\n\n\t\tvec2 planar = v.xy;\n\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\n\t\tif ( absV.z >= almostOne ) {\n\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\n\t\t} else if ( absV.x >= almostOne ) {\n\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\n\t\t} else if ( absV.y >= almostOne ) {\n\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\n\t\t}\n\n\t\t// Transform to UV space\n\n\t\t// scale := 0.5 / dim\n\t\t// translate := ( center + 0.5 ) / dim\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\n\t}\n\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\n\t\t// for point lights, the uniform @vShadowCoord is re-purposed to hold\n\t\t// the vector from the light to the world-space position of the fragment.\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\n\t\t// dp = normalized distance from light to fragment position\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?\n\t\tdp += shadowBias;\n\n\t\t// bd3D = base direction 3D\n\t\tvec3 bd3D = normalize( lightToPosition );\n\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\n\t\t#else // no percentage-closer filtering\n\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\n\t\t#endif\n\n\t}\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): uniforms for area light shadows\n\n\t#endif\n\t*/\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\n\t\t// Offsetting the position used for querying occlusion along the world normal can be used to reduce shadow acne.\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\n\t#endif\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update vAreaShadowCoord with area light info\n\n\t#endif\n\t*/\n\n#endif\n`;\n","export default /* glsl */`\nfloat getShadowMask() {\n\n\tfloat shadow = 1.0;\n\n\t#ifdef USE_SHADOWMAP\n\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\n\tDirectionalLightShadow directionalLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\n\tSpotLightShadow spotLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\n\tPointLightShadow pointLight;\n\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\n\t}\n\t#pragma unroll_loop_end\n\n\t#endif\n\n\t/*\n\t#if NUM_RECT_AREA_LIGHTS > 0\n\n\t\t// TODO (abelnation): update shadow for Area light\n\n\t#endif\n\t*/\n\n\t#endif\n\n\treturn shadow;\n\n}\n`;\n","export default /* glsl */`\n#ifdef USE_SKINNING\n\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SKINNING\n\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\n\t#ifdef BONE_TEXTURE\n\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\n\t\t\ty = dy * ( y + 0.5 );\n\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\n\t\t\treturn bone;\n\n\t\t}\n\n\t#else\n\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\n\t\tmat4 getBoneMatrix( const in float i ) {\n\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\n\t\t}\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SKINNING\n\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SKINNING\n\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\n\t#ifdef USE_TANGENT\n\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\n\t#endif\n\n#endif\n`;\n","export default /* glsl */`\nfloat specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n\n#else\n\n\tspecularStrength = 1.0;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_SPECULARMAP\n\n\tuniform sampler2D specularMap;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( TONE_MAPPING )\n\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n\n#endif\n`;\n","export default /* glsl */`\n#ifndef saturate\n// <common> may have defined saturate() already\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n\nuniform float toneMappingExposure;\n\n// exposure only\nvec3 LinearToneMapping( vec3 color ) {\n\n\treturn toneMappingExposure * color;\n\n}\n\n// source: https://www.cs.utah.edu/~reinhard/cdrom/\nvec3 ReinhardToneMapping( vec3 color ) {\n\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n\n}\n\n// source: http://filmicworlds.com/blog/filmic-tonemapping-operators/\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\n\t// optimized filmic operator by Jim Hejl and Richard Burgess-Dawson\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n\n}\n\n// source: https://github.com/selfshadow/ltc_code/blob/master/webgl/shaders/ltc/ltc_blit.fs\nvec3 RRTAndODTFit( vec3 v ) {\n\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n\n}\n\n// this implementation of ACES is modified to accommodate a brighter viewing environment.\n// the scale factor of 1/0.6 is subjective. see discussion in #19621.\n\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\n\t// sRGB => XYZ => D65_2_D60 => AP1 => RRT_SAT\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ), // transposed from source\n\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\n\t// ODT_SAT => XYZ => D60_2_D65 => sRGB\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ), // transposed from source\n\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\n\tcolor *= toneMappingExposure / 0.6;\n\n\tcolor = ACESInputMat * color;\n\n\t// Apply RRT and ODT\n\tcolor = RRTAndODTFit( color );\n\n\tcolor = ACESOutputMat * color;\n\n\t// Clamp to [0, 1]\n\treturn saturate( color );\n\n}\n\nvec3 CustomToneMapping( vec3 color ) { return color; }\n`;\n","export default /* glsl */`\n#ifdef USE_TRANSMISSIONMAP\n\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_TRANSMISSIONMAP\n\n\tuniform sampler2D transmissionMap;\n\n#endif\n`;\n","export default /* glsl */`\n#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\n\tvarying vec2 vUv;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_UV\n\n\t#ifdef UVS_VERTEX_ONLY\n\n\t\tvec2 vUv;\n\n\t#else\n\n\t\tvarying vec2 vUv;\n\n\t#endif\n\n\tuniform mat3 uvTransform;\n\n#endif\n`;\n","export default /* glsl */`\n#ifdef USE_UV\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvarying vec2 vUv2;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\n\tuniform mat3 uv2Transform;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n\n#endif\n`;\n","export default /* glsl */`\n#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\n\t#ifdef USE_INSTANCING\n\n\t\tworldPosition = instanceMatrix * worldPosition;\n\n\t#endif\n\n\tworldPosition = modelMatrix * worldPosition;\n\n#endif\n`;\n","export default /* glsl */`\nuniform sampler2D t2D;\n\nvarying vec2 vUv;\n\nvoid main() {\n\n\tvec4 texColor = texture2D( t2D, vUv );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n`;\n","export default /* glsl */`\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n\nvoid main() {\n\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n\n}\n`;\n","export default /* glsl */`\n#include <envmap_common_pars_fragment>\nuniform float opacity;\n\nvarying vec3 vWorldDirection;\n\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n`;\n","export default /* glsl */`\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n\n}\n`;\n","export default /* glsl */`\n#if DEPTH_PACKING == 3200\n\n\tuniform float opacity;\n\n#endif\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvarying vec2 vHighPrecisionZW;\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tdiffuseColor.a = opacity;\n\n\t#endif\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\t#include <logdepthbuf_fragment>\n\n\t// Higher precision equivalent of gl_FragCoord.z. This assumes depthRange has been left to its default values.\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\n\t#if DEPTH_PACKING == 3200\n\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\n\t#elif DEPTH_PACKING == 3201\n\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\n\t#endif\n\n}\n`;\n","export default /* glsl */`\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n// This is used for computing an equivalent of gl_FragCoord.z that is as high precision as possible.\n// Some platforms compute gl_FragCoord at a lower precision which makes the manually computed value better for\n// depth-based postprocessing effects. Reproduced on iPad with A10 processor / iPadOS 13.3.1.\nvarying vec2 vHighPrecisionZW;\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvHighPrecisionZW = gl_Position.zw;\n\n}\n`;\n","export default /* glsl */`\n#define DISTANCE\n\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main () {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( 1.0 );\n\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist ); // clamp to [ 0, 1 ]\n\n\tgl_FragColor = packDepthToRGBA( dist );\n\n}\n`;\n","export default /* glsl */`\n#define DISTANCE\n\nvarying vec3 vWorldPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_DISPLACEMENTMAP\n\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvWorldPosition = worldPosition.xyz;\n\n}\n`;\n","export default /* glsl */`\nuniform sampler2D tEquirect;\n\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvec3 direction = normalize( vWorldDirection );\n\n\tvec2 sampleUV = equirectUv( direction );\n\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\n\tgl_FragColor = mapTexelToLinear( texColor );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\n}\n`;\n","export default /* glsl */`\nvarying vec3 vWorldDirection;\n\n#include <common>\n\nvoid main() {\n\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\n}\n`;\n","export default /* glsl */`\nuniform vec3 diffuse;\nuniform float opacity;\n\nuniform float dashSize;\nuniform float totalSize;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\n\t\tdiscard;\n\n\t}\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\n\toutgoingLight = diffuseColor.rgb; // simple shader\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\n}\n`;\n","export default /* glsl */`\nuniform float scale;\nattribute float lineDistance;\n\nvarying float vLineDistance;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\tvLineDistance = scale * lineDistance;\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\nuniform vec3 diffuse;\nuniform float opacity;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\n\t// accumulation (baked indirect lighting only)\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\n\t#endif\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n`;\n","export default /* glsl */`\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\n\t#ifdef USE_ENVMAP\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\n\t#else\n\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\n\t#endif\n\n\t#include <lightmap_fragment>\n\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\n\t#ifdef DOUBLE_SIDED\n\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\n\t#else\n\n\t\treflectedLight.directDiffuse = vLightFront;\n\n\t#endif\n\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\n\t// modulation\n\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n`;\n","export default /* glsl */`\n#define LAMBERT\n\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n`;\n","export default /* glsl */`\n#define MATCAP\n\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks\n\n\t#ifdef USE_MATCAP\n\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\n\t#else\n\n\t\tvec4 matcapColor = vec4( 1.0 );\n\n\t#endif\n\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n`;\n","export default /* glsl */`\n#define MATCAP\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\t\tvNormal = normalize( transformedNormal );\n\n\t#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n}\n`;\n","export default /* glsl */`\n#define TOON\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n`;\n","export default /* glsl */`\n#define TOON\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n`;\n","export default /* glsl */`\n#define PHONG\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\n#define STANDARD\n\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\n\t// accumulation\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t// this is a stub for the transmission model\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n\n}\n`;\n","export default /* glsl */`\n#define STANDARD\n\nvarying vec3 vViewPosition;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\n#define NORMAL\n\nuniform float opacity;\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\n}\n`;\n","export default /* glsl */`\n#define NORMAL\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvarying vec3 vViewPosition;\n\n#endif\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n\t#ifdef USE_TANGENT\n\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\n\t#endif\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n\t#ifdef USE_TANGENT\n\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\n\t#endif\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\n\tvViewPosition = - mvPosition.xyz;\n\n#endif\n\n}\n`;\n","export default /* glsl */`\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\n}\n`;\n","export default /* glsl */`\nuniform float size;\nuniform float scale;\n\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\n\tgl_PointSize = size;\n\n\t#ifdef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\n\t#endif\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\nuniform vec3 color;\nuniform float opacity;\n\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n\nvoid main() {\n\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n`;\n","export default /* glsl */`\n#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n\nvoid main() {\n\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","export default /* glsl */`\nuniform vec3 diffuse;\nuniform float opacity;\n\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\n\toutgoingLight = diffuseColor.rgb;\n\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\n}\n`;\n","export default /* glsl */`\nuniform float rotation;\nuniform vec2 center;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\n\t#ifndef USE_SIZEATTENUATION\n\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\n\t#endif\n\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\n\tmvPosition.xy += rotatedPosition;\n\n\tgl_Position = projectionMatrix * mvPosition;\n\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\n}\n`;\n","import { Color } from '../../math/Color.js';\nimport { Vector2 } from '../../math/Vector2.js';\nimport { Matrix3 } from '../../math/Matrix3.js';\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nexport { UniformsLib };\n","import { ShaderChunk } from './ShaderChunk.js';\nimport { mergeUniforms } from './UniformsUtils.js';\nimport { Vector2 } from '../../math/Vector2.js';\nimport { Vector3 } from '../../math/Vector3.js';\nimport { UniformsLib } from './UniformsLib.js';\nimport { Color } from '../../math/Color.js';\nimport { Matrix3 } from '../../math/Matrix3.js';\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n\nexport { ShaderLib };\n","import { BackSide, FrontSide, CubeUVReflectionMapping } from '../../constants.js';\nimport { BoxGeometry } from '../../geometries/BoxGeometry.js';\nimport { PlaneGeometry } from '../../geometries/PlaneGeometry.js';\nimport { ShaderMaterial } from '../../materials/ShaderMaterial.js';\nimport { Color } from '../../math/Color.js';\nimport { Mesh } from '../../objects/Mesh.js';\nimport { ShaderLib } from '../shaders/ShaderLib.js';\nimport { cloneUniforms } from '../shaders/UniformsUtils.js';\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n\nexport { WebGLBackground };\n","function WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, gl.ELEMENT_ARRAY_BUFFER );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( gl.ELEMENT_ARRAY_BUFFER, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === gl.INT || type === gl.UNSIGNED_INT ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( gl.ARRAY_BUFFER, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\n\nexport { WebGLBindingStates };\n","function WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n\nexport { WebGLBufferRenderer };\n","function WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\n\tconst maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\n\tconst maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\n\tconst maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\n\n\tconst maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\n\tconst maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\n\tconst maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\n\tconst maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( gl.MAX_SAMPLES ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n\nexport { WebGLCapabilities };\n","import { Matrix3 } from '../../math/Matrix3.js';\nimport { Plane } from '../../math/Plane.js';\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n\nexport { WebGLClipping };\n","import { EventDispatcher } from '../core/EventDispatcher.js';\nimport { Texture } from '../textures/Texture.js';\nimport { LinearFilter } from '../constants.js';\nimport { Vector4 } from '../math/Vector4.js';\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.image = {};\n\t\tthis.texture.image.width = width;\n\t\tthis.texture.image.height = height;\n\t\tthis.texture.image.depth = 1;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t}\n\n\tsetTexture( texture ) {\n\n\t\ttexture.image = {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth\n\t\t};\n\n\t\tthis.texture = texture;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\nexport { WebGLRenderTarget };\n","import { Object3D } from '../core/Object3D.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { PerspectiveCamera } from './PerspectiveCamera.js';\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t}\n\n}\n\nexport { CubeCamera };\n","import { Texture } from './Texture.js';\nimport { CubeReflectionMapping, RGBFormat } from '../constants.js';\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\tformat = format !== undefined ? format : RGBFormat;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\t// Why CubeTexture._needsFlipEnvMap is necessary:\n\t\t//\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n\t\t// when using WebGLCubeRenderTarget.texture as a cube texture.\n\n\t\tthis._needsFlipEnvMap = true;\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nCubeTexture.prototype.isCubeTexture = true;\n\nexport { CubeTexture };\n","import { BackSide, LinearFilter, LinearMipmapLinearFilter, NoBlending, RGBAFormat } from '../constants.js';\nimport { Mesh } from '../objects/Mesh.js';\nimport { BoxGeometry } from '../geometries/BoxGeometry.js';\nimport { ShaderMaterial } from '../materials/ShaderMaterial.js';\nimport { cloneUniforms } from './shaders/UniformsUtils.js';\nimport { WebGLRenderTarget } from './WebGLRenderTarget.js';\nimport { CubeCamera } from '../cameras/CubeCamera.js';\nimport { CubeTexture } from '../textures/CubeTexture.js';\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options, dummy ) {\n\n\t\tif ( Number.isInteger( options ) ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\t\toptions = dummy;\n\n\t\t}\n\n\t\tsuper( size, size, options );\n\n\t\toptions = options || {};\n\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.texture._needsFlipEnvMap = false;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.format = RGBAFormat; // see #18859\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nexport { WebGLCubeRenderTarget };\n","import { CubeReflectionMapping, CubeRefractionMapping, EquirectangularReflectionMapping, EquirectangularRefractionMapping } from '../../constants.js';\nimport { WebGLCubeRenderTarget } from '../WebGLCubeRenderTarget.js';\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nexport { WebGLCubeMaps };\n","function WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n\nexport { WebGLExtensions };\n","import { Uint16BufferAttribute, Uint32BufferAttribute } from '../../core/BufferAttribute.js';\nimport { arrayMax } from '../../utils.js';\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], gl.ARRAY_BUFFER );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], gl.ARRAY_BUFFER );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n\nexport { WebGLGeometries };\n","function WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n\nexport { WebGLIndexedBufferRenderer };\n","function WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase gl.TRIANGLES:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.LINES:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.LINE_STRIP:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase gl.LINE_LOOP:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase gl.POINTS:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n\nexport { WebGLInfo };\n","function numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n\nexport { WebGLMorphtargets };\n","function WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, gl.ARRAY_BUFFER );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, gl.ARRAY_BUFFER );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n\nexport { WebGLObjects };\n","import { Texture } from './Texture.js';\nimport { ClampToEdgeWrapping, NearestFilter } from '../constants.js';\n\nclass DataTexture2DArray extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nexport { DataTexture2DArray };\n","import { Texture } from './Texture.js';\nimport { ClampToEdgeWrapping, NearestFilter } from '../constants.js';\n\nclass DataTexture3D extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture3D.prototype.isDataTexture3D = true;\n\nexport { DataTexture3D };\n","/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nimport { CubeTexture } from '../../textures/CubeTexture.js';\nimport { Texture } from '../../textures/Texture.js';\nimport { DataTexture2DArray } from '../../textures/DataTexture2DArray.js';\nimport { DataTexture3D } from '../../textures/DataTexture3D.js';\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nexport { WebGLUniforms };\n","function WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nexport { WebGLShader };\n","import { WebGLUniforms } from './WebGLUniforms.js';\nimport { WebGLShader } from './WebGLShader.js';\nimport { ShaderChunk } from '../shaders/ShaderChunk.js';\nimport { NoToneMapping, AddOperation, MixOperation, MultiplyOperation, CubeRefractionMapping, CubeUVRefractionMapping, CubeUVReflectionMapping, CubeReflectionMapping, PCFSoftShadowMap, PCFShadowMap, VSMShadowMap, ACESFilmicToneMapping, CineonToneMapping, CustomToneMapping, ReinhardToneMapping, LinearToneMapping, GammaEncoding, RGBDEncoding, RGBM16Encoding, RGBM7Encoding, RGBEEncoding, sRGBEncoding, LinearEncoding, LogLuvEncoding, GLSL3 } from '../../constants.js';\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, gl.COMPILE_STATUS );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nexport { WebGLProgram };\n","import { BackSide, DoubleSide, CubeUVRefractionMapping, CubeUVReflectionMapping, LinearEncoding, ObjectSpaceNormalMap, TangentSpaceNormalMap, NoToneMapping } from '../../constants.js';\nimport { WebGLProgram } from './WebGLProgram.js';\nimport { ShaderLib } from '../shaders/ShaderLib.js';\nimport { UniformsUtils } from '../shaders/UniformsUtils.js';\n\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap', 'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap', 'specularMap',\n\t\t'roughnessMap', 'metalnessMap', 'gradientMap',\n\t\t'alphaMap', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\n\t\t'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering',\n\t\t'sheen', 'transmissionMap'\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( map && map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t} else {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\n\nexport { WebGLPrograms };\n","function WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n\nexport { WebGLProperties };\n","function painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n\nexport { WebGLRenderLists, WebGLRenderList };\n","import { Color } from '../../math/Color.js';\nimport { Matrix4 } from '../../math/Matrix4.js';\nimport { Vector2 } from '../../math/Vector2.js';\nimport { Vector3 } from '../../math/Vector3.js';\nimport { UniformsLib } from '../shaders/UniformsLib.js';\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\n\nexport { WebGLLights };\n","import { WebGLLights } from './WebGLLights.js';\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights() {\n\n\t\tlights.setup( lightsArray );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n\nexport { WebGLRenderStates };\n","import { Material } from './Material.js';\nimport { BasicDepthPacking } from '../constants.js';\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nexport { MeshDepthMaterial };\n","import { Material } from './Material.js';\nimport { Vector3 } from '../math/Vector3.js';\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.skinning = false;\n\t\tthis.morphTargets = false;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.skinning = source.skinning;\n\t\tthis.morphTargets = source.morphTargets;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nexport { MeshDistanceMaterial };\n","import { FrontSide, BackSide, DoubleSide, RGBAFormat, NearestFilter, LinearFilter, PCFShadowMap, VSMShadowMap, RGBADepthPacking, NoBlending } from '../../constants.js';\nimport { WebGLRenderTarget } from '../WebGLRenderTarget.js';\nimport { MeshDepthMaterial } from '../../materials/MeshDepthMaterial.js';\nimport { MeshDistanceMaterial } from '../../materials/MeshDistanceMaterial.js';\nimport { ShaderMaterial } from '../../materials/ShaderMaterial.js';\nimport { BufferAttribute } from '../../core/BufferAttribute.js';\nimport { BufferGeometry } from '../../core/BufferGeometry.js';\nimport { Mesh } from '../../objects/Mesh.js';\nimport { Vector4 } from '../../math/Vector4.js';\nimport { Vector2 } from '../../math/Vector2.js';\nimport { Frustum } from '../../math/Frustum.js';\n\nimport vsm_frag from '../shaders/ShaderLib/vsm_frag.glsl.js';\nimport vsm_vert from '../shaders/ShaderLib/vsm_vert.glsl.js';\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\n\nexport { WebGLShadowMap };\n","export default /* glsl */`\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}\n`;\n","export default /* glsl */`\nuniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n\n#include <packing>\n\nvoid main() {\n\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\n\t// This seems totally useless but it's a crazy work around for a Adreno compiler bug\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\n\t\t#ifdef HORIZONTAL_PASS\n\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\n\t\t#else\n\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\n\t\t#endif\n\n\t}\n\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n\n}\n`;\n","import { NotEqualDepth, GreaterDepth, GreaterEqualDepth, EqualDepth, LessEqualDepth, LessDepth, AlwaysDepth, NeverDepth, CullFaceFront, CullFaceBack, CullFaceNone, DoubleSide, BackSide, CustomBlending, MultiplyBlending, SubtractiveBlending, AdditiveBlending, NoBlending, NormalBlending, AddEquation, SubtractEquation, ReverseSubtractEquation, MinEquation, MaxEquation, ZeroFactor, OneFactor, SrcColorFactor, SrcAlphaFactor, SrcAlphaSaturateFactor, DstColorFactor, DstAlphaFactor, OneMinusSrcColorFactor, OneMinusSrcAlphaFactor, OneMinusDstColorFactor, OneMinusDstAlphaFactor } from '../../constants.js';\nimport { Vector4 } from '../../math/Vector4.js';\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( gl.DEPTH_TEST );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( gl.DEPTH_TEST );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NEVER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.ALWAYS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LESS );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.EQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.GREATER );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.NOTEQUAL );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( gl.LEQUAL );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( gl.STENCIL_TEST );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( gl.STENCIL_TEST );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet xrFramebuffer = null;\n\tlet currentBoundFramebuffers = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( gl.VERSION );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\tconst currentViewport = new Vector4( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\n\t\tgl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\n\temptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( gl.DEPTH_TEST );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( gl.CULL_FACE );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindXRFramebuffer( framebuffer ) {\n\n\t\tif ( framebuffer !== xrFramebuffer ) {\n\n\t\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, framebuffer );\n\n\t\t\txrFramebuffer = framebuffer;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// gl.DRAW_FRAMEBUFFER is equivalent to gl.FRAMEBUFFER\n\n\t\t\t\tif ( target === gl.DRAW_FRAMEBUFFER ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ gl.FRAMEBUFFER ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === gl.FRAMEBUFFER ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ gl.DRAW_FRAMEBUFFER ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: gl.FUNC_ADD,\n\t\t[ SubtractEquation ]: gl.FUNC_SUBTRACT,\n\t\t[ ReverseSubtractEquation ]: gl.FUNC_REVERSE_SUBTRACT\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = gl.MIN;\n\t\tequationToGL[ MaxEquation ] = gl.MAX;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: gl.ZERO,\n\t\t[ OneFactor ]: gl.ONE,\n\t\t[ SrcColorFactor ]: gl.SRC_COLOR,\n\t\t[ SrcAlphaFactor ]: gl.SRC_ALPHA,\n\t\t[ SrcAlphaSaturateFactor ]: gl.SRC_ALPHA_SATURATE,\n\t\t[ DstColorFactor ]: gl.DST_COLOR,\n\t\t[ DstAlphaFactor ]: gl.DST_ALPHA,\n\t\t[ OneMinusSrcColorFactor ]: gl.ONE_MINUS_SRC_COLOR,\n\t\t[ OneMinusSrcAlphaFactor ]: gl.ONE_MINUS_SRC_ALPHA,\n\t\t[ OneMinusDstColorFactor ]: gl.ONE_MINUS_DST_COLOR,\n\t\t[ OneMinusDstAlphaFactor ]: gl.ONE_MINUS_DST_ALPHA\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( gl.BLEND );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( gl.BLEND );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( gl.FUNC_ADD );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ONE, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.SRC_ALPHA, gl.ONE );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( gl.ZERO, gl.SRC_COLOR );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( gl.CULL_FACE )\n\t\t\t: enable( gl.CULL_FACE );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( gl.SAMPLE_ALPHA_TO_COVERAGE )\n\t\t\t: disable( gl.SAMPLE_ALPHA_TO_COVERAGE );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( gl.CW );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( gl.CCW );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( gl.CULL_FACE );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( gl.BACK );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( gl.FRONT_AND_BACK );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.CULL_FACE );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( gl.POLYGON_OFFSET_FILL );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( gl.POLYGON_OFFSET_FILL );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( gl.SCISSOR_TEST );\n\n\t\t} else {\n\n\t\t\tdisable( gl.SCISSOR_TEST );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( gl.BLEND );\n\t\tgl.disable( gl.CULL_FACE );\n\t\tgl.disable( gl.DEPTH_TEST );\n\t\tgl.disable( gl.POLYGON_OFFSET_FILL );\n\t\tgl.disable( gl.SCISSOR_TEST );\n\t\tgl.disable( gl.STENCIL_TEST );\n\t\tgl.disable( gl.SAMPLE_ALPHA_TO_COVERAGE );\n\n\t\tgl.blendEquation( gl.FUNC_ADD );\n\t\tgl.blendFunc( gl.ONE, gl.ZERO );\n\t\tgl.blendFuncSeparate( gl.ONE, gl.ZERO, gl.ONE, gl.ZERO );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( gl.LESS );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( gl.ALWAYS, 0, 0xffffffff );\n\t\tgl.stencilOp( gl.KEEP, gl.KEEP, gl.KEEP );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( gl.BACK );\n\t\tgl.frontFace( gl.CCW );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( gl.TEXTURE0 );\n\n\t\tgl.bindFramebuffer( gl.FRAMEBUFFER, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( gl.DRAW_FRAMEBUFFER, null );\n\t\t\tgl.bindFramebuffer( gl.READ_FRAMEBUFFER, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\txrFramebuffer = null;\n\t\tcurrentBoundFramebuffers = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tbindXRFramebuffer: bindXRFramebuffer,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nexport { WebGLState };\n","import { LinearFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, NearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, RGBFormat, RGBAFormat, DepthFormat, DepthStencilFormat, UnsignedShortType, UnsignedIntType, UnsignedInt248Type, FloatType, HalfFloatType, MirroredRepeatWrapping, ClampToEdgeWrapping, RepeatWrapping } from '../../constants.js';\nimport * as MathUtils from '../../math/MathUtils.js';\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height ) );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === _gl.RED ) {\n\n\t\t\tif ( glType === _gl.FLOAT ) internalFormat = _gl.R32F;\n\t\t\tif ( glType === _gl.HALF_FLOAT ) internalFormat = _gl.R16F;\n\t\t\tif ( glType === _gl.UNSIGNED_BYTE ) internalFormat = _gl.R8;\n\n\t\t}\n\n\t\tif ( glFormat === _gl.RGB ) {\n\n\t\t\tif ( glType === _gl.FLOAT ) internalFormat = _gl.RGB32F;\n\t\t\tif ( glType === _gl.HALF_FLOAT ) internalFormat = _gl.RGB16F;\n\t\t\tif ( glType === _gl.UNSIGNED_BYTE ) internalFormat = _gl.RGB8;\n\n\t\t}\n\n\t\tif ( glFormat === _gl.RGBA ) {\n\n\t\t\tif ( glType === _gl.FLOAT ) internalFormat = _gl.RGBA32F;\n\t\t\tif ( glType === _gl.HALF_FLOAT ) internalFormat = _gl.RGBA16F;\n\t\t\tif ( glType === _gl.UNSIGNED_BYTE ) internalFormat = _gl.RGBA8;\n\n\t\t}\n\n\t\tif ( internalFormat === _gl.R16F || internalFormat === _gl.R32F ||\n\t\t\tinternalFormat === _gl.RGBA16F || internalFormat === _gl.RGBA32F ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn _gl.NEAREST;\n\n\t\t}\n\n\t\treturn _gl.LINEAR;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_2D_ARRAY, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_3D, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: _gl.REPEAT,\n\t\t[ ClampToEdgeWrapping ]: _gl.CLAMP_TO_EDGE,\n\t\t[ MirroredRepeatWrapping ]: _gl.MIRRORED_REPEAT\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: _gl.NEAREST,\n\t\t[ NearestMipmapNearestFilter ]: _gl.NEAREST_MIPMAP_NEAREST,\n\t\t[ NearestMipmapLinearFilter ]: _gl.NEAREST_MIPMAP_LINEAR,\n\n\t\t[ LinearFilter ]: _gl.LINEAR,\n\t\t[ LinearMipmapNearestFilter ]: _gl.LINEAR_MIPMAP_NEAREST,\n\t\t[ LinearMipmapLinearFilter ]: _gl.LINEAR_MIPMAP_LINEAR\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === _gl.TEXTURE_3D || textureType === _gl.TEXTURE_2D_ARRAY ) {\n\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_R, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\n\n\t\t\tif ( textureType === _gl.TEXTURE_3D || textureType === _gl.TEXTURE_2D_ARRAY ) {\n\n\t\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_WRAP_R, _gl.CLAMP_TO_EDGE );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = _gl.TEXTURE_2D;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = _gl.TEXTURE_2D_ARRAY;\n\t\tif ( texture.isDataTexture3D ) textureType = _gl.TEXTURE_3D;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\t\t_gl.pixelStorei( _gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, _gl.NONE );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT24;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = _gl.DEPTH24_STENCIL8;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT16; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === _gl.DEPTH_COMPONENT ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === _gl.DEPTH_COMPONENT ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = _gl.DEPTH_STENCIL;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( _gl.TEXTURE_2D_ARRAY, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( _gl.TEXTURE_3D, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( _gl.TEXTURE0 + slot );\n\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\n\t\t_gl.pixelStorei( _gl.UNPACK_COLORSPACE_CONVERSION_WEBGL, _gl.NONE );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( _gl.TEXTURE_CUBE_MAP, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst glFormat = utils.convert( texture.format );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tif ( textureTarget === _gl.TEXTURE_3D || textureTarget === _gl.TEXTURE_2D_ARRAY ) {\n\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t} else {\n\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = _gl.DEPTH_COMPONENT16;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT32F;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = _gl.DEPTH_COMPONENT24;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, _gl.DEPTH24_STENCIL8, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\tconst glType = utils.convert( texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( _gl.RENDERBUFFER, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\ttextureProperties.__version = texture.version;\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && texture.format === RGBFormat && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\n\n\t\t\ttexture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( _gl.RENDERBUFFER, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.RENDERBUFFER, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( _gl.TEXTURE_CUBE_MAP, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\n\n\t\t} else {\n\n\t\t\tlet glTextureType = _gl.TEXTURE_2D;\n\n\t\t\tif ( isRenderTarget3D ) {\n\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\tglTextureType = isTexture3D ? _gl.TEXTURE_3D : _gl.TEXTURE_2D_ARRAY;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( _gl.TEXTURE_2D, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( _gl.TEXTURE_2D, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = _gl.COLOR_BUFFER_BIT;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= _gl.DEPTH_BUFFER_BIT;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tstate.bindFramebuffer( _gl.READ_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( _gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, _gl.NEAREST );\n\n\t\t\t\tstate.bindFramebuffer( _gl.READ_FRAMEBUFFER, null );\n\t\t\t\tstate.bindFramebuffer( _gl.DRAW_FRAMEBUFFER, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nexport { WebGLTextures };\n","import { RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_10x10_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGB_ETC1_Format, RGB_ETC2_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT5_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT1_Format, RGB_S3TC_DXT1_Format, DepthFormat, DepthStencilFormat, LuminanceAlphaFormat, LuminanceFormat, RedFormat, RGBAFormat, RGBFormat, AlphaFormat, RedIntegerFormat, RGFormat, RGIntegerFormat, RGBIntegerFormat, RGBAIntegerFormat, HalfFloatType, FloatType, UnsignedIntType, IntType, UnsignedShortType, ShortType, ByteType, UnsignedInt248Type, UnsignedShort565Type, UnsignedShort5551Type, UnsignedShort4444Type, UnsignedByteType, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, RGBA_BPTC_Format } from '../../constants.js';\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return gl.UNSIGNED_BYTE;\n\t\tif ( p === UnsignedShort4444Type ) return gl.UNSIGNED_SHORT_4_4_4_4;\n\t\tif ( p === UnsignedShort5551Type ) return gl.UNSIGNED_SHORT_5_5_5_1;\n\t\tif ( p === UnsignedShort565Type ) return gl.UNSIGNED_SHORT_5_6_5;\n\n\t\tif ( p === ByteType ) return gl.BYTE;\n\t\tif ( p === ShortType ) return gl.SHORT;\n\t\tif ( p === UnsignedShortType ) return gl.UNSIGNED_SHORT;\n\t\tif ( p === IntType ) return gl.INT;\n\t\tif ( p === UnsignedIntType ) return gl.UNSIGNED_INT;\n\t\tif ( p === FloatType ) return gl.FLOAT;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return gl.HALF_FLOAT;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return gl.ALPHA;\n\t\tif ( p === RGBFormat ) return gl.RGB;\n\t\tif ( p === RGBAFormat ) return gl.RGBA;\n\t\tif ( p === LuminanceFormat ) return gl.LUMINANCE;\n\t\tif ( p === LuminanceAlphaFormat ) return gl.LUMINANCE_ALPHA;\n\t\tif ( p === DepthFormat ) return gl.DEPTH_COMPONENT;\n\t\tif ( p === DepthStencilFormat ) return gl.DEPTH_STENCIL;\n\t\tif ( p === RedFormat ) return gl.RED;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return gl.RED_INTEGER;\n\t\tif ( p === RGFormat ) return gl.RG;\n\t\tif ( p === RGIntegerFormat ) return gl.RG_INTEGER;\n\t\tif ( p === RGBIntegerFormat ) return gl.RGB_INTEGER;\n\t\tif ( p === RGBAIntegerFormat ) return gl.RGBA_INTEGER;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return gl.UNSIGNED_INT_24_8;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n\nexport { WebGLUtils };\n","import { PerspectiveCamera } from './PerspectiveCamera.js';\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nArrayCamera.prototype.isArrayCamera = true;\n\n\nexport { ArrayCamera };\n","import { Vector3 } from '../../math/Vector3.js';\nimport { Group } from '../../objects/Group.js';\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n\nexport { WebXRController };\n","import { ArrayCamera } from '../../cameras/ArrayCamera.js';\nimport { EventDispatcher } from '../../core/EventDispatcher.js';\nimport { PerspectiveCamera } from '../../cameras/PerspectiveCamera.js';\nimport { Vector3 } from '../../math/Vector3.js';\nimport { Vector4 } from '../../math/Vector4.js';\nimport { WebGLAnimation } from '../webgl/WebGLAnimation.js';\nimport { WebXRController } from './WebXRController.js';\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst state = renderer.state;\n\n\t\tlet session = null;\n\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\n\t\tlet pose = null;\n\n\t\tconst controllers = [];\n\t\tconst inputSourcesMap = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\t\tcontroller.disconnect( inputSource );\n\n\t\t\t} );\n\n\t\t\tinputSourcesMap.clear();\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\tstate.bindXRFramebuffer( null );\n\t\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn referenceSpace;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tconst layerInit = {\n\t\t\t\t\tantialias: attributes.antialias,\n\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t};\n\n\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t// Assign inputSources to available controllers\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t\t}\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.getCamera = function ( camera ) {\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\t// update camera and its children\n\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrix.decompose( camera.position, camera.quaternion, camera.scale );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\t\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\t\tstate.bindXRFramebuffer( baseLayer.framebuffer );\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\t\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst controller = controllers[ i ];\n\t\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nexport { WebXRManager };\n","import { BackSide } from '../../constants.js';\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nexport { WebGLMaterials };\n","import {\n\tRGBAFormat,\n\tHalfFloatType,\n\tFloatType,\n\tUnsignedByteType,\n\tLinearEncoding,\n\tNoToneMapping\n} from '../constants.js';\nimport * as MathUtils from '../math/MathUtils.js';\nimport { DataTexture } from '../textures/DataTexture.js';\nimport { Frustum } from '../math/Frustum.js';\nimport { Matrix4 } from '../math/Matrix4.js';\nimport { Vector2 } from '../math/Vector2.js';\nimport { Vector3 } from '../math/Vector3.js';\nimport { Vector4 } from '../math/Vector4.js';\nimport { Color } from '../math/Color.js';\nimport { WebGLAnimation } from './webgl/WebGLAnimation.js';\nimport { WebGLAttributes } from './webgl/WebGLAttributes.js';\nimport { WebGLBackground } from './webgl/WebGLBackground.js';\nimport { WebGLBindingStates } from './webgl/WebGLBindingStates.js';\nimport { WebGLBufferRenderer } from './webgl/WebGLBufferRenderer.js';\nimport { WebGLCapabilities } from './webgl/WebGLCapabilities.js';\nimport { WebGLClipping } from './webgl/WebGLClipping.js';\nimport { WebGLCubeMaps } from './webgl/WebGLCubeMaps.js';\nimport { WebGLExtensions } from './webgl/WebGLExtensions.js';\nimport { WebGLGeometries } from './webgl/WebGLGeometries.js';\nimport { WebGLIndexedBufferRenderer } from './webgl/WebGLIndexedBufferRenderer.js';\nimport { WebGLInfo } from './webgl/WebGLInfo.js';\nimport { WebGLMorphtargets } from './webgl/WebGLMorphtargets.js';\nimport { WebGLObjects } from './webgl/WebGLObjects.js';\nimport { WebGLPrograms } from './webgl/WebGLPrograms.js';\nimport { WebGLProperties } from './webgl/WebGLProperties.js';\nimport { WebGLRenderLists } from './webgl/WebGLRenderLists.js';\nimport { WebGLRenderStates } from './webgl/WebGLRenderStates.js';\nimport { WebGLShadowMap } from './webgl/WebGLShadowMap.js';\nimport { WebGLState } from './webgl/WebGLState.js';\nimport { WebGLTextures } from './webgl/WebGLTextures.js';\nimport { WebGLUniforms } from './webgl/WebGLUniforms.js';\nimport { WebGLUtils } from './webgl/WebGLUtils.js';\nimport { WebXRManager } from './webxr/WebXRManager.js';\nimport { WebGLMaterials } from './webgl/WebGLMaterials.js';\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getClearColor() now requires a Color as an argument' );\n\n\t\t\ttarget = new Color();\n\n\t\t}\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\n\t\tif ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\n\t\tif ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\n\t\t\t_gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, _gl.FLOAT, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( _gl.TRIANGLES, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( _gl.TRIANGLES );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( _gl.LINES );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( _gl.LINE_LOOP );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( _gl.LINE_STRIP );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( _gl.POINTS );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( _gl.TRIANGLES );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights();\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLightsView( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && object.geometry && object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( _gl.TEXTURE_2D, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, dstTexture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( _gl.TEXTURE_2D, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( _gl.TEXTURE_2D, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( _gl.TEXTURE_2D, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( _gl.TEXTURE_2D );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst { width, height, data } = srcTexture.image;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isDataTexture3D ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = _gl.TEXTURE_3D;\n\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = _gl.TEXTURE_2D_ARRAY;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, dstTexture.flipY );\n\t\t_gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( _gl.UNPACK_ALIGNMENT, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( _gl.UNPACK_ROW_LENGTH );\n\t\tconst unpackImageHeight = _gl.getParameter( _gl.UNPACK_IMAGE_HEIGHT );\n\t\tconst unpackSkipPixels = _gl.getParameter( _gl.UNPACK_SKIP_PIXELS );\n\t\tconst unpackSkipRows = _gl.getParameter( _gl.UNPACK_SKIP_ROWS );\n\t\tconst unpackSkipImages = _gl.getParameter( _gl.UNPACK_SKIP_IMAGES );\n\n\t\t_gl.pixelStorei( _gl.UNPACK_ROW_LENGTH, width );\n\t\t_gl.pixelStorei( _gl.UNPACK_IMAGE_HEIGHT, height );\n\t\t_gl.pixelStorei( _gl.UNPACK_SKIP_PIXELS, sourceBox.min.x );\n\t\t_gl.pixelStorei( _gl.UNPACK_SKIP_ROWS, sourceBox.min.y );\n\t\t_gl.pixelStorei( _gl.UNPACK_SKIP_IMAGES, sourceBox.min.z );\n\n\t\t_gl.texSubImage3D(\n\t\t\tglTarget,\n\t\t\tlevel,\n\t\t\tposition.x,\n\t\t\tposition.y,\n\t\t\tposition.z,\n\t\t\tsourceBox.max.x - sourceBox.min.x + 1,\n\t\t\tsourceBox.max.y - sourceBox.min.y + 1,\n\t\t\tsourceBox.max.z - sourceBox.min.z + 1,\n\t\t\tglFormat,\n\t\t\tglType,\n\t\t\tdata\n\t\t);\n\n\t\t_gl.pixelStorei( _gl.UNPACK_ROW_LENGTH, unpackRowLen );\n\t\t_gl.pixelStorei( _gl.UNPACK_IMAGE_HEIGHT, unpackImageHeight );\n\t\t_gl.pixelStorei( _gl.UNPACK_SKIP_PIXELS, unpackSkipPixels );\n\t\t_gl.pixelStorei( _gl.UNPACK_SKIP_ROWS, unpackSkipRows );\n\t\t_gl.pixelStorei( _gl.UNPACK_SKIP_IMAGES, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nexport { WebGLRenderer };\n","class Clock {\n\n\tconstructor( autoStart = true ) {\n\n\t\tthis.autoStart = autoStart;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nexport { Clock };\n","import { Clock } from \"three\";\nexport function invokeAnimation(animation, player, time) {\n    if (animation instanceof Function) {\n        animation(player, time);\n    }\n    else {\n        // must be IAnimation here\n        animation.play(player, time);\n    }\n}\nclass AnimationWrapper {\n    constructor(animation) {\n        this.speed = 1.0;\n        this.paused = false;\n        this.progress = 0;\n        this.lastTime = 0;\n        this.started = false;\n        this.toResetAndRemove = false;\n        this.animation = animation;\n    }\n    play(player, time) {\n        if (this.toResetAndRemove) {\n            invokeAnimation(this.animation, player, 0);\n            this.remove();\n            return;\n        }\n        let delta;\n        if (this.started) {\n            delta = time - this.lastTime;\n        }\n        else {\n            delta = 0;\n            this.started = true;\n        }\n        this.lastTime = time;\n        if (!this.paused) {\n            this.progress += delta * this.speed;\n        }\n        invokeAnimation(this.animation, player, this.progress);\n    }\n    reset() {\n        this.progress = 0;\n    }\n    remove() {\n        // stub get's overriden\n    }\n    resetAndRemove() {\n        this.toResetAndRemove = true;\n    }\n}\nexport class CompositeAnimation {\n    constructor() {\n        this.handles = new Set();\n    }\n    add(animation) {\n        const handle = new AnimationWrapper(animation);\n        handle.remove = () => {\n            this.handles.delete(handle);\n        };\n        this.handles.add(handle);\n        return handle;\n    }\n    play(player, time) {\n        this.handles.forEach(handle => handle.play(player, time));\n    }\n}\nexport class RootAnimation extends CompositeAnimation {\n    constructor() {\n        super(...arguments);\n        this.speed = 1.0;\n        this.progress = 0.0;\n        this.clock = new Clock(true);\n    }\n    get animation() {\n        return this;\n    }\n    get paused() {\n        return !this.clock.running;\n    }\n    set paused(value) {\n        if (value) {\n            this.clock.stop();\n        }\n        else {\n            this.clock.start();\n        }\n    }\n    runAnimationLoop(player) {\n        if (this.handles.size === 0) {\n            return;\n        }\n        this.progress += this.clock.getDelta() * this.speed;\n        this.play(player, this.progress);\n    }\n    reset() {\n        this.progress = 0;\n    }\n}\nexport const WalkingAnimation = (player, time) => {\n    const skin = player.skin;\n    // Multiply by animation's natural speed\n    time *= 8;\n    // Leg swing\n    skin.leftLeg.rotation.x = Math.sin(time) * 0.5;\n    skin.rightLeg.rotation.x = Math.sin(time + Math.PI) * 0.5;\n    // Arm swing\n    skin.leftArm.rotation.x = Math.sin(time + Math.PI) * 0.5;\n    skin.rightArm.rotation.x = Math.sin(time) * 0.5;\n    const basicArmRotationZ = Math.PI * 0.02;\n    skin.leftArm.rotation.z = Math.cos(time) * 0.03 + basicArmRotationZ;\n    skin.rightArm.rotation.z = Math.cos(time + Math.PI) * 0.03 - basicArmRotationZ;\n    // Head shaking with different frequency & amplitude\n    skin.head.rotation.y = Math.sin(time / 4) * 0.2;\n    skin.head.rotation.x = Math.sin(time / 5) * 0.1;\n    // Always add an angle for cape around the x axis\n    const basicCapeRotationX = Math.PI * 0.06;\n    player.cape.rotation.x = Math.sin(time / 1.5) * 0.06 + basicCapeRotationX;\n};\nexport const RunningAnimation = (player, time) => {\n    const skin = player.skin;\n    time = time * 15 + Math.PI * 0.5;\n    // Leg swing with larger amplitude\n    skin.leftLeg.rotation.x = Math.cos(time + Math.PI) * 1.3;\n    skin.rightLeg.rotation.x = Math.cos(time) * 1.3;\n    // Arm swing\n    skin.leftArm.rotation.x = Math.cos(time) * 1.5;\n    skin.rightArm.rotation.x = Math.cos(time + Math.PI) * 1.5;\n    const basicArmRotationZ = Math.PI * 0.1;\n    skin.leftArm.rotation.z = Math.cos(time) * 0.1 + basicArmRotationZ;\n    skin.rightArm.rotation.z = Math.cos(time + Math.PI) * 0.1 - basicArmRotationZ;\n    // Jumping\n    player.position.y = Math.cos(time * 2);\n    // Dodging when running\n    player.position.x = Math.cos(time) * 0.15;\n    // Slightly tilting when running\n    player.rotation.z = Math.cos(time + Math.PI) * 0.01;\n    // Apply higher swing frequency, lower amplitude,\n    // and greater basic rotation around x axis,\n    // to cape when running.\n    const basicCapeRotationX = Math.PI * 0.3;\n    player.cape.rotation.x = Math.sin(time * 2) * 0.1 + basicCapeRotationX;\n    // What about head shaking?\n    // You shouldn't glance right and left when running dude :P\n};\nexport const RotatingAnimation = (player, time) => {\n    player.rotation.y = time;\n};\nfunction clamp(num, min, max) {\n    return num <= min ? min : num >= max ? max : num;\n}\nexport const FlyingAnimation = (player, time) => {\n    // body rotation finishes in 0.5s\n    // elytra expansion finishes in 3.3s\n    if (time < 0)\n        time = 0;\n    time *= 20;\n    const startProgress = clamp((time * time) / 100, 0, 1);\n    player.rotation.x = startProgress * Math.PI / 2;\n    player.skin.head.rotation.x = startProgress > .5 ? Math.PI / 4 - player.rotation.x : 0;\n    const basicArmRotationZ = Math.PI * .25 * startProgress;\n    player.skin.leftArm.rotation.z = basicArmRotationZ;\n    player.skin.rightArm.rotation.z = -basicArmRotationZ;\n    const elytraRotationX = .34906584;\n    const elytraRotationZ = Math.PI / 2;\n    const interpolation = Math.pow(.9, time);\n    player.elytra.leftWing.rotation.x = elytraRotationX + interpolation * (.2617994 - elytraRotationX);\n    player.elytra.leftWing.rotation.z = elytraRotationZ + interpolation * (.2617994 - elytraRotationZ);\n    player.elytra.updateRightWing();\n};\n//# sourceMappingURL=animation.js.map","import { inferModelType, isTextureSource, loadCapeToCanvas, loadImage, loadSkinToCanvas } from \"skinview-utils\";\nimport { NearestFilter, PerspectiveCamera, Scene, Texture, Vector2, WebGLRenderer } from \"three\";\nimport { RootAnimation } from \"./animation.js\";\nimport { PlayerObject } from \"./model.js\";\nexport class SkinViewer {\n    constructor(options = {}) {\n        this.animations = new RootAnimation();\n        this._disposed = false;\n        this._renderPaused = false;\n        this.canvas = options.canvas === undefined ? document.createElement(\"canvas\") : options.canvas;\n        // texture\n        this.skinCanvas = document.createElement(\"canvas\");\n        this.skinTexture = new Texture(this.skinCanvas);\n        this.skinTexture.magFilter = NearestFilter;\n        this.skinTexture.minFilter = NearestFilter;\n        this.capeCanvas = document.createElement(\"canvas\");\n        this.capeTexture = new Texture(this.capeCanvas);\n        this.capeTexture.magFilter = NearestFilter;\n        this.capeTexture.minFilter = NearestFilter;\n        this.scene = new Scene();\n        // Use smaller fov to avoid distortion\n        this.camera = new PerspectiveCamera(40);\n        this.camera.position.y = -8;\n        this.camera.position.z = 60;\n        this.renderer = new WebGLRenderer({\n            canvas: this.canvas,\n            alpha: options.alpha !== false,\n            preserveDrawingBuffer: options.preserveDrawingBuffer === true // default: false\n        });\n        this.renderer.setPixelRatio(window.devicePixelRatio);\n        this.playerObject = new PlayerObject(this.skinTexture, this.capeTexture);\n        this.playerObject.name = \"player\";\n        this.playerObject.skin.visible = false;\n        this.playerObject.cape.visible = false;\n        this.scene.add(this.playerObject);\n        if (options.skin !== undefined) {\n            this.loadSkin(options.skin, options.model);\n        }\n        if (options.cape !== undefined) {\n            this.loadCape(options.cape);\n        }\n        if (options.width !== undefined) {\n            this.width = options.width;\n        }\n        if (options.height !== undefined) {\n            this.height = options.height;\n        }\n        if (options.renderPaused === true) {\n            this._renderPaused = true;\n        }\n        else {\n            window.requestAnimationFrame(() => this.draw());\n        }\n    }\n    loadSkin(source, model = \"auto-detect\", options = {}) {\n        if (source === null) {\n            this.resetSkin();\n        }\n        else if (isTextureSource(source)) {\n            loadSkinToCanvas(this.skinCanvas, source);\n            const actualModel = model === \"auto-detect\" ? inferModelType(this.skinCanvas) : model;\n            this.skinTexture.needsUpdate = true;\n            this.playerObject.skin.modelType = actualModel;\n            if (options.makeVisible !== false) {\n                this.playerObject.skin.visible = true;\n            }\n        }\n        else {\n            return loadImage(source).then(image => this.loadSkin(image, model, options));\n        }\n    }\n    resetSkin() {\n        this.playerObject.skin.visible = false;\n    }\n    loadCape(source, options = {}) {\n        if (source === null) {\n            this.resetCape();\n        }\n        else if (isTextureSource(source)) {\n            loadCapeToCanvas(this.capeCanvas, source);\n            this.capeTexture.needsUpdate = true;\n            if (options.makeVisible !== false) {\n                this.playerObject.backEquipment = options.backEquipment === undefined ? \"cape\" : options.backEquipment;\n            }\n        }\n        else {\n            return loadImage(source).then(image => this.loadCape(image, options));\n        }\n    }\n    resetCape() {\n        this.playerObject.backEquipment = null;\n    }\n    draw() {\n        if (this.disposed || this._renderPaused) {\n            return;\n        }\n        this.animations.runAnimationLoop(this.playerObject);\n        this.render();\n        window.requestAnimationFrame(() => this.draw());\n    }\n    /**\n    * Renders the scene to the canvas.\n    * This method does not change the animation progress.\n    */\n    render() {\n        this.renderer.render(this.scene, this.camera);\n    }\n    setSize(width, height) {\n        this.camera.aspect = width / height;\n        this.camera.updateProjectionMatrix();\n        this.renderer.setSize(width, height);\n    }\n    dispose() {\n        this._disposed = true;\n        this.renderer.dispose();\n        this.skinTexture.dispose();\n        this.capeTexture.dispose();\n    }\n    get disposed() {\n        return this._disposed;\n    }\n    /**\n     * Whether rendering and animations are paused.\n     * Setting this property to true will stop both rendering and animation loops.\n     * Setting it back to false will resume them.\n     */\n    get renderPaused() {\n        return this._renderPaused;\n    }\n    set renderPaused(value) {\n        const toResume = !this.disposed && !value && this._renderPaused;\n        this._renderPaused = value;\n        if (toResume) {\n            window.requestAnimationFrame(() => this.draw());\n        }\n    }\n    get width() {\n        return this.renderer.getSize(new Vector2()).width;\n    }\n    set width(newWidth) {\n        this.setSize(newWidth, this.height);\n    }\n    get height() {\n        return this.renderer.getSize(new Vector2()).height;\n    }\n    set height(newHeight) {\n        this.setSize(this.width, newHeight);\n    }\n}\n//# sourceMappingURL=viewer.js.map","/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nimport * as MathUtils from './MathUtils.js';\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nexport { Spherical };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from 'three';\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nconst _changeEvent = { type: 'change' };\nconst _startEvent = { type: 'start' };\nconst _endEvent = { type: 'end' };\n\nclass OrbitControls extends EventDispatcher {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper();\n\n\t\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\t\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\t\tthis.object = object;\n\t\tthis.domElement = domElement;\n\n\t\t// Set to false to disable this control\n\t\tthis.enabled = true;\n\n\t\t// \"target\" sets the location of focus, where the object orbits around\n\t\tthis.target = new Vector3();\n\n\t\t// How far you can dolly in and out ( PerspectiveCamera only )\n\t\tthis.minDistance = 0;\n\t\tthis.maxDistance = Infinity;\n\n\t\t// How far you can zoom in and out ( OrthographicCamera only )\n\t\tthis.minZoom = 0;\n\t\tthis.maxZoom = Infinity;\n\n\t\t// How far you can orbit vertically, upper and lower limits.\n\t\t// Range is 0 to Math.PI radians.\n\t\tthis.minPolarAngle = 0; // radians\n\t\tthis.maxPolarAngle = Math.PI; // radians\n\n\t\t// How far you can orbit horizontally, upper and lower limits.\n\t\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\t\tthis.minAzimuthAngle = - Infinity; // radians\n\t\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t\t// Set to true to enable damping (inertia)\n\t\t// If damping is enabled, you must call controls.update() in your animation loop\n\t\tthis.enableDamping = false;\n\t\tthis.dampingFactor = 0.05;\n\n\t\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t\t// Set to false to disable zooming\n\t\tthis.enableZoom = true;\n\t\tthis.zoomSpeed = 1.0;\n\n\t\t// Set to false to disable rotating\n\t\tthis.enableRotate = true;\n\t\tthis.rotateSpeed = 1.0;\n\n\t\t// Set to false to disable panning\n\t\tthis.enablePan = true;\n\t\tthis.panSpeed = 1.0;\n\t\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\t\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t\t// Set to true to automatically rotate around the target\n\t\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\t\tthis.autoRotate = false;\n\t\tthis.autoRotateSpeed = 2.0; // 30 seconds per orbit when fps is 60\n\n\t\t// The four arrow keys\n\t\tthis.keys = { LEFT: 'ArrowLeft', UP: 'ArrowUp', RIGHT: 'ArrowRight', BOTTOM: 'ArrowDown' };\n\n\t\t// Mouse buttons\n\t\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t\t// Touch fingers\n\t\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t\t// for reset\n\t\tthis.target0 = this.target.clone();\n\t\tthis.position0 = this.object.position.clone();\n\t\tthis.zoom0 = this.object.zoom;\n\n\t\t// the target DOM element for key events\n\t\tthis._domElementKeyEvents = null;\n\n\t\t//\n\t\t// public methods\n\t\t//\n\n\t\tthis.getPolarAngle = function () {\n\n\t\t\treturn spherical.phi;\n\n\t\t};\n\n\t\tthis.getAzimuthalAngle = function () {\n\n\t\t\treturn spherical.theta;\n\n\t\t};\n\n\t\tthis.listenToKeyEvents = function ( domElement ) {\n\n\t\t\tdomElement.addEventListener( 'keydown', onKeyDown );\n\t\t\tthis._domElementKeyEvents = domElement;\n\n\t\t};\n\n\t\tthis.saveState = function () {\n\n\t\t\tscope.target0.copy( scope.target );\n\t\t\tscope.position0.copy( scope.object.position );\n\t\t\tscope.zoom0 = scope.object.zoom;\n\n\t\t};\n\n\t\tthis.reset = function () {\n\n\t\t\tscope.target.copy( scope.target0 );\n\t\t\tscope.object.position.copy( scope.position0 );\n\t\t\tscope.object.zoom = scope.zoom0;\n\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\tscope.update();\n\n\t\t\tstate = STATE.NONE;\n\n\t\t};\n\n\t\t// this method is exposed, but perhaps it would be better if we can make it private...\n\t\tthis.update = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\t// so camera.up is the orbit axis\n\t\t\tconst quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\t\tconst quatInverse = quat.clone().invert();\n\n\t\t\tconst lastPosition = new Vector3();\n\t\t\tconst lastQuaternion = new Quaternion();\n\n\t\t\tconst twoPI = 2 * Math.PI;\n\n\t\t\treturn function update() {\n\n\t\t\t\tconst position = scope.object.position;\n\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t\t// angle from z-axis around y-axis\n\t\t\t\tspherical.setFromVector3( offset );\n\n\t\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t\t}\n\n\t\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t\t}\n\n\t\t\t\t// restrict theta to be between desired limits\n\n\t\t\t\tlet min = scope.minAzimuthAngle;\n\t\t\t\tlet max = scope.maxAzimuthAngle;\n\n\t\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// restrict phi to be between desired limits\n\t\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\t\tspherical.makeSafe();\n\n\n\t\t\t\tspherical.radius *= scale;\n\n\t\t\t\t// restrict radius to be between desired limits\n\t\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t\t// move target to panned location\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t\t}\n\n\t\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t\tscale = 1;\n\n\t\t\t\t// update condition is:\n\t\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\t\tif ( zoomChanged ||\n\t\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\t\tscope.dispatchEvent( _changeEvent );\n\n\t\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\t\tzoomChanged = false;\n\n\t\t\t\t\treturn true;\n\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t};\n\n\t\t}();\n\n\t\tthis.dispose = function () {\n\n\t\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu );\n\n\t\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown );\n\t\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel );\n\n\t\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart );\n\t\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd );\n\t\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove );\n\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\n\t\t\tif ( scope._domElementKeyEvents !== null ) {\n\n\t\t\t\tscope._domElementKeyEvents.removeEventListener( 'keydown', onKeyDown );\n\n\t\t\t}\n\n\t\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t\t};\n\n\t\t//\n\t\t// internals\n\t\t//\n\n\t\tconst scope = this;\n\n\t\tconst STATE = {\n\t\t\tNONE: - 1,\n\t\t\tROTATE: 0,\n\t\t\tDOLLY: 1,\n\t\t\tPAN: 2,\n\t\t\tTOUCH_ROTATE: 3,\n\t\t\tTOUCH_PAN: 4,\n\t\t\tTOUCH_DOLLY_PAN: 5,\n\t\t\tTOUCH_DOLLY_ROTATE: 6\n\t\t};\n\n\t\tlet state = STATE.NONE;\n\n\t\tconst EPS = 0.000001;\n\n\t\t// current position in spherical coordinates\n\t\tconst spherical = new Spherical();\n\t\tconst sphericalDelta = new Spherical();\n\n\t\tlet scale = 1;\n\t\tconst panOffset = new Vector3();\n\t\tlet zoomChanged = false;\n\n\t\tconst rotateStart = new Vector2();\n\t\tconst rotateEnd = new Vector2();\n\t\tconst rotateDelta = new Vector2();\n\n\t\tconst panStart = new Vector2();\n\t\tconst panEnd = new Vector2();\n\t\tconst panDelta = new Vector2();\n\n\t\tconst dollyStart = new Vector2();\n\t\tconst dollyEnd = new Vector2();\n\t\tconst dollyDelta = new Vector2();\n\n\t\tfunction getAutoRotationAngle() {\n\n\t\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t\t}\n\n\t\tfunction getZoomScale() {\n\n\t\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t\t}\n\n\t\tfunction rotateLeft( angle ) {\n\n\t\t\tsphericalDelta.theta -= angle;\n\n\t\t}\n\n\t\tfunction rotateUp( angle ) {\n\n\t\t\tsphericalDelta.phi -= angle;\n\n\t\t}\n\n\t\tconst panLeft = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\t\tv.multiplyScalar( - distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\tconst panUp = function () {\n\n\t\t\tconst v = new Vector3();\n\n\t\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t\t}\n\n\t\t\t\tv.multiplyScalar( distance );\n\n\t\t\t\tpanOffset.add( v );\n\n\t\t\t};\n\n\t\t}();\n\n\t\t// deltaX and deltaY are in pixels; right and down are positive\n\t\tconst pan = function () {\n\n\t\t\tconst offset = new Vector3();\n\n\t\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\t\tconst element = scope.domElement;\n\n\t\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t\t// perspective\n\t\t\t\t\tconst position = scope.object.position;\n\t\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\t\tlet targetDistance = offset.length();\n\n\t\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t\t// orthographic\n\t\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\t\tscope.enablePan = false;\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}();\n\n\t\tfunction dollyOut( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale /= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction dollyIn( dollyScale ) {\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\tscale *= dollyScale;\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\t\tscope.object.updateProjectionMatrix();\n\t\t\t\tzoomChanged = true;\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\t\tscope.enableZoom = false;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\t\t// event callbacks - update the object state\n\t\t//\n\n\t\tfunction handleMouseDownRotate( event ) {\n\n\t\t\trotateStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownDolly( event ) {\n\n\t\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseDownPan( event ) {\n\n\t\t\tpanStart.set( event.clientX, event.clientY );\n\n\t\t}\n\n\t\tfunction handleMouseMoveRotate( event ) {\n\n\t\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMoveDolly( event ) {\n\n\t\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseMovePan( event ) {\n\n\t\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\tfunction handleMouseWheel( event ) {\n\n\t\t\tif ( event.deltaY < 0 ) {\n\n\t\t\t\tdollyIn( getZoomScale() );\n\n\t\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\t\tdollyOut( getZoomScale() );\n\n\t\t\t}\n\n\t\t\tscope.update();\n\n\t\t}\n\n\t\tfunction handleKeyDown( event ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tswitch ( event.code ) {\n\n\t\t\t\tcase scope.keys.UP:\n\t\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.LEFT:\n\t\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase scope.keys.RIGHT:\n\t\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\t\tneedsUpdate = true;\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tscope.update();\n\n\t\t\t}\n\n\n\t\t}\n\n\t\tfunction handleTouchStartRotate( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\trotateStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartPan( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\tpanStart.set( x, y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction handleTouchStartDolly( event ) {\n\n\t\t\tconst dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tconst dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyStart.set( 0, distance );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t\t}\n\n\t\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveRotate( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\trotateEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\t\tconst element = scope.domElement;\n\n\t\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\t\trotateStart.copy( rotateEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMovePan( event ) {\n\n\t\t\tif ( event.touches.length == 1 ) {\n\n\t\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t\t} else {\n\n\t\t\t\tconst x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\t\tconst y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\t\tpanEnd.set( x, y );\n\n\t\t\t}\n\n\t\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\t\tpan( panDelta.x, panDelta.y );\n\n\t\t\tpanStart.copy( panEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDolly( event ) {\n\n\t\t\tconst dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\t\tconst dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\t\tconst distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\t\tdollyEnd.set( 0, distance );\n\n\t\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\t\tdollyOut( dollyDelta.y );\n\n\t\t\tdollyStart.copy( dollyEnd );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t\t}\n\n\t\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t\t}\n\n\t\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t\t// no-op\n\n\t\t}\n\n\t\t//\n\t\t// event handlers - FSM: listen for events and reset state\n\t\t//\n\n\t\tfunction onPointerDown( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tonMouseDown( event );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO touch\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tonMouseMove( event );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO touch\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onPointerUp( event ) {\n\n\t\t\tswitch ( event.pointerType ) {\n\n\t\t\t\tcase 'mouse':\n\t\t\t\tcase 'pen':\n\t\t\t\t\tonMouseUp( event );\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO touch\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseDown( event ) {\n\n\t\t\t// Prevent the browser from scrolling.\n\t\t\tevent.preventDefault();\n\n\t\t\t// Manually set the focus since calling preventDefault above\n\t\t\t// prevents the browser from setting it automatically.\n\n\t\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\t\tlet mouseAction;\n\n\t\t\tswitch ( event.button ) {\n\n\t\t\t\tcase 0:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tmouseAction = - 1;\n\n\t\t\t}\n\n\t\t\tswitch ( mouseAction ) {\n\n\t\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MOUSE.PAN:\n\n\t\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove );\n\t\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp );\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.DOLLY:\n\n\t\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onMouseUp( event ) {\n\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove );\n\t\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp );\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleMouseUp( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onMouseWheel( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\thandleMouseWheel( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t}\n\n\t\tfunction onKeyDown( event ) {\n\n\t\t\tif ( scope.enabled === false || scope.enablePan === false ) return;\n\n\t\t\thandleKeyDown( event );\n\n\t\t}\n\n\t\tfunction onTouchStart( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault(); // prevent scrolling\n\n\t\t\tswitch ( event.touches.length ) {\n\n\t\t\t\tcase 1:\n\n\t\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\n\t\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t\tif ( state !== STATE.NONE ) {\n\n\t\t\t\tscope.dispatchEvent( _startEvent );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchMove( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault(); // prevent scrolling\n\n\t\t\tswitch ( state ) {\n\n\t\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\t\tscope.update();\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onTouchEnd( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\thandleTouchEnd( event );\n\n\t\t\tscope.dispatchEvent( _endEvent );\n\n\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tfunction onContextMenu( event ) {\n\n\t\t\tif ( scope.enabled === false ) return;\n\n\t\t\tevent.preventDefault();\n\n\t\t}\n\n\t\t//\n\n\t\tscope.domElement.addEventListener( 'contextmenu', onContextMenu );\n\n\t\tscope.domElement.addEventListener( 'pointerdown', onPointerDown );\n\t\tscope.domElement.addEventListener( 'wheel', onMouseWheel, { passive: false } );\n\n\t\tscope.domElement.addEventListener( 'touchstart', onTouchStart, { passive: false } );\n\t\tscope.domElement.addEventListener( 'touchend', onTouchEnd );\n\t\tscope.domElement.addEventListener( 'touchmove', onTouchMove, { passive: false } );\n\n\t\t// force an update at start\n\n\t\tthis.update();\n\n\t}\n\n}\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nclass MapControls extends OrbitControls {\n\n\tconstructor( object, domElement ) {\n\n\t\tsuper( object, domElement );\n\n\t\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\t\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\t\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\t\tthis.touches.ONE = TOUCH.PAN;\n\t\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n\t}\n\n}\n\nexport { OrbitControls, MapControls };\n","import { Camera } from './Camera.js';\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nOrthographicCamera.prototype.isOrthographicCamera = true;\n\nexport { OrthographicCamera };\n","/**\n * Full-screen textured quad shader\n */\n\nvar CopyShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'opacity': { value: 1.0 }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader: /* glsl */`\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\t\t}`\n\n};\n\nexport { CopyShader };\n","import {\n\tBufferGeometry,\n\tFloat32BufferAttribute,\n\tOrthographicCamera,\n\tMesh\n} from 'three';\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { Pass, FullScreenQuad };\n","import {\n\tShaderMaterial,\n\tUniformsUtils\n} from 'three';\nimport { Pass, FullScreenQuad } from '../postprocessing/Pass.js';\n\nclass ShaderPass extends Pass {\n\n\tconstructor( shader, textureID ) {\n\n\t\tsuper();\n\n\t\tthis.textureID = ( textureID !== undefined ) ? textureID : 'tDiffuse';\n\n\t\tif ( shader instanceof ShaderMaterial ) {\n\n\t\t\tthis.uniforms = shader.uniforms;\n\n\t\t\tthis.material = shader;\n\n\t\t} else if ( shader ) {\n\n\t\t\tthis.uniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t\tthis.material = new ShaderMaterial( {\n\n\t\t\t\tdefines: Object.assign( {}, shader.defines ),\n\t\t\t\tuniforms: this.uniforms,\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\n\t\t\t} );\n\n\t\t}\n\n\t\tthis.fsQuad = new FullScreenQuad( this.material );\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tif ( this.uniforms[ this.textureID ] ) {\n\n\t\t\tthis.uniforms[ this.textureID ].value = readBuffer.texture;\n\n\t\t}\n\n\t\tthis.fsQuad.material = this.material;\n\n\t\tif ( this.renderToScreen ) {\n\n\t\t\trenderer.setRenderTarget( null );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t} else {\n\n\t\t\trenderer.setRenderTarget( writeBuffer );\n\t\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\t\tthis.fsQuad.render( renderer );\n\n\t\t}\n\n\t}\n\n}\n\nexport { ShaderPass };\n","import { Pass } from '../postprocessing/Pass.js';\n\nclass MaskPass extends Pass {\n\n\tconstructor( scene, camera ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.clear = true;\n\t\tthis.needsSwap = false;\n\n\t\tthis.inverse = false;\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst context = renderer.getContext();\n\t\tconst state = renderer.state;\n\n\t\t// don't update color or depth\n\n\t\tstate.buffers.color.setMask( false );\n\t\tstate.buffers.depth.setMask( false );\n\n\t\t// lock buffers\n\n\t\tstate.buffers.color.setLocked( true );\n\t\tstate.buffers.depth.setLocked( true );\n\n\t\t// set up stencil\n\n\t\tlet writeValue, clearValue;\n\n\t\tif ( this.inverse ) {\n\n\t\t\twriteValue = 0;\n\t\t\tclearValue = 1;\n\n\t\t} else {\n\n\t\t\twriteValue = 1;\n\t\t\tclearValue = 0;\n\n\t\t}\n\n\t\tstate.buffers.stencil.setTest( true );\n\t\tstate.buffers.stencil.setOp( context.REPLACE, context.REPLACE, context.REPLACE );\n\t\tstate.buffers.stencil.setFunc( context.ALWAYS, writeValue, 0xffffffff );\n\t\tstate.buffers.stencil.setClear( clearValue );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t\t// draw into the stencil buffer\n\n\t\trenderer.setRenderTarget( readBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\trenderer.setRenderTarget( writeBuffer );\n\t\tif ( this.clear ) renderer.clear();\n\t\trenderer.render( this.scene, this.camera );\n\n\t\t// unlock color and depth buffer for subsequent rendering\n\n\t\tstate.buffers.color.setLocked( false );\n\t\tstate.buffers.depth.setLocked( false );\n\n\t\t// only render where stencil is set to 1\n\n\t\tstate.buffers.stencil.setLocked( false );\n\t\tstate.buffers.stencil.setFunc( context.EQUAL, 1, 0xffffffff ); // draw if == 1\n\t\tstate.buffers.stencil.setOp( context.KEEP, context.KEEP, context.KEEP );\n\t\tstate.buffers.stencil.setLocked( true );\n\n\t}\n\n}\n\nclass ClearMaskPass extends Pass {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.needsSwap = false;\n\n\t}\n\n\trender( renderer /*, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\trenderer.state.buffers.stencil.setLocked( false );\n\t\trenderer.state.buffers.stencil.setTest( false );\n\n\t}\n\n}\n\nexport { MaskPass, ClearMaskPass };\n","import {\n\tBufferGeometry,\n\tClock,\n\tFloat32BufferAttribute,\n\tLinearFilter,\n\tMesh,\n\tOrthographicCamera,\n\tRGBAFormat,\n\tVector2,\n\tWebGLRenderTarget\n} from 'three';\nimport { CopyShader } from '../shaders/CopyShader.js';\nimport { ShaderPass } from '../postprocessing/ShaderPass.js';\nimport { MaskPass } from '../postprocessing/MaskPass.js';\nimport { ClearMaskPass } from '../postprocessing/MaskPass.js';\n\nclass EffectComposer {\n\n\tconstructor( renderer, renderTarget ) {\n\n\t\tthis.renderer = renderer;\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst parameters = {\n\t\t\t\tminFilter: LinearFilter,\n\t\t\t\tmagFilter: LinearFilter,\n\t\t\t\tformat: RGBAFormat\n\t\t\t};\n\n\t\t\tconst size = renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = new WebGLRenderTarget( this._width * this._pixelRatio, this._height * this._pixelRatio, parameters );\n\t\t\trenderTarget.texture.name = 'EffectComposer.rt1';\n\n\t\t} else {\n\n\t\t\tthis._pixelRatio = 1;\n\t\t\tthis._width = renderTarget.width;\n\t\t\tthis._height = renderTarget.height;\n\n\t\t}\n\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\t\tthis.renderTarget2.texture.name = 'EffectComposer.rt2';\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t\tthis.renderToScreen = true;\n\n\t\tthis.passes = [];\n\n\t\t// dependencies\n\n\t\tif ( CopyShader === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on CopyShader' );\n\n\t\t}\n\n\t\tif ( ShaderPass === undefined ) {\n\n\t\t\tconsole.error( 'THREE.EffectComposer relies on ShaderPass' );\n\n\t\t}\n\n\t\tthis.copyPass = new ShaderPass( CopyShader );\n\n\t\tthis.clock = new Clock();\n\n\t}\n\n\tswapBuffers() {\n\n\t\tconst tmp = this.readBuffer;\n\t\tthis.readBuffer = this.writeBuffer;\n\t\tthis.writeBuffer = tmp;\n\n\t}\n\n\taddPass( pass ) {\n\n\t\tthis.passes.push( pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tinsertPass( pass, index ) {\n\n\t\tthis.passes.splice( index, 0, pass );\n\t\tpass.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t}\n\n\tremovePass( pass ) {\n\n\t\tconst index = this.passes.indexOf( pass );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tthis.passes.splice( index, 1 );\n\n\t\t}\n\n\t}\n\n\tisLastEnabledPass( passIndex ) {\n\n\t\tfor ( let i = passIndex + 1; i < this.passes.length; i ++ ) {\n\n\t\t\tif ( this.passes[ i ].enabled ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\trender( deltaTime ) {\n\n\t\t// deltaTime value is in seconds\n\n\t\tif ( deltaTime === undefined ) {\n\n\t\t\tdeltaTime = this.clock.getDelta();\n\n\t\t}\n\n\t\tconst currentRenderTarget = this.renderer.getRenderTarget();\n\n\t\tlet maskActive = false;\n\n\t\tfor ( let i = 0, il = this.passes.length; i < il; i ++ ) {\n\n\t\t\tconst pass = this.passes[ i ];\n\n\t\t\tif ( pass.enabled === false ) continue;\n\n\t\t\tpass.renderToScreen = ( this.renderToScreen && this.isLastEnabledPass( i ) );\n\t\t\tpass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime, maskActive );\n\n\t\t\tif ( pass.needsSwap ) {\n\n\t\t\t\tif ( maskActive ) {\n\n\t\t\t\t\tconst context = this.renderer.getContext();\n\t\t\t\t\tconst stencil = this.renderer.state.buffers.stencil;\n\n\t\t\t\t\t//context.stencilFunc( context.NOTEQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.NOTEQUAL, 1, 0xffffffff );\n\n\t\t\t\t\tthis.copyPass.render( this.renderer, this.writeBuffer, this.readBuffer, deltaTime );\n\n\t\t\t\t\t//context.stencilFunc( context.EQUAL, 1, 0xffffffff );\n\t\t\t\t\tstencil.setFunc( context.EQUAL, 1, 0xffffffff );\n\n\t\t\t\t}\n\n\t\t\t\tthis.swapBuffers();\n\n\t\t\t}\n\n\t\t\tif ( MaskPass !== undefined ) {\n\n\t\t\t\tif ( pass instanceof MaskPass ) {\n\n\t\t\t\t\tmaskActive = true;\n\n\t\t\t\t} else if ( pass instanceof ClearMaskPass ) {\n\n\t\t\t\t\tmaskActive = false;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.renderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\treset( renderTarget ) {\n\n\t\tif ( renderTarget === undefined ) {\n\n\t\t\tconst size = this.renderer.getSize( new Vector2() );\n\t\t\tthis._pixelRatio = this.renderer.getPixelRatio();\n\t\t\tthis._width = size.width;\n\t\t\tthis._height = size.height;\n\n\t\t\trenderTarget = this.renderTarget1.clone();\n\t\t\trenderTarget.setSize( this._width * this._pixelRatio, this._height * this._pixelRatio );\n\n\t\t}\n\n\t\tthis.renderTarget1.dispose();\n\t\tthis.renderTarget2.dispose();\n\t\tthis.renderTarget1 = renderTarget;\n\t\tthis.renderTarget2 = renderTarget.clone();\n\n\t\tthis.writeBuffer = this.renderTarget1;\n\t\tthis.readBuffer = this.renderTarget2;\n\n\t}\n\n\tsetSize( width, height ) {\n\n\t\tthis._width = width;\n\t\tthis._height = height;\n\n\t\tconst effectiveWidth = this._width * this._pixelRatio;\n\t\tconst effectiveHeight = this._height * this._pixelRatio;\n\n\t\tthis.renderTarget1.setSize( effectiveWidth, effectiveHeight );\n\t\tthis.renderTarget2.setSize( effectiveWidth, effectiveHeight );\n\n\t\tfor ( let i = 0; i < this.passes.length; i ++ ) {\n\n\t\t\tthis.passes[ i ].setSize( effectiveWidth, effectiveHeight );\n\n\t\t}\n\n\t}\n\n\tsetPixelRatio( pixelRatio ) {\n\n\t\tthis._pixelRatio = pixelRatio;\n\n\t\tthis.setSize( this._width, this._height );\n\n\t}\n\n}\n\n\nclass Pass {\n\n\tconstructor() {\n\n\t\t// if set to true, the pass is processed by the composer\n\t\tthis.enabled = true;\n\n\t\t// if set to true, the pass indicates to swap read and write buffer after rendering\n\t\tthis.needsSwap = true;\n\n\t\t// if set to true, the pass clears its buffer before rendering\n\t\tthis.clear = false;\n\n\t\t// if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\t\tthis.renderToScreen = false;\n\n\t}\n\n\tsetSize( /* width, height */ ) {}\n\n\trender( /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */ ) {\n\n\t\tconsole.error( 'THREE.Pass: .render() must be implemented in derived pass.' );\n\n\t}\n\n}\n\n// Helper for passes that need to fill the viewport with a single quad.\n\nconst _camera = new OrthographicCamera( - 1, 1, 1, - 1, 0, 1 );\n\n// https://github.com/mrdoob/three.js/pull/21358\n\nconst _geometry = new BufferGeometry();\n_geometry.setAttribute( 'position', new Float32BufferAttribute( [ - 1, 3, 0, - 1, - 1, 0, 3, - 1, 0 ], 3 ) );\n_geometry.setAttribute( 'uv', new Float32BufferAttribute( [ 0, 2, 0, 0, 2, 0 ], 2 ) );\n\nclass FullScreenQuad {\n\n\tconstructor( material ) {\n\n\t\tthis._mesh = new Mesh( _geometry, material );\n\n\t}\n\n\tdispose() {\n\n\t\tthis._mesh.geometry.dispose();\n\n\t}\n\n\trender( renderer ) {\n\n\t\trenderer.render( this._mesh, _camera );\n\n\t}\n\n\tget material() {\n\n\t\treturn this._mesh.material;\n\n\t}\n\n\tset material( value ) {\n\n\t\tthis._mesh.material = value;\n\n\t}\n\n}\n\nexport { EffectComposer, Pass, FullScreenQuad };\n","import {\n\tColor\n} from 'three';\nimport { Pass } from '../postprocessing/Pass.js';\n\nclass RenderPass extends Pass {\n\n\tconstructor( scene, camera, overrideMaterial, clearColor, clearAlpha ) {\n\n\t\tsuper();\n\n\t\tthis.scene = scene;\n\t\tthis.camera = camera;\n\n\t\tthis.overrideMaterial = overrideMaterial;\n\n\t\tthis.clearColor = clearColor;\n\t\tthis.clearAlpha = ( clearAlpha !== undefined ) ? clearAlpha : 0;\n\n\t\tthis.clear = true;\n\t\tthis.clearDepth = false;\n\t\tthis.needsSwap = false;\n\t\tthis._oldClearColor = new Color();\n\n\t}\n\n\trender( renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */ ) {\n\n\t\tconst oldAutoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tlet oldClearAlpha, oldOverrideMaterial;\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\toldOverrideMaterial = this.scene.overrideMaterial;\n\n\t\t\tthis.scene.overrideMaterial = this.overrideMaterial;\n\n\t\t}\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.getClearColor( this._oldClearColor );\n\t\t\toldClearAlpha = renderer.getClearAlpha();\n\n\t\t\trenderer.setClearColor( this.clearColor, this.clearAlpha );\n\n\t\t}\n\n\t\tif ( this.clearDepth ) {\n\n\t\t\trenderer.clearDepth();\n\n\t\t}\n\n\t\trenderer.setRenderTarget( this.renderToScreen ? null : readBuffer );\n\n\t\t// TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n\t\tif ( this.clear ) renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\t\trenderer.render( this.scene, this.camera );\n\n\t\tif ( this.clearColor ) {\n\n\t\t\trenderer.setClearColor( this._oldClearColor, oldClearAlpha );\n\n\t\t}\n\n\t\tif ( this.overrideMaterial !== undefined ) {\n\n\t\t\tthis.scene.overrideMaterial = oldOverrideMaterial;\n\n\t\t}\n\n\t\trenderer.autoClear = oldAutoClear;\n\n\t}\n\n}\n\nexport { RenderPass };\n","import {\n\tVector2\n} from 'three';\n\n/**\n * NVIDIA FXAA by Timothy Lottes\n * http://timothylottes.blogspot.com/2011/06/fxaa3-source-released.html\n * - WebGL port by @supereggbert\n * http://www.glge.org/demos/fxaa/\n */\n\nconst FXAAShader = {\n\n\tuniforms: {\n\n\t\t'tDiffuse': { value: null },\n\t\t'resolution': { value: new Vector2( 1 / 1024, 1 / 512 ) }\n\n\t},\n\n\tvertexShader: /* glsl */`\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}`,\n\n\tfragmentShader:\n\n\t// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\n\n\t//----------------------------------------------------------------------------------\n\t// File:\t\t\t\tes3-kepler\\FXAA\\assets\\shaders/FXAA_DefaultES.frag\n\t// SDK Version: v3.00\n\t// Email:\t\t\t gameworks@nvidia.com\n\t// Site:\t\t\t\thttp://developer.nvidia.com/\n\t//\n\t// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n\t//\n\t// Redistribution and use in source and binary forms, with or without\n\t// modification, are permitted provided that the following conditions\n\t// are met:\n\t//\t* Redistributions of source code must retain the above copyright\n\t//\t\tnotice, this list of conditions and the following disclaimer.\n\t//\t* Redistributions in binary form must reproduce the above copyright\n\t//\t\tnotice, this list of conditions and the following disclaimer in the\n\t//\t\tdocumentation and/or other materials provided with the distribution.\n\t//\t* Neither the name of NVIDIA CORPORATION nor the names of its\n\t//\t\tcontributors may be used to endorse or promote products derived\n\t//\t\tfrom this software without specific prior written permission.\n\t//\n\t// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS\\'\\' AND ANY\n\t// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n\t// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n\t// PURPOSE ARE DISCLAIMED.\tIN NO EVENT SHALL THE COPYRIGHT OWNER OR\n\t// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n\t// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n\t// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n\t// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n\t// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n\t// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n\t// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\t//\n\t//----------------------------------------------------------------------------------\n\n\t\t/* glsl */`\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tuniform vec2 resolution;\n\n\t\tvarying vec2 vUv;\n\n\t\t#define FXAA_PC 1\n\t\t#define FXAA_GLSL_100 1\n\t\t#define FXAA_QUALITY_PRESET 12\n\n\t\t#define FXAA_GREEN_AS_LUMA 1\n\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_PC_CONSOLE\n\t\t\t\t//\n\t\t\t\t// The console algorithm for PC is included\n\t\t\t\t// for developers targeting really low spec machines.\n\t\t\t\t// Likely better to just run FXAA_PC, and use a really low preset.\n\t\t\t\t//\n\t\t\t\t#define FXAA_PC_CONSOLE 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_GLSL_120\n\t\t\t\t#define FXAA_GLSL_120 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_GLSL_130\n\t\t\t\t#define FXAA_GLSL_130 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_HLSL_3\n\t\t\t\t#define FXAA_HLSL_3 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_HLSL_4\n\t\t\t\t#define FXAA_HLSL_4 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_HLSL_5\n\t\t\t\t#define FXAA_HLSL_5 0\n\t\t#endif\n\t\t/*==========================================================================*/\n\t\t#ifndef FXAA_GREEN_AS_LUMA\n\t\t\t\t//\n\t\t\t\t// For those using non-linear color,\n\t\t\t\t// and either not able to get luma in alpha, or not wanting to,\n\t\t\t\t// this enables FXAA to run using green as a proxy for luma.\n\t\t\t\t// So with this enabled, no need to pack luma in alpha.\n\t\t\t\t//\n\t\t\t\t// This will turn off AA on anything which lacks some amount of green.\n\t\t\t\t// Pure red and blue or combination of only R and B, will get no AA.\n\t\t\t\t//\n\t\t\t\t// Might want to lower the settings for both,\n\t\t\t\t//\t\tfxaaConsoleEdgeThresholdMin\n\t\t\t\t//\t\tfxaaQualityEdgeThresholdMin\n\t\t\t\t// In order to insure AA does not get turned off on colors\n\t\t\t\t// which contain a minor amount of green.\n\t\t\t\t//\n\t\t\t\t// 1 = On.\n\t\t\t\t// 0 = Off.\n\t\t\t\t//\n\t\t\t\t#define FXAA_GREEN_AS_LUMA 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_EARLY_EXIT\n\t\t\t\t//\n\t\t\t\t// Controls algorithm\\'s early exit path.\n\t\t\t\t// On PS3 turning this ON adds 2 cycles to the shader.\n\t\t\t\t// On 360 turning this OFF adds 10ths of a millisecond to the shader.\n\t\t\t\t// Turning this off on console will result in a more blurry image.\n\t\t\t\t// So this defaults to on.\n\t\t\t\t//\n\t\t\t\t// 1 = On.\n\t\t\t\t// 0 = Off.\n\t\t\t\t//\n\t\t\t\t#define FXAA_EARLY_EXIT 1\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_DISCARD\n\t\t\t\t//\n\t\t\t\t// Only valid for PC OpenGL currently.\n\t\t\t\t// Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n\t\t\t\t//\n\t\t\t\t// 1 = Use discard on pixels which don\\'t need AA.\n\t\t\t\t//\t\t For APIs which enable concurrent TEX+ROP from same surface.\n\t\t\t\t// 0 = Return unchanged color on pixels which don\\'t need AA.\n\t\t\t\t//\n\t\t\t\t#define FXAA_DISCARD 0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_FAST_PIXEL_OFFSET\n\t\t\t\t//\n\t\t\t\t// Used for GLSL 120 only.\n\t\t\t\t//\n\t\t\t\t// 1 = GL API supports fast pixel offsets\n\t\t\t\t// 0 = do not use fast pixel offsets\n\t\t\t\t//\n\t\t\t\t#ifdef GL_EXT_gpu_shader4\n\t\t\t\t\t\t#define FXAA_FAST_PIXEL_OFFSET 1\n\t\t\t\t#endif\n\t\t\t\t#ifdef GL_NV_gpu_shader5\n\t\t\t\t\t\t#define FXAA_FAST_PIXEL_OFFSET 1\n\t\t\t\t#endif\n\t\t\t\t#ifdef GL_ARB_gpu_shader5\n\t\t\t\t\t\t#define FXAA_FAST_PIXEL_OFFSET 1\n\t\t\t\t#endif\n\t\t\t\t#ifndef FXAA_FAST_PIXEL_OFFSET\n\t\t\t\t\t\t#define FXAA_FAST_PIXEL_OFFSET 0\n\t\t\t\t#endif\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#ifndef FXAA_GATHER4_ALPHA\n\t\t\t\t//\n\t\t\t\t// 1 = API supports gather4 on alpha channel.\n\t\t\t\t// 0 = API does not support gather4 on alpha channel.\n\t\t\t\t//\n\t\t\t\t#if (FXAA_HLSL_5 == 1)\n\t\t\t\t\t\t#define FXAA_GATHER4_ALPHA 1\n\t\t\t\t#endif\n\t\t\t\t#ifdef GL_ARB_gpu_shader5\n\t\t\t\t\t\t#define FXAA_GATHER4_ALPHA 1\n\t\t\t\t#endif\n\t\t\t\t#ifdef GL_NV_gpu_shader5\n\t\t\t\t\t\t#define FXAA_GATHER4_ALPHA 1\n\t\t\t\t#endif\n\t\t\t\t#ifndef FXAA_GATHER4_ALPHA\n\t\t\t\t\t\t#define FXAA_GATHER4_ALPHA 0\n\t\t\t\t#endif\n\t\t#endif\n\n\n\t\t/*============================================================================\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFXAA QUALITY - TUNING KNOBS\n\t\t------------------------------------------------------------------------------\n\t\tNOTE the other tuning knobs are now in the shader function inputs!\n\t\t============================================================================*/\n\t\t#ifndef FXAA_QUALITY_PRESET\n\t\t\t\t//\n\t\t\t\t// Choose the quality preset.\n\t\t\t\t// This needs to be compiled into the shader as it effects code.\n\t\t\t\t// Best option to include multiple presets is to\n\t\t\t\t// in each shader define the preset, then include this file.\n\t\t\t\t//\n\t\t\t\t// OPTIONS\n\t\t\t\t// -----------------------------------------------------------------------\n\t\t\t\t// 10 to 15 - default medium dither (10=fastest, 15=highest quality)\n\t\t\t\t// 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\n\t\t\t\t// 39\t\t\t - no dither, very expensive\n\t\t\t\t//\n\t\t\t\t// NOTES\n\t\t\t\t// -----------------------------------------------------------------------\n\t\t\t\t// 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\n\t\t\t\t// 13 = about same speed as FXAA 3.9 and better than 12\n\t\t\t\t// 23 = closest to FXAA 3.9 visually and performance wise\n\t\t\t\t//\t_ = the lowest digit is directly related to performance\n\t\t\t\t// _\t= the highest digit is directly related to style\n\t\t\t\t//\n\t\t\t\t#define FXAA_QUALITY_PRESET 12\n\t\t#endif\n\n\n\t\t/*============================================================================\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t FXAA QUALITY - PRESETS\n\n\t\t============================================================================*/\n\n\t\t/*============================================================================\n\t\t\t\t\t\t\t\t\t\t\t\t FXAA QUALITY - MEDIUM DITHER PRESETS\n\t\t============================================================================*/\n\t\t#if (FXAA_QUALITY_PRESET == 10)\n\t\t\t\t#define FXAA_QUALITY_PS 3\n\t\t\t\t#define FXAA_QUALITY_P0 1.5\n\t\t\t\t#define FXAA_QUALITY_P1 3.0\n\t\t\t\t#define FXAA_QUALITY_P2 12.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 11)\n\t\t\t\t#define FXAA_QUALITY_PS 4\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 3.0\n\t\t\t\t#define FXAA_QUALITY_P3 12.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 12)\n\t\t\t\t#define FXAA_QUALITY_PS 5\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 4.0\n\t\t\t\t#define FXAA_QUALITY_P4 12.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 13)\n\t\t\t\t#define FXAA_QUALITY_PS 6\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 4.0\n\t\t\t\t#define FXAA_QUALITY_P5 12.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 14)\n\t\t\t\t#define FXAA_QUALITY_PS 7\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 4.0\n\t\t\t\t#define FXAA_QUALITY_P6 12.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 15)\n\t\t\t\t#define FXAA_QUALITY_PS 8\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 2.0\n\t\t\t\t#define FXAA_QUALITY_P6 4.0\n\t\t\t\t#define FXAA_QUALITY_P7 12.0\n\t\t#endif\n\n\t\t/*============================================================================\n\t\t\t\t\t\t\t\t\t\t\t\t FXAA QUALITY - LOW DITHER PRESETS\n\t\t============================================================================*/\n\t\t#if (FXAA_QUALITY_PRESET == 20)\n\t\t\t\t#define FXAA_QUALITY_PS 3\n\t\t\t\t#define FXAA_QUALITY_P0 1.5\n\t\t\t\t#define FXAA_QUALITY_P1 2.0\n\t\t\t\t#define FXAA_QUALITY_P2 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 21)\n\t\t\t\t#define FXAA_QUALITY_PS 4\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 22)\n\t\t\t\t#define FXAA_QUALITY_PS 5\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 23)\n\t\t\t\t#define FXAA_QUALITY_PS 6\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 24)\n\t\t\t\t#define FXAA_QUALITY_PS 7\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 3.0\n\t\t\t\t#define FXAA_QUALITY_P6 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 25)\n\t\t\t\t#define FXAA_QUALITY_PS 8\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 2.0\n\t\t\t\t#define FXAA_QUALITY_P6 4.0\n\t\t\t\t#define FXAA_QUALITY_P7 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 26)\n\t\t\t\t#define FXAA_QUALITY_PS 9\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 2.0\n\t\t\t\t#define FXAA_QUALITY_P6 2.0\n\t\t\t\t#define FXAA_QUALITY_P7 4.0\n\t\t\t\t#define FXAA_QUALITY_P8 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 27)\n\t\t\t\t#define FXAA_QUALITY_PS 10\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 2.0\n\t\t\t\t#define FXAA_QUALITY_P6 2.0\n\t\t\t\t#define FXAA_QUALITY_P7 2.0\n\t\t\t\t#define FXAA_QUALITY_P8 4.0\n\t\t\t\t#define FXAA_QUALITY_P9 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 28)\n\t\t\t\t#define FXAA_QUALITY_PS 11\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 2.0\n\t\t\t\t#define FXAA_QUALITY_P6 2.0\n\t\t\t\t#define FXAA_QUALITY_P7 2.0\n\t\t\t\t#define FXAA_QUALITY_P8 2.0\n\t\t\t\t#define FXAA_QUALITY_P9 4.0\n\t\t\t\t#define FXAA_QUALITY_P10 8.0\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_QUALITY_PRESET == 29)\n\t\t\t\t#define FXAA_QUALITY_PS 12\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.5\n\t\t\t\t#define FXAA_QUALITY_P2 2.0\n\t\t\t\t#define FXAA_QUALITY_P3 2.0\n\t\t\t\t#define FXAA_QUALITY_P4 2.0\n\t\t\t\t#define FXAA_QUALITY_P5 2.0\n\t\t\t\t#define FXAA_QUALITY_P6 2.0\n\t\t\t\t#define FXAA_QUALITY_P7 2.0\n\t\t\t\t#define FXAA_QUALITY_P8 2.0\n\t\t\t\t#define FXAA_QUALITY_P9 2.0\n\t\t\t\t#define FXAA_QUALITY_P10 4.0\n\t\t\t\t#define FXAA_QUALITY_P11 8.0\n\t\t#endif\n\n\t\t/*============================================================================\n\t\t\t\t\t\t\t\t\t\t\t\t FXAA QUALITY - EXTREME QUALITY\n\t\t============================================================================*/\n\t\t#if (FXAA_QUALITY_PRESET == 39)\n\t\t\t\t#define FXAA_QUALITY_PS 12\n\t\t\t\t#define FXAA_QUALITY_P0 1.0\n\t\t\t\t#define FXAA_QUALITY_P1 1.0\n\t\t\t\t#define FXAA_QUALITY_P2 1.0\n\t\t\t\t#define FXAA_QUALITY_P3 1.0\n\t\t\t\t#define FXAA_QUALITY_P4 1.0\n\t\t\t\t#define FXAA_QUALITY_P5 1.5\n\t\t\t\t#define FXAA_QUALITY_P6 2.0\n\t\t\t\t#define FXAA_QUALITY_P7 2.0\n\t\t\t\t#define FXAA_QUALITY_P8 2.0\n\t\t\t\t#define FXAA_QUALITY_P9 2.0\n\t\t\t\t#define FXAA_QUALITY_P10 4.0\n\t\t\t\t#define FXAA_QUALITY_P11 8.0\n\t\t#endif\n\n\n\n\t\t/*============================================================================\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAPI PORTING\n\n\t\t============================================================================*/\n\t\t#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\n\t\t\t\t#define FxaaBool bool\n\t\t\t\t#define FxaaDiscard discard\n\t\t\t\t#define FxaaFloat float\n\t\t\t\t#define FxaaFloat2 vec2\n\t\t\t\t#define FxaaFloat3 vec3\n\t\t\t\t#define FxaaFloat4 vec4\n\t\t\t\t#define FxaaHalf float\n\t\t\t\t#define FxaaHalf2 vec2\n\t\t\t\t#define FxaaHalf3 vec3\n\t\t\t\t#define FxaaHalf4 vec4\n\t\t\t\t#define FxaaInt2 ivec2\n\t\t\t\t#define FxaaSat(x) clamp(x, 0.0, 1.0)\n\t\t\t\t#define FxaaTex sampler2D\n\t\t#else\n\t\t\t\t#define FxaaBool bool\n\t\t\t\t#define FxaaDiscard clip(-1)\n\t\t\t\t#define FxaaFloat float\n\t\t\t\t#define FxaaFloat2 float2\n\t\t\t\t#define FxaaFloat3 float3\n\t\t\t\t#define FxaaFloat4 float4\n\t\t\t\t#define FxaaHalf half\n\t\t\t\t#define FxaaHalf2 half2\n\t\t\t\t#define FxaaHalf3 half3\n\t\t\t\t#define FxaaHalf4 half4\n\t\t\t\t#define FxaaSat(x) saturate(x)\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_GLSL_100 == 1)\n\t\t\t#define FxaaTexTop(t, p) texture2D(t, p, 0.0)\n\t\t\t#define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_GLSL_120 == 1)\n\t\t\t\t// Requires,\n\t\t\t\t//\t#version 120\n\t\t\t\t// And at least,\n\t\t\t\t//\t#extension GL_EXT_gpu_shader4 : enable\n\t\t\t\t//\t(or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\n\t\t\t\t#define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\n\t\t\t\t#if (FXAA_FAST_PIXEL_OFFSET == 1)\n\t\t\t\t\t\t#define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\n\t\t\t\t#else\n\t\t\t\t\t\t#define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\n\t\t\t\t#endif\n\t\t\t\t#if (FXAA_GATHER4_ALPHA == 1)\n\t\t\t\t\t\t// use #extension GL_ARB_gpu_shader5 : enable\n\t\t\t\t\t\t#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n\t\t\t\t\t\t#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n\t\t\t\t\t\t#define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n\t\t\t\t\t\t#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n\t\t\t\t#endif\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_GLSL_130 == 1)\n\t\t\t\t// Requires \"#version 130\" or better\n\t\t\t\t#define FxaaTexTop(t, p) textureLod(t, p, 0.0)\n\t\t\t\t#define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\n\t\t\t\t#if (FXAA_GATHER4_ALPHA == 1)\n\t\t\t\t\t\t// use #extension GL_ARB_gpu_shader5 : enable\n\t\t\t\t\t\t#define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n\t\t\t\t\t\t#define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n\t\t\t\t\t\t#define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n\t\t\t\t\t\t#define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n\t\t\t\t#endif\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_HLSL_3 == 1)\n\t\t\t\t#define FxaaInt2 float2\n\t\t\t\t#define FxaaTex sampler2D\n\t\t\t\t#define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\n\t\t\t\t#define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_HLSL_4 == 1)\n\t\t\t\t#define FxaaInt2 int2\n\t\t\t\tstruct FxaaTex { SamplerState smpl; Texture2D tex; };\n\t\t\t\t#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\n\t\t\t\t#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\n\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t#if (FXAA_HLSL_5 == 1)\n\t\t\t\t#define FxaaInt2 int2\n\t\t\t\tstruct FxaaTex { SamplerState smpl; Texture2D tex; };\n\t\t\t\t#define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\n\t\t\t\t#define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\n\t\t\t\t#define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\n\t\t\t\t#define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\n\t\t\t\t#define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\n\t\t\t\t#define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\n\t\t#endif\n\n\n\t\t/*============================================================================\n\t\t\t\t\t\t\t\t\t\t\t GREEN AS LUMA OPTION SUPPORT FUNCTION\n\t\t============================================================================*/\n\t\t#if (FXAA_GREEN_AS_LUMA == 0)\n\t\t\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\n\t\t#else\n\t\t\t\tFxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n\t\t#endif\n\n\n\n\n\t\t/*============================================================================\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t FXAA3 QUALITY - PC\n\n\t\t============================================================================*/\n\t\t#if (FXAA_PC == 1)\n\t\t/*--------------------------------------------------------------------------*/\n\t\tFxaaFloat4 FxaaPixelShader(\n\t\t\t\t//\n\t\t\t\t// Use noperspective interpolation here (turn off perspective interpolation).\n\t\t\t\t// {xy} = center of pixel\n\t\t\t\tFxaaFloat2 pos,\n\t\t\t\t//\n\t\t\t\t// Used only for FXAA Console, and not used on the 360 version.\n\t\t\t\t// Use noperspective interpolation here (turn off perspective interpolation).\n\t\t\t\t// {xy_} = upper left of pixel\n\t\t\t\t// {_zw} = lower right of pixel\n\t\t\t\tFxaaFloat4 fxaaConsolePosPos,\n\t\t\t\t//\n\t\t\t\t// Input color texture.\n\t\t\t\t// {rgb_} = color in linear or perceptual color space\n\t\t\t\t// if (FXAA_GREEN_AS_LUMA == 0)\n\t\t\t\t//\t\t {__a} = luma in perceptual color space (not linear)\n\t\t\t\tFxaaTex tex,\n\t\t\t\t//\n\t\t\t\t// Only used on the optimized 360 version of FXAA Console.\n\t\t\t\t// For everything but 360, just use the same input here as for \"tex\".\n\t\t\t\t// For 360, same texture, just alias with a 2nd sampler.\n\t\t\t\t// This sampler needs to have an exponent bias of -1.\n\t\t\t\tFxaaTex fxaaConsole360TexExpBiasNegOne,\n\t\t\t\t//\n\t\t\t\t// Only used on the optimized 360 version of FXAA Console.\n\t\t\t\t// For everything but 360, just use the same input here as for \"tex\".\n\t\t\t\t// For 360, same texture, just alias with a 3nd sampler.\n\t\t\t\t// This sampler needs to have an exponent bias of -2.\n\t\t\t\tFxaaTex fxaaConsole360TexExpBiasNegTwo,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Quality.\n\t\t\t\t// This must be from a constant/uniform.\n\t\t\t\t// {x_} = 1.0/screenWidthInPixels\n\t\t\t\t// {_y} = 1.0/screenHeightInPixels\n\t\t\t\tFxaaFloat2 fxaaQualityRcpFrame,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Console.\n\t\t\t\t// This must be from a constant/uniform.\n\t\t\t\t// This effects sub-pixel AA quality and inversely sharpness.\n\t\t\t\t//\t Where N ranges between,\n\t\t\t\t//\t\t N = 0.50 (default)\n\t\t\t\t//\t\t N = 0.33 (sharper)\n\t\t\t\t// {x__} = -N/screenWidthInPixels\n\t\t\t\t// {_y_} = -N/screenHeightInPixels\n\t\t\t\t// {_z_} =\tN/screenWidthInPixels\n\t\t\t\t// {__w} =\tN/screenHeightInPixels\n\t\t\t\tFxaaFloat4 fxaaConsoleRcpFrameOpt,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Console.\n\t\t\t\t// Not used on 360, but used on PS3 and PC.\n\t\t\t\t// This must be from a constant/uniform.\n\t\t\t\t// {x__} = -2.0/screenWidthInPixels\n\t\t\t\t// {_y_} = -2.0/screenHeightInPixels\n\t\t\t\t// {_z_} =\t2.0/screenWidthInPixels\n\t\t\t\t// {__w} =\t2.0/screenHeightInPixels\n\t\t\t\tFxaaFloat4 fxaaConsoleRcpFrameOpt2,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Console.\n\t\t\t\t// Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\n\t\t\t\t// This must be from a constant/uniform.\n\t\t\t\t// {x__} =\t8.0/screenWidthInPixels\n\t\t\t\t// {_y_} =\t8.0/screenHeightInPixels\n\t\t\t\t// {_z_} = -4.0/screenWidthInPixels\n\t\t\t\t// {__w} = -4.0/screenHeightInPixels\n\t\t\t\tFxaaFloat4 fxaaConsole360RcpFrameOpt2,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Quality.\n\t\t\t\t// This used to be the FXAA_QUALITY_SUBPIX define.\n\t\t\t\t// It is here now to allow easier tuning.\n\t\t\t\t// Choose the amount of sub-pixel aliasing removal.\n\t\t\t\t// This can effect sharpness.\n\t\t\t\t//\t 1.00 - upper limit (softer)\n\t\t\t\t//\t 0.75 - default amount of filtering\n\t\t\t\t//\t 0.50 - lower limit (sharper, less sub-pixel aliasing removal)\n\t\t\t\t//\t 0.25 - almost off\n\t\t\t\t//\t 0.00 - completely off\n\t\t\t\tFxaaFloat fxaaQualitySubpix,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Quality.\n\t\t\t\t// This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\n\t\t\t\t// It is here now to allow easier tuning.\n\t\t\t\t// The minimum amount of local contrast required to apply algorithm.\n\t\t\t\t//\t 0.333 - too little (faster)\n\t\t\t\t//\t 0.250 - low quality\n\t\t\t\t//\t 0.166 - default\n\t\t\t\t//\t 0.125 - high quality\n\t\t\t\t//\t 0.063 - overkill (slower)\n\t\t\t\tFxaaFloat fxaaQualityEdgeThreshold,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Quality.\n\t\t\t\t// This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\n\t\t\t\t// It is here now to allow easier tuning.\n\t\t\t\t// Trims the algorithm from processing darks.\n\t\t\t\t//\t 0.0833 - upper limit (default, the start of visible unfiltered edges)\n\t\t\t\t//\t 0.0625 - high quality (faster)\n\t\t\t\t//\t 0.0312 - visible limit (slower)\n\t\t\t\t// Special notes when using FXAA_GREEN_AS_LUMA,\n\t\t\t\t//\t Likely want to set this to zero.\n\t\t\t\t//\t As colors that are mostly not-green\n\t\t\t\t//\t will appear very dark in the green channel!\n\t\t\t\t//\t Tune by looking at mostly non-green content,\n\t\t\t\t//\t then start at zero and increase until aliasing is a problem.\n\t\t\t\tFxaaFloat fxaaQualityEdgeThresholdMin,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Console.\n\t\t\t\t// This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\n\t\t\t\t// It is here now to allow easier tuning.\n\t\t\t\t// This does not effect PS3, as this needs to be compiled in.\n\t\t\t\t//\t Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\n\t\t\t\t//\t Due to the PS3 being ALU bound,\n\t\t\t\t//\t there are only three safe values here: 2 and 4 and 8.\n\t\t\t\t//\t These options use the shaders ability to a free *|/ by 2|4|8.\n\t\t\t\t// For all other platforms can be a non-power of two.\n\t\t\t\t//\t 8.0 is sharper (default!!!)\n\t\t\t\t//\t 4.0 is softer\n\t\t\t\t//\t 2.0 is really soft (good only for vector graphics inputs)\n\t\t\t\tFxaaFloat fxaaConsoleEdgeSharpness,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Console.\n\t\t\t\t// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\n\t\t\t\t// It is here now to allow easier tuning.\n\t\t\t\t// This does not effect PS3, as this needs to be compiled in.\n\t\t\t\t//\t Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\n\t\t\t\t//\t Due to the PS3 being ALU bound,\n\t\t\t\t//\t there are only two safe values here: 1/4 and 1/8.\n\t\t\t\t//\t These options use the shaders ability to a free *|/ by 2|4|8.\n\t\t\t\t// The console setting has a different mapping than the quality setting.\n\t\t\t\t// Other platforms can use other values.\n\t\t\t\t//\t 0.125 leaves less aliasing, but is softer (default!!!)\n\t\t\t\t//\t 0.25 leaves more aliasing, and is sharper\n\t\t\t\tFxaaFloat fxaaConsoleEdgeThreshold,\n\t\t\t\t//\n\t\t\t\t// Only used on FXAA Console.\n\t\t\t\t// This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\n\t\t\t\t// It is here now to allow easier tuning.\n\t\t\t\t// Trims the algorithm from processing darks.\n\t\t\t\t// The console setting has a different mapping than the quality setting.\n\t\t\t\t// This only applies when FXAA_EARLY_EXIT is 1.\n\t\t\t\t// This does not apply to PS3,\n\t\t\t\t// PS3 was simplified to avoid more shader instructions.\n\t\t\t\t//\t 0.06 - faster but more aliasing in darks\n\t\t\t\t//\t 0.05 - default\n\t\t\t\t//\t 0.04 - slower and less aliasing in darks\n\t\t\t\t// Special notes when using FXAA_GREEN_AS_LUMA,\n\t\t\t\t//\t Likely want to set this to zero.\n\t\t\t\t//\t As colors that are mostly not-green\n\t\t\t\t//\t will appear very dark in the green channel!\n\t\t\t\t//\t Tune by looking at mostly non-green content,\n\t\t\t\t//\t then start at zero and increase until aliasing is a problem.\n\t\t\t\tFxaaFloat fxaaConsoleEdgeThresholdMin,\n\t\t\t\t//\n\t\t\t\t// Extra constants for 360 FXAA Console only.\n\t\t\t\t// Use zeros or anything else for other platforms.\n\t\t\t\t// These must be in physical constant registers and NOT immediates.\n\t\t\t\t// Immediates will result in compiler un-optimizing.\n\t\t\t\t// {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\n\t\t\t\tFxaaFloat4 fxaaConsole360ConstDir\n\t\t) {\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat2 posM;\n\t\t\t\tposM.x = pos.x;\n\t\t\t\tposM.y = pos.y;\n\t\t\t\t#if (FXAA_GATHER4_ALPHA == 1)\n\t\t\t\t\t\t#if (FXAA_DISCARD == 0)\n\t\t\t\t\t\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\t\t\t\t\t\t#if (FXAA_GREEN_AS_LUMA == 0)\n\t\t\t\t\t\t\t\t\t\t#define lumaM rgbyM.w\n\t\t\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\t\t\t#define lumaM rgbyM.y\n\t\t\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#if (FXAA_GREEN_AS_LUMA == 0)\n\t\t\t\t\t\t\t\tFxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\n\t\t\t\t\t\t\t\tFxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\tFxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\n\t\t\t\t\t\t\t\tFxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#if (FXAA_DISCARD == 1)\n\t\t\t\t\t\t\t\t#define lumaM luma4A.w\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#define lumaE luma4A.z\n\t\t\t\t\t\t#define lumaS luma4A.x\n\t\t\t\t\t\t#define lumaSE luma4A.y\n\t\t\t\t\t\t#define lumaNW luma4B.w\n\t\t\t\t\t\t#define lumaN luma4B.z\n\t\t\t\t\t\t#define lumaW luma4B.x\n\t\t\t\t#else\n\t\t\t\t\t\tFxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n\t\t\t\t\t\t#if (FXAA_GREEN_AS_LUMA == 0)\n\t\t\t\t\t\t\t\t#define lumaM rgbyM.w\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\t#define lumaM rgbyM.y\n\t\t\t\t\t\t#endif\n\t\t\t\t\t\t#if (FXAA_GLSL_100 == 1)\n\t\t\t\t\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tFxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t#endif\n\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat maxSM = max(lumaS, lumaM);\n\t\t\t\tFxaaFloat minSM = min(lumaS, lumaM);\n\t\t\t\tFxaaFloat maxESM = max(lumaE, maxSM);\n\t\t\t\tFxaaFloat minESM = min(lumaE, minSM);\n\t\t\t\tFxaaFloat maxWN = max(lumaN, lumaW);\n\t\t\t\tFxaaFloat minWN = min(lumaN, lumaW);\n\t\t\t\tFxaaFloat rangeMax = max(maxWN, maxESM);\n\t\t\t\tFxaaFloat rangeMin = min(minWN, minESM);\n\t\t\t\tFxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n\t\t\t\tFxaaFloat range = rangeMax - rangeMin;\n\t\t\t\tFxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n\t\t\t\tFxaaBool earlyExit = range < rangeMaxClamped;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tif(earlyExit)\n\t\t\t\t\t\t#if (FXAA_DISCARD == 1)\n\t\t\t\t\t\t\t\tFxaaDiscard;\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\t\treturn rgbyM;\n\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t#if (FXAA_GATHER4_ALPHA == 0)\n\t\t\t\t\t\t#if (FXAA_GLSL_100 == 1)\n\t\t\t\t\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t#else\n\t\t\t\t\t\t\tFxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\t#endif\n\t\t\t\t#else\n\t\t\t\t\t\tFxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\n\t\t\t\t\t\tFxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat lumaNS = lumaN + lumaS;\n\t\t\t\tFxaaFloat lumaWE = lumaW + lumaE;\n\t\t\t\tFxaaFloat subpixRcpRange = 1.0/range;\n\t\t\t\tFxaaFloat subpixNSWE = lumaNS + lumaWE;\n\t\t\t\tFxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n\t\t\t\tFxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat lumaNESE = lumaNE + lumaSE;\n\t\t\t\tFxaaFloat lumaNWNE = lumaNW + lumaNE;\n\t\t\t\tFxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n\t\t\t\tFxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat lumaNWSW = lumaNW + lumaSW;\n\t\t\t\tFxaaFloat lumaSWSE = lumaSW + lumaSE;\n\t\t\t\tFxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n\t\t\t\tFxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n\t\t\t\tFxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n\t\t\t\tFxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n\t\t\t\tFxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n\t\t\t\tFxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n\t\t\t\tFxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n\t\t\t\tFxaaBool horzSpan = edgeHorz >= edgeVert;\n\t\t\t\tFxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tif(!horzSpan) lumaN = lumaW;\n\t\t\t\tif(!horzSpan) lumaS = lumaE;\n\t\t\t\tif(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n\t\t\t\tFxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat gradientN = lumaN - lumaM;\n\t\t\t\tFxaaFloat gradientS = lumaS - lumaM;\n\t\t\t\tFxaaFloat lumaNN = lumaN + lumaM;\n\t\t\t\tFxaaFloat lumaSS = lumaS + lumaM;\n\t\t\t\tFxaaBool pairN = abs(gradientN) >= abs(gradientS);\n\t\t\t\tFxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n\t\t\t\tif(pairN) lengthSign = -lengthSign;\n\t\t\t\tFxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat2 posB;\n\t\t\t\tposB.x = posM.x;\n\t\t\t\tposB.y = posM.y;\n\t\t\t\tFxaaFloat2 offNP;\n\t\t\t\toffNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n\t\t\t\toffNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n\t\t\t\tif(!horzSpan) posB.x += lengthSign * 0.5;\n\t\t\t\tif( horzSpan) posB.y += lengthSign * 0.5;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat2 posN;\n\t\t\t\tposN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n\t\t\t\tposN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n\t\t\t\tFxaaFloat2 posP;\n\t\t\t\tposP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n\t\t\t\tposP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n\t\t\t\tFxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n\t\t\t\tFxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n\t\t\t\tFxaaFloat subpixE = subpixC * subpixC;\n\t\t\t\tFxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tif(!pairN) lumaNN = lumaSS;\n\t\t\t\tFxaaFloat gradientScaled = gradient * 1.0/4.0;\n\t\t\t\tFxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n\t\t\t\tFxaaFloat subpixF = subpixD * subpixE;\n\t\t\t\tFxaaBool lumaMLTZero = lumaMM < 0.0;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tlumaEndN -= lumaNN * 0.5;\n\t\t\t\tlumaEndP -= lumaNN * 0.5;\n\t\t\t\tFxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\tFxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n\t\t\t\tFxaaBool doneNP = (!doneN) || (!doneP);\n\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tif(doneNP) {\n\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 3)\n\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 4)\n\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 5)\n\t\t\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n\t\t\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 6)\n\t\t\t\t\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 7)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t#if (FXAA_QUALITY_PS > 8)\n\t\t\t\tif(doneNP) {\n\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 9)\n\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 10)\n\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 11)\n\t\t\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n\t\t\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t\t\t#if (FXAA_QUALITY_PS > 12)\n\t\t\t\t\t\t\t\t\t\t\t\tif(doneNP) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneN = abs(lumaEndN) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneP = abs(lumaEndP) >= gradientScaled;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdoneNP = (!doneN) || (!doneP);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t}\n\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t\t\t}\n\t\t\t\t\t\t#endif\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\t}\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat dstN = posM.x - posN.x;\n\t\t\t\tFxaaFloat dstP = posP.x - posM.x;\n\t\t\t\tif(!horzSpan) dstN = posM.y - posN.y;\n\t\t\t\tif(!horzSpan) dstP = posP.y - posM.y;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n\t\t\t\tFxaaFloat spanLength = (dstP + dstN);\n\t\t\t\tFxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n\t\t\t\tFxaaFloat spanLengthRcp = 1.0/spanLength;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaBool directionN = dstN < dstP;\n\t\t\t\tFxaaFloat dst = min(dstN, dstP);\n\t\t\t\tFxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n\t\t\t\tFxaaFloat subpixG = subpixF * subpixF;\n\t\t\t\tFxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n\t\t\t\tFxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n\t\t/*--------------------------------------------------------------------------*/\n\t\t\t\tFxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n\t\t\t\tFxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n\t\t\t\tif(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n\t\t\t\tif( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n\t\t\t\t#if (FXAA_DISCARD == 1)\n\t\t\t\t\t\treturn FxaaTexTop(tex, posM);\n\t\t\t\t#else\n\t\t\t\t\t\treturn FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\n\t\t\t\t#endif\n\t\t}\n\t\t/*==========================================================================*/\n\t\t#endif\n\n\t\tvoid main() {\n\t\t\tgl_FragColor = FxaaPixelShader(\n\t\t\t\tvUv,\n\t\t\t\tvec4(0.0),\n\t\t\t\ttDiffuse,\n\t\t\t\ttDiffuse,\n\t\t\t\ttDiffuse,\n\t\t\t\tresolution,\n\t\t\t\tvec4(0.0),\n\t\t\t\tvec4(0.0),\n\t\t\t\tvec4(0.0),\n\t\t\t\t0.75,\n\t\t\t\t0.166,\n\t\t\t\t0.0833,\n\t\t\t\t0.0,\n\t\t\t\t0.0,\n\t\t\t\t0.0,\n\t\t\t\tvec4(0.0)\n\t\t\t);\n\n\t\t\t// TODO avoid querying texture twice for same texel\n\t\t\tgl_FragColor.a = texture2D(tDiffuse, vUv).a;\n\t\t}`\n\n};\n\nexport { FXAAShader };\n","import { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer.js\";\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass.js\";\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass.js\";\nimport { FXAAShader } from \"three/examples/jsm/shaders/FXAAShader.js\";\nimport { SkinViewer } from \"./viewer.js\";\nexport class FXAASkinViewer extends SkinViewer {\n    /**\n     * Note: FXAA doesn't work well with transparent backgrounds.\n     * It's recommended to use an opaque background and set `options.alpha` to false.\n     */\n    constructor(options) {\n        super(options);\n        this.composer = new EffectComposer(this.renderer);\n        this.renderPass = new RenderPass(this.scene, this.camera);\n        this.fxaaPass = new ShaderPass(FXAAShader);\n        this.composer.addPass(this.renderPass);\n        this.composer.addPass(this.fxaaPass);\n        this.updateComposerSize();\n    }\n    setSize(width, height) {\n        super.setSize(width, height);\n        if (this.composer !== undefined) {\n            this.updateComposerSize();\n        }\n    }\n    updateComposerSize() {\n        this.composer.setSize(this.width, this.height);\n        const pixelRatio = this.renderer.getPixelRatio();\n        this.composer.setPixelRatio(pixelRatio);\n        this.fxaaPass.material.uniforms[\"resolution\"].value.x = 1 / (this.width * pixelRatio);\n        this.fxaaPass.material.uniforms[\"resolution\"].value.y = 1 / (this.height * pixelRatio);\n    }\n    render() {\n        this.composer.render();\n    }\n    dispose() {\n        super.dispose();\n        this.fxaaPass.fsQuad.dispose();\n    }\n}\n//# sourceMappingURL=fxaa.js.map","import * as skinview3d from \"skinview3d\";\n\nconst skinParts = [\"head\", \"body\", \"rightArm\", \"leftArm\", \"rightLeg\", \"leftLeg\"];\nconst skinLayers = [\"innerLayer\", \"outerLayer\"];\nconst availableAnimations = {\n\twalk: skinview3d.WalkingAnimation,\n\trun: skinview3d.RunningAnimation,\n\tfly: skinview3d.FlyingAnimation\n};\n\nlet skinViewer;\nlet orbitControl;\nlet rotateAnimation;\nlet primaryAnimation;\n\nfunction reloadSkin() {\n\tconst input = document.getElementById(\"skin_url\");\n\tconst url = input.value;\n\tif (url === \"\") {\n\t\tskinViewer.loadSkin(null);\n\t\tinput.setCustomValidity(\"\");\n\t} else {\n\t\tskinViewer.loadSkin(url, document.getElementById(\"skin_model\").value)\n\t\t\t.then(() => input.setCustomValidity(\"\"))\n\t\t\t.catch(e => {\n\t\t\t\tinput.setCustomValidity(\"Image can't be loaded.\");\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t}\n}\n\nfunction reloadCape() {\n\tconst input = document.getElementById(\"cape_url\");\n\tconst url = input.value;\n\tif (url === \"\") {\n\t\tskinViewer.loadCape(null);\n\t\tinput.setCustomValidity(\"\");\n\t} else {\n\t\tconst selectedBackEquipment = document.querySelector('input[type=\"radio\"][name=\"back_equipment\"]:checked');\n\t\tskinViewer.loadCape(url, { backEquipment: selectedBackEquipment.value })\n\t\t\t.then(() => input.setCustomValidity(\"\"))\n\t\t\t.catch(e => {\n\t\t\t\tinput.setCustomValidity(\"Image can't be loaded.\");\n\t\t\t\tconsole.error(e);\n\t\t\t});\n\t}\n}\n\nfunction initializeControls() {\n\tdocument.getElementById(\"canvas_width\").addEventListener(\"change\", e => skinViewer.width = e.target.value);\n\tdocument.getElementById(\"canvas_height\").addEventListener(\"change\", e => skinViewer.height = e.target.value);\n\tdocument.getElementById(\"global_animation_speed\").addEventListener(\"change\", e => skinViewer.animations.speed = e.target.value);\n\tdocument.getElementById(\"animation_pause_resume\").addEventListener(\"click\", () => skinViewer.animations.paused = !skinViewer.animations.paused);\n\tdocument.getElementById(\"rotate_animation\").addEventListener(\"change\", e => {\n\t\tif (e.target.checked && rotateAnimation === null) {\n\t\t\trotateAnimation = skinViewer.animations.add(skinview3d.RotatingAnimation);\n\t\t\trotateAnimation.speed = document.getElementById(\"rotate_animation_speed\").value;\n\t\t} else if (!e.target.checked && rotateAnimation !== null) {\n\t\t\trotateAnimation.resetAndRemove();\n\t\t\trotateAnimation = null;\n\t\t}\n\t});\n\tdocument.getElementById(\"rotate_animation_speed\").addEventListener(\"change\", e => {\n\t\tif (rotateAnimation !== null) {\n\t\t\trotateAnimation.speed = e.target.value;\n\t\t}\n\t});\n\tfor (const el of document.querySelectorAll('input[type=\"radio\"][name=\"primary_animation\"]')) {\n\t\tel.addEventListener(\"change\", e => {\n\t\t\tif (primaryAnimation !== null) {\n\t\t\t\tprimaryAnimation.resetAndRemove();\n\t\t\t\tprimaryAnimation = null;\n\t\t\t}\n\t\t\tif (e.target.value !== \"\") {\n\t\t\t\tprimaryAnimation = skinViewer.animations.add(availableAnimations[e.target.value]);\n\t\t\t\tprimaryAnimation.speed = document.getElementById(\"primary_animation_speed\").value;\n\t\t\t}\n\t\t});\n\t}\n\tdocument.getElementById(\"primary_animation_speed\").addEventListener(\"change\", e => {\n\t\tif (primaryAnimation !== null) {\n\t\t\tprimaryAnimation.speed = e.target.value;\n\t\t}\n\t});\n\tdocument.getElementById(\"control_rotate\").addEventListener(\"change\", e => orbitControl.enableRotate = e.target.checked);\n\tdocument.getElementById(\"control_zoom\").addEventListener(\"change\", e => orbitControl.enableZoom = e.target.checked);\n\tdocument.getElementById(\"control_pan\").addEventListener(\"change\", e => orbitControl.enablePan = e.target.checked);\n\tfor (const part of skinParts) {\n\t\tfor (const layer of skinLayers) {\n\t\t\tdocument.querySelector(`#layers_table input[type=\"checkbox\"][data-part=\"${part}\"][data-layer=\"${layer}\"]`)\n\t\t\t\t.addEventListener(\"change\", e => skinViewer.playerObject.skin[part][layer].visible = e.target.checked);\n\t\t}\n\t}\n\tconst skinReader = new FileReader();\n\tskinReader.addEventListener(\"load\", e => {\n\t\tdocument.getElementById(\"skin_url\").value = skinReader.result;\n\t\treloadSkin();\n\t});\n\tdocument.getElementById(\"skin_url_upload\").addEventListener(\"change\", e => {\n\t\tconst file = e.target.files[0];\n\t\tif (file !== undefined) {\n\t\t\tskinReader.readAsDataURL(file);\n\t\t}\n\t});\n\tconst capeReader = new FileReader();\n\tcapeReader.addEventListener(\"load\", e => {\n\t\tdocument.getElementById(\"cape_url\").value = capeReader.result;\n\t\treloadCape();\n\t});\n\tdocument.getElementById(\"cape_url_upload\").addEventListener(\"change\", e => {\n\t\tconst file = e.target.files[0];\n\t\tif (file !== undefined) {\n\t\t\tcapeReader.readAsDataURL(file);\n\t\t}\n\t});\n\tdocument.getElementById(\"skin_url\").addEventListener(\"change\", () => reloadSkin());\n\tdocument.getElementById(\"skin_model\").addEventListener(\"change\", () => reloadSkin());\n\tdocument.getElementById(\"cape_url\").addEventListener(\"change\", () => reloadCape());\n\n\tfor (const el of document.querySelectorAll('input[type=\"radio\"][name=\"back_equipment\"]')) {\n\t\tel.addEventListener(\"change\", e => {\n\t\t\tif (skinViewer.playerObject.backEquipment === null) {\n\t\t\t\t// cape texture hasn't been loaded yet\n\t\t\t\t// this option will be processed on texture loading\n\t\t\t} else {\n\t\t\t\tskinViewer.playerObject.backEquipment = e.target.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tdocument.getElementById(\"reset_all\").addEventListener(\"click\", () => {\n\t\tskinViewer.dispose();\n\t\torbitControl.dispose();\n\t\tinitializeViewer();\n\t});\n}\n\nfunction initializeViewer() {\n\tskinViewer = new skinview3d.FXAASkinViewer({\n\t\tcanvas: document.getElementById(\"skin_container\"),\n\t\talpha: false\n\t});\n\tskinViewer.renderer.setClearColor(0x5a76f3);\n\torbitControl = skinview3d.createOrbitControls(skinViewer);\n\trotateAnimation = null;\n\tprimaryAnimation = null;\n\n\tskinViewer.width = document.getElementById(\"canvas_width\").value;\n\tskinViewer.height = document.getElementById(\"canvas_height\").value;\n\tskinViewer.animations.speed = document.getElementById(\"global_animation_speed\").value;\n\tif (document.getElementById(\"rotate_animation\").checked) {\n\t\trotateAnimation = skinViewer.animations.add(skinview3d.RotatingAnimation);\n\t\trotateAnimation.speed = document.getElementById(\"rotate_animation_speed\").value;\n\t}\n\tconst primaryAnimationName = document.querySelector('input[type=\"radio\"][name=\"primary_animation\"]:checked').value;\n\tif (primaryAnimationName !== \"\") {\n\t\tprimaryAnimation = skinViewer.animations.add(availableAnimations[primaryAnimationName]);\n\t\tprimaryAnimation.speed = document.getElementById(\"primary_animation_speed\").value;\n\t}\n\torbitControl.enableRotate = document.getElementById(\"control_rotate\").checked;\n\torbitControl.enableZoom = document.getElementById(\"control_zoom\").checked;\n\torbitControl.enablePan = document.getElementById(\"control_pan\").checked;\n\tfor (const part of skinParts) {\n\t\tfor (const layer of skinLayers) {\n\t\t\tskinViewer.playerObject.skin[part][layer].visible =\n\t\t\t\tdocument.querySelector(`#layers_table input[type=\"checkbox\"][data-part=\"${part}\"][data-layer=\"${layer}\"]`).checked;\n\t\t}\n\t}\n\treloadSkin();\n\treloadCape();\n}\n\ninitializeControls();\ninitializeViewer();\n","import { Vector3 } from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nexport function createOrbitControls(skinViewer) {\n    const control = new OrbitControls(skinViewer.camera, skinViewer.renderer.domElement);\n    // default configuration\n    control.enablePan = false;\n    control.target = new Vector3(0, -8, 0);\n    control.minDistance = 10;\n    control.maxDistance = 256;\n    control.update();\n    return control;\n}\n//# sourceMappingURL=orbit_controls.js.map"],"sourceRoot":""}